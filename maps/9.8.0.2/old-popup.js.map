{"version":3,"file":"../../popup/old-popup.js","names":["$","document","querySelector","bind","twpConfig","onReady","then","twpI18n","updateUiMessages","translateDocument","navigator","userAgent","includes","body","style","minWidth","onclick","window","location","btnSwitchInterfaces","getElementById","divIconTranslateContainer","divIconTranslate","iconTranslate","lblTranslate","lblTranslating","lblTranslated","lblError","lblTargetLanguage","divAlwaysTranslate","cbAlwaysTranslate","lblAlwaysTranslate","selectTargetLanguage","divOptionsList","btnReset","btnTranslate","btnRestore","btnTryAgain","btnOptionsDiv","btnOptions","divShowTranslateSelectedButton","cbShowTranslateSelectedButton","oninput","e","console","log","target","checked","set","get","open","innerHTML","cStyle","getComputedStyle","width","parseInt","langs","twpLang","getLanguageList","textContent","getMessage","langsSorted","i","push","sort","a","b","localeCompare","eAllLangs","forEach","value","option","createElement","appendChild","eRecentsLangs","enableDarkMode","el","setAttribute","head","disableDarkMode","remove","matchMedia","matches","originalTabLanguage","currentPageLanguage","currentPageLanguageState","currentPageTranslatorService","chrome","tabs","query","active","currentWindow","sendMessage","id","action","frameId","tabLanguage","checkedLastError","fixTLanguageCode","pageLanguage","updateInterface","pageLanguageState","pageTranslatorService","showSelectTargetLanguage","showAlwaysTranslateCheckbox","indexOf","codeToLanguage","translatedWhenHoveringThisLangText","removeAttribute","neverTranslateLangText","display","className","replace","setTargetLanguage","targetLanguage","addEventListener","swapPageTranslationService","newServiceName","hostname","URL","url","addLangToAlwaysTranslate","removeLangFromAlwaysTranslate","event","addSiteToAlwaysTranslate","removeSiteFromAlwaysTranslate","close","addSiteToNeverTranslate","removeSiteFromNeverTranslate","addLangToNeverTranslate","removeLangFromNeverTranslate","addSiteToTranslateWhenHovering","removeSiteFromTranslateWhenHovering","addLangToTranslateWhenHovering","removeLangFromTranslateWhenHovering","create","encodeURIComponent","split","runtime","getURL","btnNeverTranslateText","btnAlwaysTranslateText","text"],"sources":["old-popup.js"],"sourcesContent":["\"use strict\";\r\n\r\nvar $ = document.querySelector.bind(document);\r\n\r\ntwpConfig.onReady().then(() => twpI18n.updateUiMessages()).then(() => {\r\n  twpI18n.translateDocument();\r\n\r\n  if (!navigator.userAgent.includes(\"Firefox\")) {\r\n    document.body.style.minWidth = \"300px\";\r\n  }\r\n\r\n  $(\"#btnImproveTranslation\").onclick = () => {\r\n    window.location = \"improve-translation.html\";\r\n  };\r\n\r\n  // get elements\r\n  const btnSwitchInterfaces = document.getElementById(\"btnSwitchInterfaces\");\r\n  const divIconTranslateContainer = document.getElementById(\r\n    \"divIconTranslateContainer\"\r\n  );\r\n  const divIconTranslate = document.getElementById(\"divIconTranslate\");\r\n  const iconTranslate = document.getElementById(\"iconTranslate\");\r\n\r\n  const lblTranslate = document.getElementById(\"lblTranslate\");\r\n  const lblTranslating = document.getElementById(\"lblTranslating\");\r\n  const lblTranslated = document.getElementById(\"lblTranslated\");\r\n  const lblError = document.getElementById(\"lblError\");\r\n  const lblTargetLanguage = document.getElementById(\"lblTargetLanguage\");\r\n\r\n  const divAlwaysTranslate = document.getElementById(\r\n    \"divAlwaysTranslateThisLang\"\r\n  );\r\n  const cbAlwaysTranslate = document.getElementById(\r\n    \"cbAlwaysTranslateThisLang\"\r\n  );\r\n  const lblAlwaysTranslate = document.getElementById(\r\n    \"lblAlwaysTranslateThisLang\"\r\n  );\r\n\r\n  const selectTargetLanguage = document.getElementById(\"selectTargetLanguage\");\r\n\r\n  const divOptionsList = document.getElementById(\"divOptionsList\");\r\n\r\n  const btnReset = document.getElementById(\"btnReset\");\r\n  const btnTranslate = document.getElementById(\"btnTranslate\");\r\n  const btnRestore = document.getElementById(\"btnRestore\");\r\n  const btnTryAgain = document.getElementById(\"btnTryAgain\");\r\n  const btnOptionsDiv = document.getElementById(\"btnOptionsDiv\");\r\n  const btnOptions = document.getElementById(\"btnOptions\");\r\n  const divShowTranslateSelectedButton = document.getElementById(\r\n    \"divShowTranslateSelectedButton\"\r\n  );\r\n  const cbShowTranslateSelectedButton = document.getElementById(\r\n    \"cbShowTranslateSelectedButton\"\r\n  );\r\n\r\n  cbShowTranslateSelectedButton.oninput = (e) => {\r\n    console.log(e.target.checked);\r\n    twpConfig.set(\r\n      \"showTranslateSelectedButton\",\r\n      e.target.checked ? \"yes\" : \"no\"\r\n    );\r\n  };\r\n  cbShowTranslateSelectedButton.checked =\r\n    twpConfig.get(\"showTranslateSelectedButton\") == \"yes\" ? true : false;\r\n\r\n  $(\"#btnPatreon\").onclick = (e) => {\r\n    window.open(\"https://www.patreon.com/filipeps\", \"_blank\");\r\n  };\r\n\r\n  $(\"#btnOptionB\").innerHTML += ' <i class=\"arrow down\"></i>';\r\n  $(\"#btnOptions option[value='donate']\").innerHTML += \" &#10084;\";\r\n\r\n  var cStyle = getComputedStyle(document.querySelector(\"#btnOptionB\"));\r\n  btnOptions.style.width = parseInt(cStyle.width) + 0 + \"px\";\r\n\r\n  // fill language list\r\n  {\r\n    let langs = twpLang.getLanguageList();\r\n    lblTranslate.textContent = twpI18n.getMessage(\r\n      \"lblTranslatePageInto\",\r\n      langs[twpConfig.get(\"targetLanguage\")] || twpConfig.get(\"targetLanguage\")\r\n    );\r\n    lblTranslated.textContent = twpI18n.getMessage(\r\n      \"lblPageTranslateInto\",\r\n      langs[twpConfig.get(\"targetLanguage\")] || twpConfig.get(\"targetLanguage\")\r\n    );\r\n\r\n    const langsSorted = [];\r\n\r\n    for (const i in langs) {\r\n      langsSorted.push([i, langs[i]]);\r\n    }\r\n\r\n    langsSorted.sort(function (a, b) {\r\n      return a[1].localeCompare(b[1]);\r\n    });\r\n\r\n    const eAllLangs = selectTargetLanguage.querySelector('[name=\"all\"]');\r\n    langsSorted.forEach((value) => {\r\n      const option = document.createElement(\"option\");\r\n      option.value = value[0];\r\n      option.textContent = value[1];\r\n      eAllLangs.appendChild(option);\r\n    });\r\n\r\n    const eRecentsLangs =\r\n      selectTargetLanguage.querySelector('[name=\"recents\"]');\r\n    twpConfig.get(\"targetLanguages\").forEach((value) => {\r\n      const option = document.createElement(\"option\");\r\n      option.value = value;\r\n      option.textContent = langs[value];\r\n      eRecentsLangs.appendChild(option);\r\n    });\r\n  }\r\n  selectTargetLanguage.value = twpConfig.get(\"targetLanguage\");\r\n\r\n  function enableDarkMode() {\r\n    if (!document.getElementById(\"darkModeElement\")) {\r\n      const el = document.createElement(\"style\");\r\n      el.setAttribute(\"id\", \"darkModeElement\");\r\n      el.setAttribute(\"rel\", \"stylesheet\");\r\n      el.textContent = `\r\n            * {\r\n                scrollbar-color: #202324 #454a4d;\r\n            }\r\n            \r\n            body {\r\n                color: #e8e6e3 !important;\r\n                background-color: #181a1b !important;\r\n                border: 1px solid #454a4d;\r\n            }\r\n            \r\n            #btnSwitchInterfaces:hover {\r\n                background-color: #454a4d !important;\r\n                color: rgb(231, 230, 228) !important;\r\n            }\r\n            \r\n            #selectTargetLanguage, #btnReset, #btnRestore, #btnTryAgain, #btnOptionB, #btnImproveTranslation {\r\n                color: #55a9ed !important;\r\n                background-color: #181a1b !important;\r\n                border: 1px solid #454a4d !important;\r\n            }\r\n\r\n            #btnImproveTranslation {\r\n              color: rgb(231, 230, 228) !important;\r\n            }\r\n\r\n            select, option {\r\n              color: GhostWhite !important;\r\n              background-color: #181a1b !important;\r\n            }\r\n            `;\r\n      document.head.appendChild(el);\r\n    }\r\n  }\r\n\r\n  function disableDarkMode() {\r\n    if (document.getElementById(\"darkModeElement\")) {\r\n      document.getElementById(\"darkModeElement\").remove();\r\n    }\r\n  }\r\n\r\n  if (twpConfig.get(\"darkMode\") == \"auto\") {\r\n    if (matchMedia(\"(prefers-color-scheme: dark)\").matches) {\r\n      enableDarkMode();\r\n    } else {\r\n      disableDarkMode();\r\n    }\r\n  } else if (twpConfig.get(\"darkMode\") == \"yes\") {\r\n    enableDarkMode();\r\n  } else {\r\n    disableDarkMode();\r\n  }\r\n\r\n  let originalTabLanguage = \"und\";\r\n  let currentPageLanguage = \"und\";\r\n  let currentPageLanguageState = \"original\";\r\n  let currentPageTranslatorService = twpConfig.get(\"pageTranslatorService\");\r\n\r\n  chrome.tabs.query(\r\n    {\r\n      active: true,\r\n      currentWindow: true,\r\n    },\r\n    (tabs) => {\r\n      chrome.tabs.sendMessage(\r\n        tabs[0].id,\r\n        {\r\n          action: \"getOriginalTabLanguage\",\r\n        },\r\n        {\r\n          frameId: 0,\r\n        },\r\n        (tabLanguage) => {\r\n          checkedLastError();\r\n          if (\r\n            tabLanguage &&\r\n            (tabLanguage = twpLang.fixTLanguageCode(tabLanguage))\r\n          ) {\r\n            originalTabLanguage = tabLanguage;\r\n          }\r\n        }\r\n      );\r\n\r\n      chrome.tabs.sendMessage(\r\n        tabs[0].id,\r\n        {\r\n          action: \"getCurrentPageLanguage\",\r\n        },\r\n        {\r\n          frameId: 0,\r\n        },\r\n        (pageLanguage) => {\r\n          checkedLastError();\r\n          if (pageLanguage) {\r\n            currentPageLanguage = pageLanguage;\r\n            updateInterface();\r\n          }\r\n        }\r\n      );\r\n\r\n      chrome.tabs.sendMessage(\r\n        tabs[0].id,\r\n        {\r\n          action: \"getCurrentPageLanguageState\",\r\n        },\r\n        {\r\n          frameId: 0,\r\n        },\r\n        (pageLanguageState) => {\r\n          checkedLastError();\r\n          if (pageLanguageState) {\r\n            currentPageLanguageState = pageLanguageState;\r\n            updateInterface();\r\n          }\r\n        }\r\n      );\r\n\r\n      chrome.tabs.sendMessage(\r\n        tabs[0].id,\r\n        {\r\n          action: \"getCurrentPageTranslatorService\",\r\n        },\r\n        {\r\n          frameId: 0,\r\n        },\r\n        (pageTranslatorService) => {\r\n          checkedLastError();\r\n          if (pageTranslatorService) {\r\n            currentPageTranslatorService = pageTranslatorService;\r\n            updateInterface();\r\n          }\r\n        }\r\n      );\r\n    }\r\n  );\r\n\r\n  let showSelectTargetLanguage = false;\r\n\r\n  function updateInterface() {\r\n    if (currentPageTranslatorService == \"yandex\") {\r\n      $(\"#btnOptions option[value='translateInExternalSite']\").textContent =\r\n        twpI18n.getMessage(\"msgOpenOnYandexTranslator\");\r\n      $(\"#iconTranslate\").setAttribute(\"src\", \"/icons/yandex-translate-32.png\");\r\n    } else if (currentPageTranslatorService == \"bing\") {\r\n      $(\"#btnOptions option[value='translateInExternalSite']\").textContent =\r\n        twpI18n.getMessage(\"btnOpenOnGoogleTranslate\");\r\n      $(\"#iconTranslate\").setAttribute(\"src\", \"/icons/bing-translate-32.png\");\r\n    } else {\r\n      // google\r\n      $(\"#btnOptions option[value='translateInExternalSite']\").textContent =\r\n        twpI18n.getMessage(\"btnOpenOnGoogleTranslate\");\r\n      $(\"#iconTranslate\").setAttribute(\"src\", \"/icons/google-translate-32.png\");\r\n    }\r\n\r\n    let showAlwaysTranslateCheckbox = false;\r\n\r\n    if (\r\n      originalTabLanguage !== \"und\" &&\r\n      originalTabLanguage !== twpConfig.get(\"targetLanguage\")\r\n    ) {\r\n      showAlwaysTranslateCheckbox = true;\r\n    }\r\n\r\n    if (originalTabLanguage !== \"und\") {\r\n      $(\"#cbAlwaysTranslateThisLang\").checked =\r\n        twpConfig.get(\"alwaysTranslateLangs\").indexOf(originalTabLanguage) !==\r\n        -1;\r\n      $(\"#lblAlwaysTranslateThisLang\").textContent = twpI18n.getMessage(\r\n        \"lblAlwaysTranslate\",\r\n        twpLang.codeToLanguage(originalTabLanguage)\r\n      );\r\n\r\n      const translatedWhenHoveringThisLangText = twpI18n.getMessage(\r\n        \"lblShowTranslatedWhenHoveringThisLang\",\r\n        twpLang.codeToLanguage(originalTabLanguage)\r\n      );\r\n      if (\r\n        twpConfig\r\n          .get(\"langsToTranslateWhenHovering\")\r\n          .indexOf(originalTabLanguage) === -1\r\n      ) {\r\n        $(\r\n          \"option[data-i18n=lblShowTranslatedWhenHoveringThisLang]\"\r\n        ).textContent = translatedWhenHoveringThisLangText;\r\n      } else {\r\n        $(\r\n          \"option[data-i18n=lblShowTranslatedWhenHoveringThisLang]\"\r\n        ).textContent = \"✔ \" + translatedWhenHoveringThisLangText;\r\n      }\r\n      $(\r\n        \"option[data-i18n=lblShowTranslatedWhenHoveringThisLang]\"\r\n      ).removeAttribute(\"hidden\");\r\n\r\n      const neverTranslateLangText = twpI18n.getMessage(\r\n        \"btnNeverTranslateThisLanguage\"\r\n      );\r\n      if (\r\n        twpConfig.get(\"neverTranslateLangs\").indexOf(originalTabLanguage) === -1\r\n      ) {\r\n        $(\"option[data-i18n=btnNeverTranslateThisLanguage]\").textContent =\r\n          neverTranslateLangText;\r\n      } else {\r\n        $(\"option[data-i18n=btnNeverTranslateThisLanguage]\").textContent =\r\n          \"✔ \" + neverTranslateLangText;\r\n      }\r\n      $(\"option[data-i18n=btnNeverTranslateThisLanguage]\").style.display =\r\n        \"block\";\r\n    }\r\n\r\n    btnRestore.className = btnRestore.className.replace(\" w3-disabled\", \"\");\r\n    cbAlwaysTranslate.removeAttribute(\"disabled\");\r\n\r\n    if (showSelectTargetLanguage) {\r\n      lblTranslate.style.display = \"none\";\r\n      lblTranslating.style.display = \"none\";\r\n      lblTranslated.style.display = \"none\";\r\n      lblError.style.display = \"none\";\r\n      lblTargetLanguage.style.display = \"inline\";\r\n\r\n      selectTargetLanguage.style.display = \"inline\";\r\n      btnReset.style.display = \"inline\";\r\n\r\n      divAlwaysTranslate.style.display = \"none\";\r\n      btnTranslate.style.display = \"inline\";\r\n      btnRestore.style.display = \"none\";\r\n      btnTryAgain.style.display = \"none\";\r\n      btnOptionsDiv.style.display = \"none\";\r\n    } else {\r\n      divIconTranslateContainer.style.display = \"none\";\r\n      lblTargetLanguage.style.display = \"none\";\r\n      selectTargetLanguage.style.display = \"none\";\r\n      btnReset.style.display = \"none\";\r\n\r\n      divShowTranslateSelectedButton.style.display = \"none\";\r\n\r\n      switch (currentPageLanguageState) {\r\n        case \"translated\":\r\n          lblTranslate.style.display = \"none\";\r\n          lblTranslating.style.display = \"none\";\r\n          lblTranslated.style.display = \"inline\";\r\n          lblError.style.display = \"none\";\r\n\r\n          divAlwaysTranslate.style.display = \"none\";\r\n          btnTranslate.style.display = \"none\";\r\n          btnRestore.style.display = \"inline\";\r\n          btnTryAgain.style.display = \"none\";\r\n          btnOptionsDiv.style.display = \"inline\";\r\n\r\n          divShowTranslateSelectedButton.style.display = \"block\";\r\n\r\n          break;\r\n        case \"translating\":\r\n          lblTranslate.style.display = \"none\";\r\n          lblTranslating.style.display = \"inline\";\r\n          lblTranslated.style.display = \"none\";\r\n          lblError.style.display = \"none\";\r\n\r\n          divAlwaysTranslate.style.display = \"none\";\r\n          btnTranslate.style.display = \"none\";\r\n          btnRestore.style.display = \"inline\";\r\n          btnTryAgain.style.display = \"none\";\r\n          btnOptionsDiv.style.display = \"none\";\r\n\r\n          if (btnRestore.className.indexOf(\"w3-disabled\") == -1) {\r\n            btnRestore.className += \" w3-disabled\";\r\n          }\r\n          break;\r\n        case \"error\":\r\n          lblTranslate.style.display = \"none\";\r\n          lblTranslating.style.display = \"none\";\r\n          lblTranslated.style.display = \"none\";\r\n          lblError.style.display = \"inline\";\r\n\r\n          divAlwaysTranslate.style.display = \"none\";\r\n          btnTranslate.style.display = \"none\";\r\n          btnRestore.style.display = \"none\";\r\n          btnTryAgain.style.display = \"inline\";\r\n          btnOptionsDiv.style.display = \"none\";\r\n\r\n          divIconTranslateContainer.style.display = \"block\";\r\n          break;\r\n        default:\r\n          lblTranslate.style.display = \"inline\";\r\n          lblTranslating.style.display = \"none\";\r\n          lblTranslated.style.display = \"none\";\r\n          lblError.style.display = \"none\";\r\n\r\n          divAlwaysTranslate.style.display = \"block\";\r\n          showAlwaysTranslateCheckbox\r\n            ? void 0\r\n            : cbAlwaysTranslate.setAttribute(\"disabled\", \"disabled\");\r\n          btnTranslate.style.display = \"inline\";\r\n          btnRestore.style.display = \"none\";\r\n          btnTryAgain.style.display = \"none\";\r\n          btnOptionsDiv.style.display = \"inline\";\r\n\r\n          divIconTranslateContainer.style.display = \"block\";\r\n          break;\r\n      }\r\n    }\r\n  }\r\n  updateInterface();\r\n\r\n  $(\"#btnTranslate\").onclick = (e) => {\r\n    currentPageLanguageState = \"translated\";\r\n\r\n    chrome.tabs.query(\r\n      {\r\n        active: true,\r\n        currentWindow: true,\r\n      },\r\n      (tabs) => {\r\n        if (twpConfig.get(\"targetLanguage\") !== selectTargetLanguage.value) {\r\n          twpConfig.setTargetLanguage(selectTargetLanguage.value, true);\r\n        } else {\r\n          twpConfig.setTargetLanguage(selectTargetLanguage.value);\r\n        }\r\n\r\n        const langs = twpLang.getLanguageList();\r\n        lblTranslate.textContent = twpI18n.getMessage(\r\n          \"lblTranslatePageInto\",\r\n          langs[twpConfig.get(\"targetLanguage\")] ||\r\n            twpConfig.get(\"targetLanguage\")\r\n        );\r\n        lblTranslated.textContent = twpI18n.getMessage(\r\n          \"lblPageTranslateInto\",\r\n          langs[twpConfig.get(\"targetLanguage\")] ||\r\n            twpConfig.get(\"targetLanguage\")\r\n        );\r\n\r\n        chrome.tabs.sendMessage(\r\n          tabs[0].id,\r\n          {\r\n            action: \"translatePage\",\r\n            targetLanguage: selectTargetLanguage.value,\r\n          },\r\n          checkedLastError\r\n        );\r\n      }\r\n    );\r\n\r\n    showSelectTargetLanguage = false;\r\n    updateInterface();\r\n  };\r\n\r\n  $(\"#btnRestore\").onclick = (e) => {\r\n    currentPageLanguageState = \"original\";\r\n\r\n    chrome.tabs.query(\r\n      {\r\n        active: true,\r\n        currentWindow: true,\r\n      },\r\n      (tabs) => {\r\n        chrome.tabs.sendMessage(\r\n          tabs[0].id,\r\n          {\r\n            action: \"restorePage\",\r\n          },\r\n          checkedLastError\r\n        );\r\n      }\r\n    );\r\n\r\n    updateInterface();\r\n  };\r\n\r\n  $(\"#btnSwitchInterfaces\").addEventListener(\"click\", () => {\r\n    twpConfig.set(\"useOldPopup\", \"no\");\r\n    window.location = \"popup.html\";\r\n  });\r\n\r\n  $(\"#divIconTranslate\").addEventListener(\"click\", () => {\r\n    currentPageTranslatorService = twpConfig.swapPageTranslationService();\r\n\r\n    chrome.tabs.query(\r\n      {\r\n        active: true,\r\n        currentWindow: true,\r\n      },\r\n      (tabs) => {\r\n        chrome.tabs.sendMessage(\r\n          tabs[0].id,\r\n          {\r\n            action: \"swapTranslationService\",\r\n            newServiceName: currentPageTranslatorService,\r\n          },\r\n          checkedLastError\r\n        );\r\n      }\r\n    );\r\n\r\n    updateInterface();\r\n  });\r\n\r\n  chrome.tabs.query(\r\n    {\r\n      active: true,\r\n      currentWindow: true,\r\n    },\r\n    (tabs) => {\r\n      $(\"#cbAlwaysTranslateThisLang\").addEventListener(\"change\", (e) => {\r\n        const hostname = new URL(tabs[0].url).hostname;\r\n        if (e.target.checked) {\r\n          twpConfig.addLangToAlwaysTranslate(originalTabLanguage, hostname);\r\n        } else {\r\n          twpConfig.removeLangFromAlwaysTranslate(originalTabLanguage);\r\n        }\r\n      });\r\n    }\r\n  );\r\n\r\n  $(\"#btnOptions\").addEventListener(\"change\", (event) => {\r\n    const btnOptions = event.target;\r\n\r\n    chrome.tabs.query(\r\n      {\r\n        active: true,\r\n        currentWindow: true,\r\n      },\r\n      (tabs) => {\r\n        const hostname = new URL(tabs[0].url).hostname;\r\n        switch (btnOptions.value) {\r\n          case \"changeLanguage\":\r\n            showSelectTargetLanguage = true;\r\n            updateInterface();\r\n            break;\r\n          case \"alwaysTranslateThisSite\":\r\n            if (\r\n              twpConfig.get(\"alwaysTranslateSites\").indexOf(hostname) === -1\r\n            ) {\r\n              twpConfig.addSiteToAlwaysTranslate(hostname);\r\n            } else {\r\n              twpConfig.removeSiteFromAlwaysTranslate(hostname);\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"neverTranslateThisSite\":\r\n            if (twpConfig.get(\"neverTranslateSites\").indexOf(hostname) === -1) {\r\n              twpConfig.addSiteToNeverTranslate(hostname);\r\n            } else {\r\n              twpConfig.removeSiteFromNeverTranslate(hostname);\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"alwaysTranslateThisLanguage\":\r\n            twpConfig.addLangToAlwaysTranslate(originalTabLanguage, hostname);\r\n            break;\r\n          case \"neverTranslateThisLanguage\":\r\n            if (\r\n              twpConfig\r\n                .get(\"neverTranslateLangs\")\r\n                .indexOf(originalTabLanguage) === -1\r\n            ) {\r\n              twpConfig.addLangToNeverTranslate(originalTabLanguage, hostname);\r\n            } else {\r\n              twpConfig.removeLangFromNeverTranslate(originalTabLanguage);\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"showTranslateSelectedButton\":\r\n            if (twpConfig.get(\"showTranslateSelectedButton\") === \"yes\") {\r\n              twpConfig.set(\"showTranslateSelectedButton\", \"no\");\r\n            } else {\r\n              twpConfig.set(\"showTranslateSelectedButton\", \"yes\");\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"showOriginalTextWhenHovering\":\r\n            if (twpConfig.get(\"showOriginalTextWhenHovering\") === \"yes\") {\r\n              twpConfig.set(\"showOriginalTextWhenHovering\", \"no\");\r\n            } else {\r\n              twpConfig.set(\"showOriginalTextWhenHovering\", \"yes\");\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"showTranslatedWhenHoveringThisSite\":\r\n            if (\r\n              twpConfig\r\n                .get(\"sitesToTranslateWhenHovering\")\r\n                .indexOf(hostname) === -1\r\n            ) {\r\n              twpConfig.addSiteToTranslateWhenHovering(hostname);\r\n            } else {\r\n              twpConfig.removeSiteFromTranslateWhenHovering(hostname);\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"showTranslatedWhenHoveringThisLang\":\r\n            if (\r\n              twpConfig\r\n                .get(\"langsToTranslateWhenHovering\")\r\n                .indexOf(originalTabLanguage) === -1\r\n            ) {\r\n              twpConfig.addLangToTranslateWhenHovering(originalTabLanguage);\r\n            } else {\r\n              twpConfig.removeLangFromTranslateWhenHovering(\r\n                originalTabLanguage\r\n              );\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"translateInExternalSite\":\r\n            chrome.tabs.query(\r\n              {\r\n                active: true,\r\n                currentWindow: true,\r\n              },\r\n              (tabs) => {\r\n                if (currentPageTranslatorService === \"yandex\") {\r\n                  chrome.tabs.create({\r\n                    url: `https://translate.yandex.com/translate?view=compact&url=${encodeURIComponent(\r\n                      tabs[0].url\r\n                    )}&lang=${twpConfig.get(\"targetLanguage\").split(\"-\")[0]}`,\r\n                  });\r\n                } else {\r\n                  // google\r\n                  chrome.tabs.create({\r\n                    url: `https://translate.google.com/translate?tl=${twpConfig.get(\r\n                      \"targetLanguage\"\r\n                    )}&u=${encodeURIComponent(tabs[0].url)}`,\r\n                  });\r\n                }\r\n              }\r\n            );\r\n            break;\r\n          case \"moreOptions\":\r\n            chrome.tabs.create({\r\n              url: chrome.runtime.getURL(\"/options/options.html\"),\r\n            });\r\n            break;\r\n          case \"donate\":\r\n            chrome.tabs.create({\r\n              url: chrome.runtime.getURL(\"/options/options.html#donation\"),\r\n            });\r\n            break;\r\n          case \"translatePDF\":\r\n            chrome.tabs.create({\r\n              url: \"https://pdf.translatewebpages.org/\",\r\n            });\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        btnOptions.value = \"options\";\r\n      }\r\n    );\r\n  });\r\n\r\n  chrome.tabs.query(\r\n    {\r\n      active: true,\r\n      currentWindow: true,\r\n    },\r\n    (tabs) => {\r\n      const hostname = new URL(tabs[0].url).hostname;\r\n\r\n      const btnNeverTranslateText = twpI18n.getMessage(\"btnNeverTranslate\");\r\n      if (twpConfig.get(\"neverTranslateSites\").indexOf(hostname) === -1) {\r\n        $(\"option[data-i18n=btnNeverTranslate]\").textContent =\r\n          btnNeverTranslateText;\r\n      } else {\r\n        $(\"option[data-i18n=btnNeverTranslate]\").textContent =\r\n          \"✔ \" + btnNeverTranslateText;\r\n      }\r\n\r\n      const btnAlwaysTranslateText =\r\n        twpI18n.getMessage(\"btnAlwaysTranslate\");\r\n      if (twpConfig.get(\"alwaysTranslateSites\").indexOf(hostname) === -1) {\r\n        $(\"option[data-i18n=btnAlwaysTranslate]\").textContent =\r\n          btnAlwaysTranslateText;\r\n      } else {\r\n        $(\"option[data-i18n=btnAlwaysTranslate]\").textContent =\r\n          \"✔ \" + btnAlwaysTranslateText;\r\n      }\r\n\r\n      {\r\n        const text = twpI18n.getMessage(\"lblShowTranslateSelectedButton\");\r\n        if (twpConfig.get(\"showTranslateSelectedButton\") !== \"yes\") {\r\n          $(\"option[data-i18n=lblShowTranslateSelectedButton]\").textContent =\r\n            text;\r\n        } else {\r\n          $(\"option[data-i18n=lblShowTranslateSelectedButton]\").textContent =\r\n            \"✔ \" + text;\r\n        }\r\n      }\r\n      {\r\n        const text = twpI18n.getMessage(\"lblShowOriginalTextWhenHovering\");\r\n        if (twpConfig.get(\"showOriginalTextWhenHovering\") !== \"yes\") {\r\n          $(\"option[data-i18n=lblShowOriginalTextWhenHovering]\").textContent =\r\n            text;\r\n        } else {\r\n          $(\"option[data-i18n=lblShowOriginalTextWhenHovering]\").textContent =\r\n            \"✔ \" + text;\r\n        }\r\n      }\r\n      {\r\n        const text = twpI18n.getMessage(\r\n          \"lblShowTranslatedWhenHoveringThisSite\"\r\n        );\r\n        if (\r\n          twpConfig.get(\"sitesToTranslateWhenHovering\").indexOf(hostname) === -1\r\n        ) {\r\n          $(\r\n            \"option[data-i18n=lblShowTranslatedWhenHoveringThisSite]\"\r\n          ).textContent = text;\r\n        } else {\r\n          $(\r\n            \"option[data-i18n=lblShowTranslatedWhenHoveringThisSite]\"\r\n          ).textContent = \"✔ \" + text;\r\n        }\r\n      }\r\n    }\r\n  );\r\n});\r\n"],"mappings":"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"}