{"version":3,"file":"../../options/options.js","names":["fetch","then","response","text","responseText","window","scrollTo","document","getElementById","innerHTML","textContent","twpI18n","getMessage","replace","chrome","runtime","getManifest","name","version","$","querySelector","bind","twpConfig","onReady","updateUiMessages","sessionStorage","getItem","translateDocument","temporaryUiLanguage","removeItem","platformInfo","isMobile","any","style","createElement","head","appendChild","pageAction","sideBarIsVisible","onclick","e","classList","toggle","display","hashchange","hash","location","divs","forEach","element","querySelectorAll","a","remove","add","addEventListener","fillLanguageList","select","langs","twpLang","getLanguageList","langsSorted","i","push","sort","b","localeCompare","value","option","updateDarkMode","get","matchMedia","matches","enableDarkMode","disableDarkMode","onchange","target","set","setItem","reload","fixUILanguageCode","targetLanguage","setTargetLanguage","targetLanguageTextTranslation","targetLanguages","indexOf","createNodeToNeverTranslateLangsList","langCode","langName","li","setAttribute","close","preventDefault","removeLangFromNeverTranslate","neverTranslateLangs","codeToLanguage","addLangToNeverTranslate","createNodeToAlwaysTranslateLangsList","removeLangFromAlwaysTranslate","alwaysTranslateLangs","addLangToAlwaysTranslate","createNodeToLangsToTranslateWhenHoveringList","removeLangFromTranslateWhenHovering","langsToTranslateWhenHovering","addLangToTranslateWhenHovering","createNodeToAlwaysTranslateSitesList","hostname","removeSiteFromAlwaysTranslate","alwaysTranslateSites","prompt","addSiteToAlwaysTranslate","createNodeToNeverTranslateSitesList","removeSiteFromNeverTranslate","neverTranslateSites","addSiteToNeverTranslate","createcustomDictionary","keyWord","customValue","removeKeyWordFromcustomDictionary","customDictionary","Map","entries","String","length","trim","toLowerCase","addKeyWordTocustomDictionary","createNodeToSitesToTranslateWhenHoveringList","removeSiteFromTranslateWhenHovering","sitesToTranslateWhenHovering","addSiteToTranslateWhenHovering","oninput","permissions","request","granted","removeAttribute","onChanged","newvalue","enableOrDisableTranslateSelectedAdvancedOptions","input","checked","escapeHtml","unsafe","tabs","create","url","defaultShortcuts","Object","keys","commands","info","suggested_key","default","addHotkey","hotkeyname","description","error","removeKey","resetKey","setError","errorname","getKeyString","result","ctrlKey","altKey","shiftKey","code","match","setShortcut","keystring","hotkeys","browser","update","shortcut","onkeychange","Key","key","blur","onkeydown","onkeyup","onfocus","onblur","getAll","results","servicesInfo","selector","svName","svInfo","enabledServices","enabledCount","_svInfo","includes","pageTranslationServices","sendMessage","action","serviceNames","filter","newServiceName","checkedLastError","confirm","configJSON","export","encodeURIComponent","Date","toISOString","body","click","removeChild","reader","FileReader","onload","import","alert","console","readAsText","files","restoreToDefault","libre","apiKey","URL","Error","find","cs","navigator","language","top"],"sources":["options.js"],"sourcesContent":["\"use strict\";\r\n\r\nfetch(\"./release-notes/en.html\")\r\n  .then((response) => response.text())\r\n  .then((responseText) => {\r\n    window.scrollTo(0, 0);\r\n    document.getElementById(\"release_notes\").innerHTML = responseText;\r\n    document.getElementById(\"msgHasBeenUpdated\").textContent =\r\n      twpI18n.getMessage(\"msgHasBeenUpdated\");\r\n    document.getElementById(\"msgHasBeenUpdated\").innerHTML = document\r\n      .getElementById(\"msgHasBeenUpdated\")\r\n      .textContent.replace(\r\n        \"#EXTENSION_NAME#\",\r\n        \"<b>\" + chrome.runtime.getManifest().name + \"</b>\"\r\n      )\r\n      .replace(\r\n        \"#EXTENSION_VERSION#\",\r\n        \"<b>\" + chrome.runtime.getManifest().version + \"</b>\"\r\n      );\r\n    document.getElementById(\"donationText\").textContent =\r\n      twpI18n.getMessage(\"donationText\");\r\n  });\r\n\r\nvar $ = document.querySelector.bind(document);\r\n\r\ntwpConfig.onReady().then(() => twpI18n.updateUiMessages(sessionStorage.getItem(\"temporaryUiLanguage\"))).then(() => {\r\n  twpI18n.translateDocument();\r\n  document.querySelector(\"[data-i18n='msgDefaultLanguage']\").textContent = twpI18n.getMessage(\"msgDefaultLanguage\") + \" - Default language\"\r\n\r\n  const temporaryUiLanguage = sessionStorage.getItem(\"temporaryUiLanguage\");\r\n  sessionStorage.removeItem(\"temporaryUiLanguage\")\r\n\r\n  if (platformInfo.isMobile.any) {\r\n    let style = document.createElement(\"style\");\r\n    style.textContent = \".desktopOnly {display: none !important}\";\r\n    document.head.appendChild(style);\r\n  }\r\n\r\n  if (!chrome.pageAction) {\r\n    let style = document.createElement(\"style\");\r\n    style.textContent = \".firefox-only {display: none !important}\";\r\n    document.head.appendChild(style);\r\n  }\r\n\r\n  let sideBarIsVisible = false;\r\n  $(\"#btnOpenMenu\").onclick = (e) => {\r\n    $(\"#menuContainer\").classList.toggle(\"change\");\r\n\r\n    if (sideBarIsVisible) {\r\n      $(\"#sideBar\").style.display = \"none\";\r\n      sideBarIsVisible = false;\r\n    } else {\r\n      $(\"#sideBar\").style.display = \"block\";\r\n      sideBarIsVisible = true;\r\n    }\r\n  };\r\n\r\n  function hashchange() {\r\n    const hash = location.hash || \"#languages\";\r\n    const divs = [\r\n      $(\"#languages\"),\r\n      $(\"#sites\"),\r\n      $(\"#translations\"),\r\n      $(\"#style\"),\r\n      $(\"#hotkeys\"),\r\n      $(\"#privacy\"),\r\n      $(\"#storage\"),\r\n      $(\"#others\"),\r\n      $(\"#experimental\"),\r\n      $(\"#donation\"),\r\n      $(\"#release_notes\"),\r\n    ];\r\n    divs.forEach((element) => {\r\n      element.style.display = \"none\";\r\n    });\r\n\r\n    document.querySelectorAll(\"nav a\").forEach((a) => {\r\n      a.classList.remove(\"w3-light-grey\");\r\n    });\r\n\r\n    $(hash).style.display = \"block\";\r\n    $('a[href=\"' + hash + '\"]').classList.add(\"w3-light-grey\");\r\n\r\n    let text;\r\n    if (hash === \"#donation\") {\r\n      text = twpI18n.getMessage(\"lblMakeDonation\");\r\n    } else if (hash === \"#release_notes\") {\r\n      text = twpI18n.getMessage(\"lblReleaseNotes\");\r\n    } else {\r\n      text = twpI18n.getMessage(\"lblSettings\");\r\n    }\r\n    $(\"#itemSelectedName\").textContent = text;\r\n\r\n    if (sideBarIsVisible) {\r\n      $(\"#menuContainer\").classList.toggle(\"change\");\r\n      $(\"#sideBar\").style.display = \"none\";\r\n      sideBarIsVisible = false;\r\n    }\r\n\r\n    if (hash === \"#release_notes\") {\r\n      $(\"#btnPatreon\").style.display = \"none\";\r\n    } else {\r\n      $(\"#btnPatreon\").style.display = \"block\";\r\n    }\r\n  }\r\n  hashchange();\r\n  window.addEventListener(\"hashchange\", hashchange);\r\n\r\n  function fillLanguageList(select) {\r\n    let langs = twpLang.getLanguageList();\r\n\r\n    const langsSorted = [];\r\n\r\n    for (const i in langs) {\r\n      langsSorted.push([i, langs[i]]);\r\n    }\r\n\r\n    langsSorted.sort(function (a, b) {\r\n      return a[1].localeCompare(b[1]);\r\n    });\r\n\r\n    langsSorted.forEach((value) => {\r\n      const option = document.createElement(\"option\");\r\n      option.value = value[0];\r\n      option.textContent = value[1];\r\n      select.appendChild(option);\r\n    });\r\n  }\r\n\r\n  fillLanguageList($(\"#selectTargetLanguage\"));\r\n  fillLanguageList($(\"#selectTargetLanguageForText\"));\r\n\r\n  fillLanguageList($(\"#favoriteLanguage1\"));\r\n  fillLanguageList($(\"#favoriteLanguage2\"));\r\n  fillLanguageList($(\"#favoriteLanguage3\"));\r\n\r\n  fillLanguageList($(\"#addToNeverTranslateLangs\"));\r\n  fillLanguageList($(\"#addToAlwaysTranslateLangs\"));\r\n  fillLanguageList($(\"#addLangToTranslateWhenHovering\"));\r\n\r\n  function updateDarkMode() {\r\n    switch (twpConfig.get(\"darkMode\")) {\r\n      case \"auto\":\r\n        if (matchMedia(\"(prefers-color-scheme: dark)\").matches) {\r\n          enableDarkMode();\r\n        } else {\r\n          disableDarkMode();\r\n        }\r\n        break;\r\n      case \"yes\":\r\n        enableDarkMode();\r\n        break;\r\n      case \"no\":\r\n        disableDarkMode();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n  updateDarkMode();\r\n\r\n  // target languages\r\n  $(\"#selectUiLanguage\").value = temporaryUiLanguage || twpConfig.get(\"uiLanguage\");\r\n  $(\"#selectUiLanguage\").onchange = (e) => {\r\n    if (e.target.value === \"default\") {\r\n      twpConfig.set(\"uiLanguage\", \"default\");\r\n    } else {\r\n      sessionStorage.setItem(\"temporaryUiLanguage\", e.target.value);\r\n    }\r\n    location.reload();\r\n  };\r\n  $(\"#btnApplyUiLanguage\").onclick = () => {\r\n    if (temporaryUiLanguage) {\r\n      twpConfig.set(\"uiLanguage\", temporaryUiLanguage === \"default\" ? \"default\" : twpLang.fixUILanguageCode(temporaryUiLanguage));\r\n      location.reload();\r\n    }\r\n  }\r\n\r\n  const targetLanguage = twpConfig.get(\"targetLanguage\");\r\n  $(\"#selectTargetLanguage\").value = targetLanguage;\r\n  $(\"#selectTargetLanguage\").onchange = (e) => {\r\n    twpConfig.setTargetLanguage(e.target.value);\r\n    location.reload();\r\n  };\r\n\r\n  const targetLanguageTextTranslation = twpConfig.get(\r\n    \"targetLanguageTextTranslation\"\r\n  );\r\n  $(\"#selectTargetLanguageForText\").value = targetLanguageTextTranslation;\r\n  $(\"#selectTargetLanguageForText\").onchange = (e) => {\r\n    twpConfig.setTargetLanguage(e.target.value, true);\r\n    twpConfig.setTargetLanguage(targetLanguage, false);\r\n    location.reload();\r\n  };\r\n\r\n  const targetLanguages = twpConfig.get(\"targetLanguages\");\r\n\r\n  $(\"#favoriteLanguage1\").value = targetLanguages[0];\r\n  $(\"#favoriteLanguage2\").value = targetLanguages[1];\r\n  $(\"#favoriteLanguage3\").value = targetLanguages[2];\r\n\r\n  $(\"#favoriteLanguage1\").onchange = (e) => {\r\n    targetLanguages[0] = e.target.value;\r\n    twpConfig.set(\"targetLanguages\", targetLanguages);\r\n    if (targetLanguages.indexOf(twpConfig.get(\"targetLanguage\")) == -1) {\r\n      twpConfig.set(\"targetLanguage\", targetLanguages[0]);\r\n    }\r\n    if (\r\n      targetLanguages.indexOf(twpConfig.get(\"targetLanguageTextTranslation\")) ==\r\n      -1\r\n    ) {\r\n      twpConfig.set(\"targetLanguageTextTranslation\", targetLanguages[0]);\r\n    }\r\n    location.reload();\r\n  };\r\n\r\n  $(\"#favoriteLanguage2\").onchange = (e) => {\r\n    targetLanguages[1] = e.target.value;\r\n    twpConfig.set(\"targetLanguages\", targetLanguages);\r\n    if (targetLanguages.indexOf(twpConfig.get(\"targetLanguage\")) == -1) {\r\n      twpConfig.set(\"targetLanguage\", targetLanguages[0]);\r\n    }\r\n    if (\r\n      targetLanguages.indexOf(twpConfig.get(\"targetLanguageTextTranslation\")) ==\r\n      -1\r\n    ) {\r\n      twpConfig.set(\"targetLanguageTextTranslation\", targetLanguages[0]);\r\n    }\r\n    location.reload();\r\n  };\r\n\r\n  $(\"#favoriteLanguage3\").onchange = (e) => {\r\n    targetLanguages[2] = e.target.value;\r\n    twpConfig.set(\"targetLanguages\", targetLanguages);\r\n    if (targetLanguages.indexOf(twpConfig.get(\"targetLanguage\")) == -1) {\r\n      twpConfig.set(\"targetLanguage\", targetLanguages[0]);\r\n    }\r\n    if (\r\n      targetLanguages.indexOf(twpConfig.get(\"targetLanguageTextTranslation\")) ==\r\n      -1\r\n    ) {\r\n      twpConfig.set(\"targetLanguageTextTranslation\", targetLanguages[0]);\r\n    }\r\n    location.reload();\r\n  };\r\n\r\n  // Never translate these languages\r\n\r\n  function createNodeToNeverTranslateLangsList(langCode, langName) {\r\n    const li = document.createElement(\"li\");\r\n    li.setAttribute(\"class\", \"w3-display-container\");\r\n    li.value = langCode;\r\n    li.textContent = langName;\r\n\r\n    const close = document.createElement(\"span\");\r\n    close.setAttribute(\"class\", \"w3-button w3-transparent w3-display-right\");\r\n    close.innerHTML = \"&times;\";\r\n\r\n    close.onclick = (e) => {\r\n      e.preventDefault();\r\n\r\n      twpConfig.removeLangFromNeverTranslate(langCode);\r\n      li.remove();\r\n    };\r\n\r\n    li.appendChild(close);\r\n\r\n    return li;\r\n  }\r\n\r\n  const neverTranslateLangs = twpConfig.get(\"neverTranslateLangs\");\r\n  neverTranslateLangs.sort((a, b) => a.localeCompare(b));\r\n  neverTranslateLangs.forEach((langCode) => {\r\n    const langName = twpLang.codeToLanguage(langCode);\r\n    const li = createNodeToNeverTranslateLangsList(langCode, langName);\r\n    $(\"#neverTranslateLangs\").appendChild(li);\r\n  });\r\n\r\n  $(\"#addToNeverTranslateLangs\").onchange = (e) => {\r\n    const langCode = e.target.value;\r\n    const langName = twpLang.codeToLanguage(langCode);\r\n    const li = createNodeToNeverTranslateLangsList(langCode, langName);\r\n    $(\"#neverTranslateLangs\").appendChild(li);\r\n\r\n    twpConfig.addLangToNeverTranslate(langCode);\r\n  };\r\n\r\n  // Always translate these languages\r\n\r\n  function createNodeToAlwaysTranslateLangsList(langCode, langName) {\r\n    const li = document.createElement(\"li\");\r\n    li.setAttribute(\"class\", \"w3-display-container\");\r\n    li.value = langCode;\r\n    li.textContent = langName;\r\n\r\n    const close = document.createElement(\"span\");\r\n    close.setAttribute(\"class\", \"w3-button w3-transparent w3-display-right\");\r\n    close.innerHTML = \"&times;\";\r\n\r\n    close.onclick = (e) => {\r\n      e.preventDefault();\r\n\r\n      twpConfig.removeLangFromAlwaysTranslate(langCode);\r\n      li.remove();\r\n    };\r\n\r\n    li.appendChild(close);\r\n\r\n    return li;\r\n  }\r\n\r\n  const alwaysTranslateLangs = twpConfig.get(\"alwaysTranslateLangs\");\r\n  alwaysTranslateLangs.sort((a, b) => a.localeCompare(b));\r\n  alwaysTranslateLangs.forEach((langCode) => {\r\n    const langName = twpLang.codeToLanguage(langCode);\r\n    const li = createNodeToAlwaysTranslateLangsList(langCode, langName);\r\n    $(\"#alwaysTranslateLangs\").appendChild(li);\r\n  });\r\n\r\n  $(\"#addToAlwaysTranslateLangs\").onchange = (e) => {\r\n    const langCode = e.target.value;\r\n    const langName = twpLang.codeToLanguage(langCode);\r\n    const li = createNodeToAlwaysTranslateLangsList(langCode, langName);\r\n    $(\"#alwaysTranslateLangs\").appendChild(li);\r\n\r\n    twpConfig.addLangToAlwaysTranslate(langCode);\r\n  };\r\n\r\n  // langsToTranslateWhenHovering\r\n\r\n  function createNodeToLangsToTranslateWhenHoveringList(langCode, langName) {\r\n    const li = document.createElement(\"li\");\r\n    li.setAttribute(\"class\", \"w3-display-container\");\r\n    li.value = langCode;\r\n    li.textContent = langName;\r\n\r\n    const close = document.createElement(\"span\");\r\n    close.setAttribute(\"class\", \"w3-button w3-transparent w3-display-right\");\r\n    close.innerHTML = \"&times;\";\r\n\r\n    close.onclick = (e) => {\r\n      e.preventDefault();\r\n\r\n      twpConfig.removeLangFromTranslateWhenHovering(langCode);\r\n      li.remove();\r\n    };\r\n\r\n    li.appendChild(close);\r\n\r\n    return li;\r\n  }\r\n\r\n  const langsToTranslateWhenHovering = twpConfig.get(\r\n    \"langsToTranslateWhenHovering\"\r\n  );\r\n  langsToTranslateWhenHovering.sort((a, b) => a.localeCompare(b));\r\n  langsToTranslateWhenHovering.forEach((langCode) => {\r\n    const langName = twpLang.codeToLanguage(langCode);\r\n    const li = createNodeToLangsToTranslateWhenHoveringList(langCode, langName);\r\n    $(\"#langsToTranslateWhenHovering\").appendChild(li);\r\n  });\r\n\r\n  $(\"#addLangToTranslateWhenHovering\").onchange = (e) => {\r\n    const langCode = e.target.value;\r\n    const langName = twpLang.codeToLanguage(langCode);\r\n    const li = createNodeToLangsToTranslateWhenHoveringList(langCode, langName);\r\n    $(\"#langsToTranslateWhenHovering\").appendChild(li);\r\n\r\n    twpConfig.addLangToTranslateWhenHovering(langCode);\r\n  };\r\n\r\n  // Always translate these Sites\r\n\r\n  function createNodeToAlwaysTranslateSitesList(hostname) {\r\n    const li = document.createElement(\"li\");\r\n    li.setAttribute(\"class\", \"w3-display-container\");\r\n    li.value = hostname;\r\n    li.textContent = hostname;\r\n\r\n    const close = document.createElement(\"span\");\r\n    close.setAttribute(\"class\", \"w3-button w3-transparent w3-display-right\");\r\n    close.innerHTML = \"&times;\";\r\n\r\n    close.onclick = (e) => {\r\n      e.preventDefault();\r\n\r\n      twpConfig.removeSiteFromAlwaysTranslate(hostname);\r\n      li.remove();\r\n    };\r\n\r\n    li.appendChild(close);\r\n\r\n    return li;\r\n  }\r\n\r\n  const alwaysTranslateSites = twpConfig.get(\"alwaysTranslateSites\");\r\n  alwaysTranslateSites.sort((a, b) => a.localeCompare(b));\r\n  alwaysTranslateSites.forEach((hostname) => {\r\n    const li = createNodeToAlwaysTranslateSitesList(hostname);\r\n    $(\"#alwaysTranslateSites\").appendChild(li);\r\n  });\r\n\r\n  $(\"#addToAlwaysTranslateSites\").onclick = (e) => {\r\n    const hostname = prompt(\"Enter the site hostname\", \"www.site.com\");\r\n    if (!hostname) return;\r\n\r\n    const li = createNodeToAlwaysTranslateSitesList(hostname);\r\n    $(\"#alwaysTranslateSites\").appendChild(li);\r\n\r\n    twpConfig.addSiteToAlwaysTranslate(hostname);\r\n  };\r\n\r\n  // Never translate these Sites\r\n\r\n  function createNodeToNeverTranslateSitesList(hostname) {\r\n    const li = document.createElement(\"li\");\r\n    li.setAttribute(\"class\", \"w3-display-container\");\r\n    li.value = hostname;\r\n    li.textContent = hostname;\r\n\r\n    const close = document.createElement(\"span\");\r\n    close.setAttribute(\"class\", \"w3-button w3-transparent w3-display-right\");\r\n    close.innerHTML = \"&times;\";\r\n\r\n    close.onclick = (e) => {\r\n      e.preventDefault();\r\n\r\n      twpConfig.removeSiteFromNeverTranslate(hostname);\r\n      li.remove();\r\n    };\r\n\r\n    li.appendChild(close);\r\n\r\n    return li;\r\n  }\r\n\r\n  const neverTranslateSites = twpConfig.get(\"neverTranslateSites\");\r\n  neverTranslateSites.sort((a, b) => a.localeCompare(b));\r\n  neverTranslateSites.forEach((hostname) => {\r\n    const li = createNodeToNeverTranslateSitesList(hostname);\r\n    $(\"#neverTranslateSites\").appendChild(li);\r\n  });\r\n\r\n  $(\"#addToNeverTranslateSites\").onclick = (e) => {\r\n    const hostname = prompt(\"Enter the site hostname\", \"www.site.com\");\r\n    if (!hostname) return;\r\n\r\n    const li = createNodeToNeverTranslateSitesList(hostname);\r\n    $(\"#neverTranslateSites\").appendChild(li);\r\n\r\n    twpConfig.addSiteToNeverTranslate(hostname);\r\n  };\r\n\r\n  function createcustomDictionary(keyWord, customValue) {\r\n    const li = document.createElement(\"li\");\r\n    li.setAttribute(\"class\", \"w3-display-container\");\r\n    li.value = keyWord;\r\n    if (customValue !== \"\") {\r\n      li.textContent = keyWord + \" ------------------- \" + customValue;\r\n    } else {\r\n      li.textContent = keyWord;\r\n    }\r\n    const close = document.createElement(\"span\");\r\n    close.setAttribute(\"class\", \"w3-button w3-transparent w3-display-right\");\r\n    close.innerHTML = \"&times;\";\r\n\r\n    close.onclick = (e) => {\r\n      e.preventDefault();\r\n      twpConfig.removeKeyWordFromcustomDictionary(keyWord);\r\n      li.remove();\r\n    };\r\n    li.appendChild(close);\r\n    return li;\r\n  }\r\n\r\n  let customDictionary = twpConfig.get(\"customDictionary\");\r\n  customDictionary = new Map(\r\n    [...customDictionary.entries()].sort((a, b) =>\r\n      String(a[0]).localeCompare(String(b[0]))\r\n    )\r\n  );\r\n  customDictionary.forEach(function (customValue, keyWord) {\r\n    const li = createcustomDictionary(keyWord, customValue);\r\n    $(\"#customDictionary\").appendChild(li);\r\n  });\r\n\r\n  $(\"#addToCustomDictionary\").onclick = (e) => {\r\n    let keyWord = prompt(\"Enter the keyWord, Minimum two letters \", \"\");\r\n    if (!keyWord || keyWord.length < 2) return;\r\n    keyWord = keyWord.trim().toLowerCase();\r\n    let customValue = prompt(\r\n      \"(Optional)\\nYou can enter a value to replace it , or fill in nothing.\",\r\n      \"\"\r\n    );\r\n    if (!customValue) customValue = \"\";\r\n    customValue = customValue.trim();\r\n    const li = createcustomDictionary(keyWord, customValue);\r\n    $(\"#customDictionary\").appendChild(li);\r\n    twpConfig.addKeyWordTocustomDictionary(keyWord, customValue);\r\n  };\r\n\r\n  // sitesToTranslateWhenHovering\r\n\r\n  function createNodeToSitesToTranslateWhenHoveringList(hostname) {\r\n    const li = document.createElement(\"li\");\r\n    li.setAttribute(\"class\", \"w3-display-container\");\r\n    li.value = hostname;\r\n    li.textContent = hostname;\r\n\r\n    const close = document.createElement(\"span\");\r\n    close.setAttribute(\"class\", \"w3-button w3-transparent w3-display-right\");\r\n    close.innerHTML = \"&times;\";\r\n\r\n    close.onclick = (e) => {\r\n      e.preventDefault();\r\n\r\n      twpConfig.removeSiteFromTranslateWhenHovering(hostname);\r\n      li.remove();\r\n    };\r\n\r\n    li.appendChild(close);\r\n\r\n    return li;\r\n  }\r\n\r\n  const sitesToTranslateWhenHovering = twpConfig.get(\r\n    \"sitesToTranslateWhenHovering\"\r\n  );\r\n  sitesToTranslateWhenHovering.sort((a, b) => a.localeCompare(b));\r\n  sitesToTranslateWhenHovering.forEach((hostname) => {\r\n    const li = createNodeToSitesToTranslateWhenHoveringList(hostname);\r\n    $(\"#sitesToTranslateWhenHovering\").appendChild(li);\r\n  });\r\n\r\n  $(\"#addSiteToTranslateWhenHovering\").onclick = (e) => {\r\n    const hostname = prompt(\"Enter the site hostname\", \"www.site.com\");\r\n    if (!hostname) return;\r\n\r\n    const li = createNodeToSitesToTranslateWhenHoveringList(hostname);\r\n    $(\"#sitesToTranslateWhenHovering\").appendChild(li);\r\n\r\n    twpConfig.addSiteToTranslateWhenHovering(hostname);\r\n  };\r\n\r\n  // translations options\r\n  $(\"#pageTranslatorService\").onchange = (e) => {\r\n    twpConfig.set(\"pageTranslatorService\", e.target.value);\r\n  };\r\n  $(\"#pageTranslatorService\").value = twpConfig.get(\"pageTranslatorService\");\r\n\r\n  $(\"#textTranslatorService\").onchange = (e) => {\r\n    twpConfig.set(\"textTranslatorService\", e.target.value);\r\n  };\r\n  $(\"#textTranslatorService\").value = twpConfig.get(\"textTranslatorService\");\r\n\r\n  $(\"#ttsSpeed\").oninput = (e) => {\r\n    twpConfig.set(\"ttsSpeed\", e.target.value);\r\n    $(\"#displayTtsSpeed\").textContent = e.target.value;\r\n  };\r\n  $(\"#ttsSpeed\").value = twpConfig.get(\"ttsSpeed\");\r\n  $(\"#displayTtsSpeed\").textContent = twpConfig.get(\"ttsSpeed\");\r\n\r\n  $(\"#showOriginalTextWhenHovering\").onchange = (e) => {\r\n    twpConfig.set(\"showOriginalTextWhenHovering\", e.target.value);\r\n  };\r\n  $(\"#showOriginalTextWhenHovering\").value = twpConfig.get(\r\n    \"showOriginalTextWhenHovering\"\r\n  );\r\n\r\n  $(\"#translateTag_pre\").onchange = (e) => {\r\n    twpConfig.set(\"translateTag_pre\", e.target.value);\r\n  };\r\n  $(\"#translateTag_pre\").value = twpConfig.get(\"translateTag_pre\");\r\n\r\n  $(\"#enableDeepL\").onchange = (e) => {\r\n    twpConfig.set(\"enableDeepL\", e.target.value);\r\n  };\r\n  $(\"#enableDeepL\").value = twpConfig.get(\"enableDeepL\");\r\n\r\n  $(\"#dontSortResults\").onchange = (e) => {\r\n    twpConfig.set(\"dontSortResults\", e.target.value);\r\n  };\r\n  $(\"#dontSortResults\").value = twpConfig.get(\"dontSortResults\");\r\n\r\n  $(\"#translateDynamicallyCreatedContent\").onchange = (e) => {\r\n    twpConfig.set(\"translateDynamicallyCreatedContent\", e.target.value);\r\n  };\r\n  $(\"#translateDynamicallyCreatedContent\").value = twpConfig.get(\r\n    \"translateDynamicallyCreatedContent\"\r\n  );\r\n\r\n  $(\"#autoTranslateWhenClickingALink\").onchange = (e) => {\r\n    if (e.target.value == \"yes\") {\r\n      chrome.permissions.request(\r\n        {\r\n          permissions: [\"webNavigation\"],\r\n        },\r\n        (granted) => {\r\n          if (granted) {\r\n            twpConfig.set(\"autoTranslateWhenClickingALink\", \"yes\");\r\n          } else {\r\n            twpConfig.set(\"autoTranslateWhenClickingALink\", \"no\");\r\n            e.target.value = \"no\";\r\n          }\r\n        }\r\n      );\r\n    } else {\r\n      twpConfig.set(\"autoTranslateWhenClickingALink\", \"no\");\r\n      chrome.permissions.remove({\r\n        permissions: [\"webNavigation\"],\r\n      });\r\n    }\r\n  };\r\n  $(\"#autoTranslateWhenClickingALink\").value = twpConfig.get(\r\n    \"autoTranslateWhenClickingALink\"\r\n  );\r\n\r\n  if (twpConfig.get(\"enableDeepL\") === \"yes\") {\r\n    $('#textTranslatorService option[value=\"deepl\"]').removeAttribute(\"hidden\");\r\n  } else {\r\n    $('#textTranslatorService option[value=\"deepl\"]').setAttribute(\r\n      \"hidden\",\r\n      \"\"\r\n    );\r\n  }\r\n  twpConfig.onChanged((name, newvalue) => {\r\n    switch (name) {\r\n      case \"enableDeepL\":\r\n        if (newvalue === \"yes\") {\r\n          $('#textTranslatorService option[value=\"deepl\"]').removeAttribute(\r\n            \"hidden\"\r\n          );\r\n        } else {\r\n          twpConfig.set(\"textTranslatorService\", \"google\");\r\n          $(\"#textTranslatorService\").value = \"google\";\r\n          $('#textTranslatorService option[value=\"deepl\"]').setAttribute(\r\n            \"hidden\",\r\n            \"\"\r\n          );\r\n        }\r\n        break;\r\n    }\r\n  });\r\n\r\n  function enableOrDisableTranslateSelectedAdvancedOptions(value) {\r\n    if (value === \"no\") {\r\n      document\r\n        .querySelectorAll(\"#translateSelectedAdvancedOptions input\")\r\n        .forEach((input) => {\r\n          input.setAttribute(\"disabled\", \"\");\r\n        });\r\n    } else {\r\n      document\r\n        .querySelectorAll(\"#translateSelectedAdvancedOptions input\")\r\n        .forEach((input) => {\r\n          input.removeAttribute(\"disabled\");\r\n        });\r\n    }\r\n  }\r\n\r\n  $(\"#showTranslateSelectedButton\").onchange = (e) => {\r\n    twpConfig.set(\"showTranslateSelectedButton\", e.target.value);\r\n    enableOrDisableTranslateSelectedAdvancedOptions(e.target.value);\r\n  };\r\n  $(\"#showTranslateSelectedButton\").value = twpConfig.get(\r\n    \"showTranslateSelectedButton\"\r\n  );\r\n  enableOrDisableTranslateSelectedAdvancedOptions(\r\n    twpConfig.get(\"showTranslateSelectedButton\")\r\n  );\r\n\r\n  $(\"#dontShowIfPageLangIsTargetLang\").onchange = (e) => {\r\n    twpConfig.set(\r\n      \"dontShowIfPageLangIsTargetLang\",\r\n      e.target.checked ? \"yes\" : \"no\"\r\n    );\r\n  };\r\n  $(\"#dontShowIfPageLangIsTargetLang\").checked =\r\n    twpConfig.get(\"dontShowIfPageLangIsTargetLang\") === \"yes\" ? true : false;\r\n\r\n  $(\"#dontShowIfPageLangIsUnknown\").onchange = (e) => {\r\n    twpConfig.set(\r\n      \"dontShowIfPageLangIsUnknown\",\r\n      e.target.checked ? \"yes\" : \"no\"\r\n    );\r\n  };\r\n  $(\"#dontShowIfPageLangIsUnknown\").checked =\r\n    twpConfig.get(\"dontShowIfPageLangIsUnknown\") === \"yes\" ? true : false;\r\n\r\n  $(\"#dontShowIfSelectedTextIsTargetLang\").onchange = (e) => {\r\n    twpConfig.set(\r\n      \"dontShowIfSelectedTextIsTargetLang\",\r\n      e.target.checked ? \"yes\" : \"no\"\r\n    );\r\n  };\r\n  $(\"#dontShowIfSelectedTextIsTargetLang\").checked =\r\n    twpConfig.get(\"dontShowIfSelectedTextIsTargetLang\") === \"yes\"\r\n      ? true\r\n      : false;\r\n\r\n  $(\"#dontShowIfSelectedTextIsUnknown\").onchange = (e) => {\r\n    twpConfig.set(\r\n      \"dontShowIfSelectedTextIsUnknown\",\r\n      e.target.checked ? \"yes\" : \"no\"\r\n    );\r\n  };\r\n  $(\"#dontShowIfSelectedTextIsUnknown\").checked =\r\n    twpConfig.get(\"dontShowIfSelectedTextIsUnknown\") === \"yes\" ? true : false;\r\n\r\n  // style options\r\n  $(\"#useOldPopup\").onchange = (e) => {\r\n    twpConfig.set(\"useOldPopup\", e.target.value);\r\n    updateDarkMode();\r\n  };\r\n  $(\"#useOldPopup\").value = twpConfig.get(\"useOldPopup\");\r\n\r\n  $(\"#darkMode\").onchange = (e) => {\r\n    twpConfig.set(\"darkMode\", e.target.value);\r\n    updateDarkMode();\r\n  };\r\n  $(\"#darkMode\").value = twpConfig.get(\"darkMode\");\r\n\r\n  $(\"#popupBlueWhenSiteIsTranslated\").onchange = (e) => {\r\n    twpConfig.set(\"popupBlueWhenSiteIsTranslated\", e.target.value);\r\n  };\r\n  $(\"#popupBlueWhenSiteIsTranslated\").value = twpConfig.get(\r\n    \"popupBlueWhenSiteIsTranslated\"\r\n  );\r\n\r\n  // hotkeys options\r\n  function escapeHtml(unsafe) {\r\n    return unsafe\r\n      .replace(/&/g, \"&amp;\")\r\n      .replace(/</g, \"&lt;\")\r\n      .replace(/>/g, \"&gt;\")\r\n      .replace(/\"/g, \"&quot;\")\r\n      .replace(/'/g, \"&#039;\");\r\n  }\r\n  $('[data-i18n=\"lblTranslateSelectedWhenPressTwice\"]').innerHTML = $(\r\n    '[data-i18n=\"lblTranslateSelectedWhenPressTwice\"]'\r\n  ).innerHTML.replace(\"[Ctrl]\", \"<kbd>Ctrl</kbd>\");\r\n  $('[data-i18n=\"lblTranslateTextOverMouseWhenPressTwice\"]').innerHTML = $(\r\n    '[data-i18n=\"lblTranslateTextOverMouseWhenPressTwice\"]'\r\n  ).innerHTML.replace(\"[Ctrl]\", \"<kbd>Ctrl</kbd>\");\r\n\r\n  $(\"#openNativeShortcutManager\").onclick = (e) => {\r\n    chrome.tabs.create({\r\n      url: \"chrome://extensions/shortcuts\",\r\n    });\r\n  };\r\n\r\n  $(\"#translateSelectedWhenPressTwice\").onclick = (e) => {\r\n    twpConfig.set(\r\n      \"translateSelectedWhenPressTwice\",\r\n      e.target.checked ? \"yes\" : \"no\"\r\n    );\r\n  };\r\n  $(\"#translateSelectedWhenPressTwice\").checked =\r\n    twpConfig.get(\"translateSelectedWhenPressTwice\") === \"yes\";\r\n\r\n  $(\"#translateTextOverMouseWhenPressTwice\").onclick = (e) => {\r\n    twpConfig.set(\r\n      \"translateTextOverMouseWhenPressTwice\",\r\n      e.target.checked ? \"yes\" : \"no\"\r\n    );\r\n  };\r\n  $(\"#translateTextOverMouseWhenPressTwice\").checked =\r\n    twpConfig.get(\"translateTextOverMouseWhenPressTwice\") === \"yes\";\r\n\r\n  const defaultShortcuts = {};\r\n  for (const name of Object.keys(chrome.runtime.getManifest().commands || {})) {\r\n    const info = chrome.runtime.getManifest().commands[name];\r\n    if (info.suggested_key && info.suggested_key.default) {\r\n      defaultShortcuts[name] = info.suggested_key.default;\r\n    } else {\r\n      defaultShortcuts[name] = \"\";\r\n    }\r\n  }\r\n\r\n  function addHotkey(hotkeyname, description) {\r\n    if (hotkeyname === \"_execute_browser_action\" && !description) {\r\n      description = \"Enable the extension\";\r\n    }\r\n\r\n    function escapeHtml(unsafe) {\r\n      return unsafe\r\n        .replace(/&/g, \"&amp;\")\r\n        .replace(/</g, \"&lt;\")\r\n        .replace(/>/g, \"&gt;\")\r\n        .replace(/\"/g, \"&quot;\")\r\n        .replace(/'/g, \"&#039;\");\r\n    }\r\n    description = escapeHtml(description);\r\n\r\n    const li = document.createElement(\"li\");\r\n    li.classList.add(\"shortcut-row\");\r\n    li.setAttribute(\"id\", hotkeyname);\r\n    li.innerHTML = `\r\n        <div>${description}</div>\r\n        <div class=\"shortcut-input-options\">\r\n            <div style=\"position: relative;\">\r\n                <input name=\"input\" class=\"w3-input w3-border shortcut-input\" type=\"text\" readonly placeholder=\"Enter a shortcut\" data-i18n-placeholder=\"enterShortcut\">\r\n                <p name=\"error\" class=\"shortcut-error\" style=\"position: absolute;\"></p>\r\n            </div>\r\n            <div class=\"w3-hover-light-grey shortcut-button\" name=\"removeKey\"><i class=\"gg-trash\"></i></div>\r\n            <div class=\"w3-hover-light-grey shortcut-button\" name=\"resetKey\"><i class=\"gg-sync\"></i></div>\r\n        </div>  \r\n        `;\r\n    $(\"#KeyboardShortcuts\").appendChild(li);\r\n\r\n    const input = li.querySelector(`[name=\"input\"]`);\r\n    const error = li.querySelector(`[name=\"error\"]`);\r\n    const removeKey = li.querySelector(`[name=\"removeKey\"]`);\r\n    const resetKey = li.querySelector(`[name=\"resetKey\"]`);\r\n\r\n    input.value = twpConfig.get(\"hotkeys\")[hotkeyname];\r\n    if (input.value) {\r\n      resetKey.style.display = \"none\";\r\n    } else {\r\n      removeKey.style.display = \"none\";\r\n    }\r\n\r\n    function setError(errorname) {\r\n      const text = twpI18n.getMessage(\"hotkeyError_\" + errorname);\r\n      switch (errorname) {\r\n        case \"ctrlOrAlt\":\r\n          error.textContent = text ? text : \"Include Ctrl or Alt\";\r\n          break;\r\n        case \"letter\":\r\n          error.textContent = text ? text : \"Type a letter\";\r\n          break;\r\n        case \"invalid\":\r\n          error.textContent = text ? text : \"Invalid combination\";\r\n          break;\r\n        default:\r\n          error.textContent = \"\";\r\n          break;\r\n      }\r\n    }\r\n\r\n    function getKeyString(e) {\r\n      let result = \"\";\r\n      if (e.ctrlKey) {\r\n        result += \"Ctrl+\";\r\n      }\r\n      if (e.altKey) {\r\n        result += \"Alt+\";\r\n      }\r\n      if (e.shiftKey) {\r\n        result += \"Shift+\";\r\n      }\r\n      if (e.code.match(/Key([A-Z])/)) {\r\n        result += e.code.match(/Key([A-Z])/)[1];\r\n      } else if (e.code.match(/Digit([0-9])/)) {\r\n        result += e.code.match(/Digit([0-9])/)[1];\r\n      }\r\n\r\n      return result;\r\n    }\r\n\r\n    function setShortcut(name, keystring) {\r\n      const hotkeys = twpConfig.get(\"hotkeys\");\r\n      hotkeys[hotkeyname] = keystring;\r\n      twpConfig.set(\"hotkeys\", hotkeys);\r\n      browser.commands.update({\r\n        name: name,\r\n        shortcut: keystring,\r\n      });\r\n    }\r\n\r\n    function onkeychange(e) {\r\n      input.value = getKeyString(e);\r\n\r\n      if (e.Key == \"Tab\") {\r\n        return;\r\n      }\r\n      if (e.key == \"Escape\") {\r\n        input.blur();\r\n        return;\r\n      }\r\n      if (e.key == \"Backspace\" || e.key == \"Delete\") {\r\n        setShortcut(hotkeyname, getKeyString(e));\r\n        input.blur();\r\n        return;\r\n      }\r\n      if (!e.ctrlKey && !e.altKey) {\r\n        setError(\"ctrlOrAlt\");\r\n        return;\r\n      }\r\n      if (e.ctrlKey && e.altKey && e.shiftKey) {\r\n        setError(\"invalid\");\r\n        return;\r\n      }\r\n      e.preventDefault();\r\n      if (!e.code.match(/Key([A-Z])/) && !e.code.match(/Digit([0-9])/)) {\r\n        setError(\"letter\");\r\n        return;\r\n      }\r\n\r\n      setShortcut(hotkeyname, getKeyString(e));\r\n      input.blur();\r\n\r\n      setError(\"none\");\r\n    }\r\n\r\n    input.onkeydown = (e) => onkeychange(e);\r\n    input.onkeyup = (e) => onkeychange(e);\r\n\r\n    input.onfocus = (e) => {\r\n      input.value = \"\";\r\n      setError(\"\");\r\n    };\r\n\r\n    input.onblur = (e) => {\r\n      input.value = twpConfig.get(\"hotkeys\")[hotkeyname];\r\n      setError(\"\");\r\n    };\r\n\r\n    removeKey.onclick = (e) => {\r\n      input.value = \"\";\r\n      setShortcut(hotkeyname, \"\");\r\n\r\n      removeKey.style.display = \"none\";\r\n      resetKey.style.display = \"block\";\r\n    };\r\n\r\n    resetKey.onclick = (e) => {\r\n      input.value = defaultShortcuts[hotkeyname];\r\n      setShortcut(hotkeyname, defaultShortcuts[hotkeyname]);\r\n\r\n      removeKey.style.display = \"block\";\r\n      resetKey.style.display = \"none\";\r\n    };\r\n\r\n    //*\r\n    if (typeof browser === \"undefined\") {\r\n      input.setAttribute(\"disabled\", \"\");\r\n      resetKey.style.display = \"none\";\r\n      removeKey.style.display = \"none\";\r\n    } else {\r\n      $(\"#openNativeShortcutManager\").style.display = \"none\";\r\n    }\r\n    // */\r\n  }\r\n\r\n  if (typeof chrome.commands !== \"undefined\") {\r\n    chrome.commands.getAll((results) => {\r\n      for (const result of results) {\r\n        addHotkey(result.name, result.description);\r\n      }\r\n    });\r\n  }\r\n\r\n  // privacy options\r\n  $(\"#useAlternativeService\").oninput = (e) => {\r\n    twpConfig.set(\"useAlternativeService\", e.target.value);\r\n  };\r\n  $(\"#useAlternativeService\").value = twpConfig.get(\"useAlternativeService\");\r\n\r\n  {\r\n    const servicesInfo = [\r\n      { selector: \"#btnEnableGoogle\", svName: \"google\" },\r\n      { selector: \"#btnEnableBing\", svName: \"bing\" },\r\n      { selector: \"#btnEnableYandex\", svName: \"yandex\" },\r\n      { selector: \"#btnEnableDeepL\", svName: \"deepl\" },\r\n    ];\r\n\r\n    servicesInfo.forEach((svInfo) => {\r\n      $(svInfo.selector).oninput = (e) => {\r\n        const enabledServices = [];\r\n        let enabledCount = 0;\r\n        servicesInfo.forEach((_svInfo) => {\r\n          if ($(_svInfo.selector).checked) {\r\n            enabledCount++;\r\n          }\r\n        });\r\n        if (\r\n          enabledCount === 0 ||\r\n          (enabledCount === 1 && $(\"#btnEnableDeepL\").checked)\r\n        ) {\r\n          if (e.target === $(\"#btnEnableGoogle\")) {\r\n            $(\"#btnEnableBing\").checked = true;\r\n          } else {\r\n            $(\"#btnEnableGoogle\").checked = true;\r\n          }\r\n        }\r\n        servicesInfo.forEach((_svInfo) => {\r\n          if ($(_svInfo.selector).checked) {\r\n            enabledServices.push(_svInfo.svName);\r\n          }\r\n        });\r\n\r\n        if (!enabledServices.includes(twpConfig.get(\"textTranslatorService\"))) {\r\n          twpConfig.set(\"textTranslatorService\", enabledServices[0]);\r\n        }\r\n        if (!enabledServices.includes(twpConfig.get(\"pageTranslatorService\"))) {\r\n          twpConfig.set(\"pageTranslatorService\", enabledServices[0]);\r\n        }\r\n\r\n        const pageTranslationServices = [\"google\", \"bing\", \"yandex\"];\r\n        chrome.runtime.sendMessage(\r\n          {\r\n            action: \"restorePagesWithServiceNames\",\r\n            serviceNames: pageTranslationServices.filter(\r\n              (svName) => !enabledServices.includes(svName)\r\n            ),\r\n            newServiceName: twpConfig.get(\"pageTranslatorService\"),\r\n          },\r\n          checkedLastError\r\n        );\r\n\r\n        twpConfig.set(\"enabledServices\", enabledServices);\r\n      };\r\n      $(svInfo.selector).checked =\r\n        twpConfig.get(\"enabledServices\").indexOf(svInfo.svName) === -1\r\n          ? false\r\n          : true;\r\n    });\r\n  }\r\n\r\n  // storage options\r\n  $(\"#deleteTranslationCache\").onclick = (e) => {\r\n    if (confirm(twpI18n.getMessage(\"doYouWantToDeleteTranslationCache\"))) {\r\n      chrome.runtime.sendMessage(\r\n        {\r\n          action: \"deleteTranslationCache\",\r\n          reload: true,\r\n        },\r\n        checkedLastError\r\n      );\r\n    }\r\n  };\r\n\r\n  $(\"#enableDiskCache\").oninput = (e) => {\r\n    twpConfig.set(\"enableDiskCache\", $(\"#enableDiskCache\").value);\r\n  };\r\n  $(\"#enableDiskCache\").value = twpConfig.get(\"enableDiskCache\");\r\n\r\n  $(\"#backupToFile\").onclick = (e) => {\r\n    const configJSON = twpConfig.export();\r\n\r\n    const element = document.createElement(\"a\");\r\n    element.setAttribute(\r\n      \"href\",\r\n      \"data:text/plain;charset=utf-8,\" + encodeURIComponent(configJSON)\r\n    );\r\n    element.setAttribute(\r\n      \"download\",\r\n      \"twp-backup_\" +\r\n        new Date()\r\n          .toISOString()\r\n          .replace(/T/, \"_\")\r\n          .replace(/\\..+/, \"\")\r\n          .replace(/\\:/g, \".\") +\r\n        \".txt\"\r\n    );\r\n\r\n    element.style.display = \"none\";\r\n    document.body.appendChild(element);\r\n\r\n    element.click();\r\n\r\n    document.body.removeChild(element);\r\n  };\r\n  $(\"#restoreFromFile\").onclick = (e) => {\r\n    const element = document.createElement(\"input\");\r\n    element.setAttribute(\"type\", \"file\");\r\n    element.setAttribute(\"accept\", \"text/plain\");\r\n\r\n    element.style.display = \"none\";\r\n    document.body.appendChild(element);\r\n\r\n    element.oninput = (e) => {\r\n      const input = e.target;\r\n\r\n      const reader = new FileReader();\r\n      reader.onload = function () {\r\n        try {\r\n          if (confirm(twpI18n.getMessage(\"doYouWantOverwriteAllSettings\"))) {\r\n            twpConfig.import(reader.result);\r\n          }\r\n        } catch (e) {\r\n          alert(twpI18n.getMessage(\"fileIsCorrupted\"));\r\n          console.error(e);\r\n        }\r\n      };\r\n\r\n      reader.readAsText(input.files[0]);\r\n    };\r\n\r\n    element.click();\r\n\r\n    document.body.removeChild(element);\r\n  };\r\n  $(\"#resetToDefault\").onclick = (e) => {\r\n    if (confirm(twpI18n.getMessage(\"doYouWantRestoreSettings\"))) {\r\n      twpConfig.restoreToDefault();\r\n    }\r\n  };\r\n\r\n  // others options\r\n  $(\"#showReleaseNotes\").onchange = (e) => {\r\n    twpConfig.set(\"showReleaseNotes\", e.target.value);\r\n  };\r\n  $(\"#showReleaseNotes\").value = twpConfig.get(\"showReleaseNotes\");\r\n\r\n  $(\"#showPopupMobile\").onchange = (e) => {\r\n    twpConfig.set(\"showPopupMobile\", e.target.value);\r\n  };\r\n  $(\"#showPopupMobile\").value = twpConfig.get(\"showPopupMobile\");\r\n\r\n  $(\"#showTranslatePageContextMenu\").onchange = (e) => {\r\n    twpConfig.set(\"showTranslatePageContextMenu\", e.target.value);\r\n  };\r\n  $(\"#showTranslatePageContextMenu\").value = twpConfig.get(\r\n    \"showTranslatePageContextMenu\"\r\n  );\r\n\r\n  $(\"#showTranslateSelectedContextMenu\").onchange = (e) => {\r\n    twpConfig.set(\"showTranslateSelectedContextMenu\", e.target.value);\r\n  };\r\n  $(\"#showTranslateSelectedContextMenu\").value = twpConfig.get(\r\n    \"showTranslateSelectedContextMenu\"\r\n  );\r\n\r\n  $(\"#showButtonInTheAddressBar\").onchange = (e) => {\r\n    twpConfig.set(\"showButtonInTheAddressBar\", e.target.value);\r\n  };\r\n  $(\"#showButtonInTheAddressBar\").value = twpConfig.get(\r\n    \"showButtonInTheAddressBar\"\r\n  );\r\n\r\n  $(\"#translateClickingOnce\").onchange = (e) => {\r\n    twpConfig.set(\"translateClickingOnce\", e.target.value);\r\n  };\r\n  $(\"#translateClickingOnce\").value = twpConfig.get(\"translateClickingOnce\");\r\n\r\n  $(\"#btnCalculateStorage\").style.display = \"inline-block\";\r\n  $(\"#storageUsed\").style.display = \"none\";\r\n  $(\"#btnCalculateStorage\").onclick = (e) => {\r\n    $(\"#btnCalculateStorage\").style.display = \"none\";\r\n\r\n    chrome.runtime.sendMessage(\r\n      {\r\n        action: \"getCacheSize\",\r\n      },\r\n      (result) => {\r\n        checkedLastError();\r\n\r\n        $(\"#storageUsed\").textContent = result;\r\n        $(\"#storageUsed\").style.display = \"inline-block\";\r\n      }\r\n    );\r\n  };\r\n\r\n  // experimental options\r\n  $(\"#addLibre\").onclick = () => {\r\n    const libre = {\r\n      name: \"libre\",\r\n      url: $(\"#libreURL\").value,\r\n      apiKey: $(\"#libreKEY\").value,\r\n    };\r\n    try {\r\n      new URL(libre.url);\r\n      if (libre.apiKey.length < 10) {\r\n        throw new Error(\"Provides an API Key\");\r\n      }\r\n    } catch (e) {\r\n      alert(e);\r\n    }\r\n    twpConfig.set(\"customServices\", [libre]);\r\n    chrome.runtime.sendMessage({ action: \"createLibreService\", libre });\r\n  };\r\n\r\n  $(\"#removeLibre\").onclick = () => {\r\n    twpConfig.set(\"customServices\", []);\r\n    chrome.runtime.sendMessage(\r\n      { action: \"removeLibreService\" },\r\n      checkedLastError\r\n    );\r\n    if (twpConfig.get(\"textTranslatorService\") === \"libre\") {\r\n      twpConfig.set(\r\n        \"textTranslatorService\",\r\n        twpConfig.get(\"pageTranslatorService\")\r\n      );\r\n    }\r\n    $(\"#libreURL\").value = \"\";\r\n    $(\"#libreKEY\").value = \"\";\r\n  };\r\n\r\n  const libre = twpConfig\r\n    .get(\"customServices\")\r\n    .find((cs) => cs.name === \"libre\");\r\n  if (libre) {\r\n    $(\"#libreURL\").value = libre.url;\r\n    $(\"#libreKEY\").value = libre.apiKey;\r\n  }\r\n\r\n  // donation options\r\n  if (navigator.language === \"pt-BR\") {\r\n    $(\"#currency\").value = \"BRL\";\r\n    $(\"#donateInUSD\").style.display = \"none\";\r\n  } else {\r\n    $(\"#currency\").value = \"USD\";\r\n    $(\"#donateInBRL\").style.display = \"none\";\r\n  }\r\n\r\n  $(\"#currency\").onchange = (e) => {\r\n    if (e.target.value === \"BRL\") {\r\n      $(\"#donateInUSD\").style.display = \"none\";\r\n      $(\"#donateInBRL\").style.display = \"block\";\r\n    } else {\r\n      $(\"#donateInUSD\").style.display = \"block\";\r\n      $(\"#donateInBRL\").style.display = \"none\";\r\n    }\r\n  };\r\n});\r\n\r\nwindow.scrollTo({\r\n  top: 0,\r\n});\r\n"],"mappings":"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"}