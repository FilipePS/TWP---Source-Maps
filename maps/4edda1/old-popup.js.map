{"version":3,"file":"../../popup/old-popup.js","names":["$","document","querySelector","bind","twpConfig","onReady","navigator","userAgent","includes","body","style","minWidth","btnSwitchInterfaces","getElementById","divIconTranslateContainer","divIconTranslate","iconTranslate","lblTranslate","lblTranslating","lblTranslated","lblError","lblTargetLanguage","divAlwaysTranslate","cbAlwaysTranslate","lblAlwaysTranslate","selectTargetLanguage","divOptionsList","btnReset","btnTranslate","btnRestore","btnTryAgain","btnOptionsDiv","btnOptions","divShowTranslateSelectedButton","cbShowTranslateSelectedButton","oninput","e","console","log","target","checked","set","get","onclick","window","open","innerHTML","cStyle","getComputedStyle","width","parseInt","langs","twpLang","getLanguageList","textContent","chrome","i18n","getMessage","langsSorted","i","push","sort","a","b","localeCompare","eAllLangs","forEach","value","option","createElement","appendChild","eRecentsLangs","enableDarkMode","el","setAttribute","head","disableDarkMode","remove","matchMedia","matches","originalTabLanguage","currentPageLanguage","currentPageLanguageState","currentPageTranslatorService","tabs","query","active","currentWindow","sendMessage","id","action","frameId","tabLanguage","checkedLastError","fixTLanguageCode","pageLanguage","updateInterface","pageLanguageState","pageTranslatorService","showSelectTargetLanguage","showAlwaysTranslateCheckbox","indexOf","codeToLanguage","translatedWhenHoveringThisLangText","removeAttribute","neverTranslateLangText","display","className","replace","setTargetLanguage","targetLanguage","addEventListener","location","hostname","URL","url","addLangToAlwaysTranslate","removeLangFromAlwaysTranslate","event","addSiteToAlwaysTranslate","removeSiteFromAlwaysTranslate","close","addSiteToNeverTranslate","removeSiteFromNeverTranslate","addLangToNeverTranslate","removeLangFromNeverTranslate","addSiteToTranslateWhenHovering","removeSiteFromTranslateWhenHovering","addLangToTranslateWhenHovering","removeLangFromTranslateWhenHovering","create","encodeURIComponent","split","runtime","getURL","btnNeverTranslateText","btnAlwaysTranslateText","text"],"sources":["old-popup.js"],"sourcesContent":["\"use strict\";\r\n\r\nvar $ = document.querySelector.bind(document);\r\n\r\ntwpConfig.onReady(function () {\r\n  if (!navigator.userAgent.includes(\"Firefox\")) {\r\n    document.body.style.minWidth = \"300px\";\r\n  }\r\n\r\n  // get elements\r\n  const btnSwitchInterfaces = document.getElementById(\"btnSwitchInterfaces\");\r\n  const divIconTranslateContainer = document.getElementById(\r\n    \"divIconTranslateContainer\"\r\n  );\r\n  const divIconTranslate = document.getElementById(\"divIconTranslate\");\r\n  const iconTranslate = document.getElementById(\"iconTranslate\");\r\n\r\n  const lblTranslate = document.getElementById(\"lblTranslate\");\r\n  const lblTranslating = document.getElementById(\"lblTranslating\");\r\n  const lblTranslated = document.getElementById(\"lblTranslated\");\r\n  const lblError = document.getElementById(\"lblError\");\r\n  const lblTargetLanguage = document.getElementById(\"lblTargetLanguage\");\r\n\r\n  const divAlwaysTranslate = document.getElementById(\r\n    \"divAlwaysTranslateThisLang\"\r\n  );\r\n  const cbAlwaysTranslate = document.getElementById(\r\n    \"cbAlwaysTranslateThisLang\"\r\n  );\r\n  const lblAlwaysTranslate = document.getElementById(\r\n    \"lblAlwaysTranslateThisLang\"\r\n  );\r\n\r\n  const selectTargetLanguage = document.getElementById(\"selectTargetLanguage\");\r\n\r\n  const divOptionsList = document.getElementById(\"divOptionsList\");\r\n\r\n  const btnReset = document.getElementById(\"btnReset\");\r\n  const btnTranslate = document.getElementById(\"btnTranslate\");\r\n  const btnRestore = document.getElementById(\"btnRestore\");\r\n  const btnTryAgain = document.getElementById(\"btnTryAgain\");\r\n  const btnOptionsDiv = document.getElementById(\"btnOptionsDiv\");\r\n  const btnOptions = document.getElementById(\"btnOptions\");\r\n  const divShowTranslateSelectedButton = document.getElementById(\r\n    \"divShowTranslateSelectedButton\"\r\n  );\r\n  const cbShowTranslateSelectedButton = document.getElementById(\r\n    \"cbShowTranslateSelectedButton\"\r\n  );\r\n\r\n  cbShowTranslateSelectedButton.oninput = (e) => {\r\n    console.log(e.target.checked);\r\n    twpConfig.set(\r\n      \"showTranslateSelectedButton\",\r\n      e.target.checked ? \"yes\" : \"no\"\r\n    );\r\n  };\r\n  cbShowTranslateSelectedButton.checked =\r\n    twpConfig.get(\"showTranslateSelectedButton\") == \"yes\" ? true : false;\r\n\r\n  $(\"#btnPatreon\").onclick = (e) => {\r\n    window.open(\"https://www.patreon.com/filipeps\", \"_blank\");\r\n  };\r\n\r\n  $(\"#btnOptionB\").innerHTML += ' <i class=\"arrow down\"></i>';\r\n  $(\"#btnOptions option[value='donate']\").innerHTML += \" &#10084;\";\r\n\r\n  var cStyle = getComputedStyle(document.querySelector(\"#btnOptionB\"));\r\n  btnOptions.style.width = parseInt(cStyle.width) + 0 + \"px\";\r\n\r\n  // fill language list\r\n  {\r\n    let langs = twpLang.getLanguageList();\r\n    lblTranslate.textContent = chrome.i18n.getMessage(\r\n      \"lblTranslatePageInto\",\r\n      langs[twpConfig.get(\"targetLanguage\")] || twpConfig.get(\"targetLanguage\")\r\n    );\r\n    lblTranslated.textContent = chrome.i18n.getMessage(\r\n      \"lblPageTranslateInto\",\r\n      langs[twpConfig.get(\"targetLanguage\")] || twpConfig.get(\"targetLanguage\")\r\n    );\r\n\r\n    const langsSorted = [];\r\n\r\n    for (const i in langs) {\r\n      langsSorted.push([i, langs[i]]);\r\n    }\r\n\r\n    langsSorted.sort(function (a, b) {\r\n      return a[1].localeCompare(b[1]);\r\n    });\r\n\r\n    const eAllLangs = selectTargetLanguage.querySelector('[name=\"all\"]');\r\n    langsSorted.forEach((value) => {\r\n      const option = document.createElement(\"option\");\r\n      option.value = value[0];\r\n      option.textContent = value[1];\r\n      eAllLangs.appendChild(option);\r\n    });\r\n\r\n    const eRecentsLangs =\r\n      selectTargetLanguage.querySelector('[name=\"recents\"]');\r\n    twpConfig.get(\"targetLanguages\").forEach((value) => {\r\n      const option = document.createElement(\"option\");\r\n      option.value = value;\r\n      option.textContent = langs[value];\r\n      eRecentsLangs.appendChild(option);\r\n    });\r\n  }\r\n  selectTargetLanguage.value = twpConfig.get(\"targetLanguage\");\r\n\r\n  function enableDarkMode() {\r\n    if (!document.getElementById(\"darkModeElement\")) {\r\n      const el = document.createElement(\"style\");\r\n      el.setAttribute(\"id\", \"darkModeElement\");\r\n      el.setAttribute(\"rel\", \"stylesheet\");\r\n      el.textContent = `\r\n            * {\r\n                scrollbar-color: #202324 #454a4d;\r\n            }\r\n            \r\n            body {\r\n                color: #e8e6e3 !important;\r\n                background-color: #181a1b !important;\r\n                border: 1px solid #454a4d;\r\n            }\r\n            \r\n            #btnSwitchInterfaces:hover {\r\n                background-color: #454a4d !important;\r\n                color: rgb(231, 230, 228) !important;\r\n            }\r\n            \r\n            #selectTargetLanguage, #btnReset, #btnRestore, #btnTryAgain, #btnOptionB {\r\n                color: #55a9ed !important;\r\n                background-color: #181a1b !important;\r\n                border: 1px solid #454a4d !important;\r\n            }\r\n\r\n            select, option {\r\n              color: GhostWhite !important;\r\n              background-color: #181a1b !important;\r\n            }\r\n            `;\r\n      document.head.appendChild(el);\r\n    }\r\n  }\r\n\r\n  function disableDarkMode() {\r\n    if (document.getElementById(\"darkModeElement\")) {\r\n      document.getElementById(\"darkModeElement\").remove();\r\n    }\r\n  }\r\n\r\n  if (twpConfig.get(\"darkMode\") == \"auto\") {\r\n    if (matchMedia(\"(prefers-color-scheme: dark)\").matches) {\r\n      enableDarkMode();\r\n    } else {\r\n      disableDarkMode();\r\n    }\r\n  } else if (twpConfig.get(\"darkMode\") == \"yes\") {\r\n    enableDarkMode();\r\n  } else {\r\n    disableDarkMode();\r\n  }\r\n\r\n  let originalTabLanguage = \"und\";\r\n  let currentPageLanguage = \"und\";\r\n  let currentPageLanguageState = \"original\";\r\n  let currentPageTranslatorService = twpConfig.get(\"pageTranslatorService\");\r\n\r\n  chrome.tabs.query(\r\n    {\r\n      active: true,\r\n      currentWindow: true,\r\n    },\r\n    (tabs) => {\r\n      chrome.tabs.sendMessage(\r\n        tabs[0].id,\r\n        {\r\n          action: \"getOriginalTabLanguage\",\r\n        },\r\n        {\r\n          frameId: 0,\r\n        },\r\n        (tabLanguage) => {\r\n          checkedLastError();\r\n          if (\r\n            tabLanguage &&\r\n            (tabLanguage = twpLang.fixTLanguageCode(tabLanguage))\r\n          ) {\r\n            originalTabLanguage = tabLanguage;\r\n          }\r\n        }\r\n      );\r\n\r\n      chrome.tabs.sendMessage(\r\n        tabs[0].id,\r\n        {\r\n          action: \"getCurrentPageLanguage\",\r\n        },\r\n        {\r\n          frameId: 0,\r\n        },\r\n        (pageLanguage) => {\r\n          checkedLastError();\r\n          if (pageLanguage) {\r\n            currentPageLanguage = pageLanguage;\r\n            updateInterface();\r\n          }\r\n        }\r\n      );\r\n\r\n      chrome.tabs.sendMessage(\r\n        tabs[0].id,\r\n        {\r\n          action: \"getCurrentPageLanguageState\",\r\n        },\r\n        {\r\n          frameId: 0,\r\n        },\r\n        (pageLanguageState) => {\r\n          checkedLastError();\r\n          if (pageLanguageState) {\r\n            currentPageLanguageState = pageLanguageState;\r\n            updateInterface();\r\n          }\r\n        }\r\n      );\r\n\r\n      chrome.tabs.sendMessage(\r\n        tabs[0].id,\r\n        {\r\n          action: \"getCurrentPageTranslatorService\",\r\n        },\r\n        {\r\n          frameId: 0,\r\n        },\r\n        (pageTranslatorService) => {\r\n          checkedLastError();\r\n          if (pageTranslatorService) {\r\n            currentPageTranslatorService = pageTranslatorService;\r\n            updateInterface();\r\n          }\r\n        }\r\n      );\r\n    }\r\n  );\r\n\r\n  let showSelectTargetLanguage = false;\r\n\r\n  function updateInterface() {\r\n    if (currentPageTranslatorService == \"yandex\") {\r\n      $(\"#btnOptions option[value='translateInExternalSite']\").textContent =\r\n        chrome.i18n.getMessage(\"msgOpenOnYandexTranslator\");\r\n      $(\"#iconTranslate\").setAttribute(\"src\", \"/icons/yandex-translate-32.png\");\r\n    } else if (currentPageTranslatorService == \"bing\") {\r\n      $(\"#btnOptions option[value='translateInExternalSite']\").textContent =\r\n        chrome.i18n.getMessage(\"btnOpenOnGoogleTranslate\");\r\n      $(\"#iconTranslate\").setAttribute(\"src\", \"/icons/bing-translate-32.png\");\r\n    } else {\r\n      // google\r\n      $(\"#btnOptions option[value='translateInExternalSite']\").textContent =\r\n        chrome.i18n.getMessage(\"btnOpenOnGoogleTranslate\");\r\n      $(\"#iconTranslate\").setAttribute(\"src\", \"/icons/google-translate-32.png\");\r\n    }\r\n\r\n    let showAlwaysTranslateCheckbox = false;\r\n\r\n    if (\r\n      originalTabLanguage !== \"und\" &&\r\n      originalTabLanguage !== twpConfig.get(\"targetLanguage\")\r\n    ) {\r\n      showAlwaysTranslateCheckbox = true;\r\n    }\r\n\r\n    if (originalTabLanguage !== \"und\") {\r\n      $(\"#cbAlwaysTranslateThisLang\").checked =\r\n        twpConfig.get(\"alwaysTranslateLangs\").indexOf(originalTabLanguage) !==\r\n        -1;\r\n      $(\"#lblAlwaysTranslateThisLang\").textContent = chrome.i18n.getMessage(\r\n        \"lblAlwaysTranslate\",\r\n        twpLang.codeToLanguage(originalTabLanguage)\r\n      );\r\n\r\n      const translatedWhenHoveringThisLangText = chrome.i18n.getMessage(\r\n        \"lblShowTranslatedWhenHoveringThisLang\",\r\n        twpLang.codeToLanguage(originalTabLanguage)\r\n      );\r\n      if (\r\n        twpConfig\r\n          .get(\"langsToTranslateWhenHovering\")\r\n          .indexOf(originalTabLanguage) === -1\r\n      ) {\r\n        $(\r\n          \"option[data-i18n=lblShowTranslatedWhenHoveringThisLang]\"\r\n        ).textContent = translatedWhenHoveringThisLangText;\r\n      } else {\r\n        $(\r\n          \"option[data-i18n=lblShowTranslatedWhenHoveringThisLang]\"\r\n        ).textContent = \"✔ \" + translatedWhenHoveringThisLangText;\r\n      }\r\n      $(\r\n        \"option[data-i18n=lblShowTranslatedWhenHoveringThisLang]\"\r\n      ).removeAttribute(\"hidden\");\r\n\r\n      const neverTranslateLangText = chrome.i18n.getMessage(\r\n        \"btnNeverTranslateThisLanguage\"\r\n      );\r\n      if (\r\n        twpConfig.get(\"neverTranslateLangs\").indexOf(originalTabLanguage) === -1\r\n      ) {\r\n        $(\"option[data-i18n=btnNeverTranslateThisLanguage]\").textContent =\r\n          neverTranslateLangText;\r\n      } else {\r\n        $(\"option[data-i18n=btnNeverTranslateThisLanguage]\").textContent =\r\n          \"✔ \" + neverTranslateLangText;\r\n      }\r\n      $(\"option[data-i18n=btnNeverTranslateThisLanguage]\").style.display =\r\n        \"block\";\r\n    }\r\n\r\n    btnRestore.className = btnRestore.className.replace(\" w3-disabled\", \"\");\r\n    cbAlwaysTranslate.removeAttribute(\"disabled\");\r\n\r\n    if (showSelectTargetLanguage) {\r\n      lblTranslate.style.display = \"none\";\r\n      lblTranslating.style.display = \"none\";\r\n      lblTranslated.style.display = \"none\";\r\n      lblError.style.display = \"none\";\r\n      lblTargetLanguage.style.display = \"inline\";\r\n\r\n      selectTargetLanguage.style.display = \"inline\";\r\n      btnReset.style.display = \"inline\";\r\n\r\n      divAlwaysTranslate.style.display = \"none\";\r\n      btnTranslate.style.display = \"inline\";\r\n      btnRestore.style.display = \"none\";\r\n      btnTryAgain.style.display = \"none\";\r\n      btnOptionsDiv.style.display = \"none\";\r\n    } else {\r\n      divIconTranslateContainer.style.display = \"none\";\r\n      lblTargetLanguage.style.display = \"none\";\r\n      selectTargetLanguage.style.display = \"none\";\r\n      btnReset.style.display = \"none\";\r\n\r\n      divShowTranslateSelectedButton.style.display = \"none\";\r\n\r\n      switch (currentPageLanguageState) {\r\n        case \"translated\":\r\n          lblTranslate.style.display = \"none\";\r\n          lblTranslating.style.display = \"none\";\r\n          lblTranslated.style.display = \"inline\";\r\n          lblError.style.display = \"none\";\r\n\r\n          divAlwaysTranslate.style.display = \"none\";\r\n          btnTranslate.style.display = \"none\";\r\n          btnRestore.style.display = \"inline\";\r\n          btnTryAgain.style.display = \"none\";\r\n          btnOptionsDiv.style.display = \"inline\";\r\n\r\n          divShowTranslateSelectedButton.style.display = \"block\";\r\n\r\n          break;\r\n        case \"translating\":\r\n          lblTranslate.style.display = \"none\";\r\n          lblTranslating.style.display = \"inline\";\r\n          lblTranslated.style.display = \"none\";\r\n          lblError.style.display = \"none\";\r\n\r\n          divAlwaysTranslate.style.display = \"none\";\r\n          btnTranslate.style.display = \"none\";\r\n          btnRestore.style.display = \"inline\";\r\n          btnTryAgain.style.display = \"none\";\r\n          btnOptionsDiv.style.display = \"none\";\r\n\r\n          if (btnRestore.className.indexOf(\"w3-disabled\") == -1) {\r\n            btnRestore.className += \" w3-disabled\";\r\n          }\r\n          break;\r\n        case \"error\":\r\n          lblTranslate.style.display = \"none\";\r\n          lblTranslating.style.display = \"none\";\r\n          lblTranslated.style.display = \"none\";\r\n          lblError.style.display = \"inline\";\r\n\r\n          divAlwaysTranslate.style.display = \"none\";\r\n          btnTranslate.style.display = \"none\";\r\n          btnRestore.style.display = \"none\";\r\n          btnTryAgain.style.display = \"inline\";\r\n          btnOptionsDiv.style.display = \"none\";\r\n\r\n          divIconTranslateContainer.style.display = \"block\";\r\n          break;\r\n        default:\r\n          lblTranslate.style.display = \"inline\";\r\n          lblTranslating.style.display = \"none\";\r\n          lblTranslated.style.display = \"none\";\r\n          lblError.style.display = \"none\";\r\n\r\n          divAlwaysTranslate.style.display = \"block\";\r\n          showAlwaysTranslateCheckbox\r\n            ? void 0\r\n            : cbAlwaysTranslate.setAttribute(\"disabled\", \"disabled\");\r\n          btnTranslate.style.display = \"inline\";\r\n          btnRestore.style.display = \"none\";\r\n          btnTryAgain.style.display = \"none\";\r\n          btnOptionsDiv.style.display = \"inline\";\r\n\r\n          divIconTranslateContainer.style.display = \"block\";\r\n          break;\r\n      }\r\n    }\r\n  }\r\n  updateInterface();\r\n\r\n  $(\"#btnTranslate\").onclick = (e) => {\r\n    currentPageLanguageState = \"translated\";\r\n\r\n    chrome.tabs.query(\r\n      {\r\n        active: true,\r\n        currentWindow: true,\r\n      },\r\n      (tabs) => {\r\n        if (twpConfig.get(\"targetLanguage\") !== selectTargetLanguage.value) {\r\n          twpConfig.setTargetLanguage(selectTargetLanguage.value, true);\r\n        } else {\r\n          twpConfig.setTargetLanguage(selectTargetLanguage.value);\r\n        }\r\n\r\n        const langs = twpLang.getLanguageList();\r\n        lblTranslate.textContent = chrome.i18n.getMessage(\r\n          \"lblTranslatePageInto\",\r\n          langs[twpConfig.get(\"targetLanguage\")] ||\r\n            twpConfig.get(\"targetLanguage\")\r\n        );\r\n        lblTranslated.textContent = chrome.i18n.getMessage(\r\n          \"lblPageTranslateInto\",\r\n          langs[twpConfig.get(\"targetLanguage\")] ||\r\n            twpConfig.get(\"targetLanguage\")\r\n        );\r\n\r\n        chrome.tabs.sendMessage(\r\n          tabs[0].id,\r\n          {\r\n            action: \"translatePage\",\r\n            targetLanguage: selectTargetLanguage.value,\r\n          },\r\n          checkedLastError\r\n        );\r\n      }\r\n    );\r\n\r\n    showSelectTargetLanguage = false;\r\n    updateInterface();\r\n  };\r\n\r\n  $(\"#btnRestore\").onclick = (e) => {\r\n    currentPageLanguageState = \"original\";\r\n\r\n    chrome.tabs.query(\r\n      {\r\n        active: true,\r\n        currentWindow: true,\r\n      },\r\n      (tabs) => {\r\n        chrome.tabs.sendMessage(\r\n          tabs[0].id,\r\n          {\r\n            action: \"restorePage\",\r\n          },\r\n          checkedLastError\r\n        );\r\n      }\r\n    );\r\n\r\n    updateInterface();\r\n  };\r\n\r\n  $(\"#btnSwitchInterfaces\").addEventListener(\"click\", () => {\r\n    twpConfig.set(\"useOldPopup\", \"no\");\r\n    window.location = \"popup.html\";\r\n  });\r\n\r\n  $(\"#divIconTranslate\").addEventListener(\"click\", () => {\r\n    chrome.tabs.query(\r\n      {\r\n        active: true,\r\n        currentWindow: true,\r\n      },\r\n      (tabs) => {\r\n        chrome.tabs.sendMessage(\r\n          tabs[0].id,\r\n          {\r\n            action: \"swapTranslationService\",\r\n          },\r\n          checkedLastError\r\n        );\r\n      }\r\n    );\r\n\r\n    if (currentPageTranslatorService === \"google\") {\r\n      currentPageTranslatorService = \"bing\";\r\n    } else if (currentPageTranslatorService === \"bing\") {\r\n      currentPageTranslatorService = \"yandex\";\r\n    } else {\r\n      currentPageTranslatorService = \"google\";\r\n    }\r\n\r\n    twpConfig.set(\"pageTranslatorService\", currentPageTranslatorService);\r\n\r\n    updateInterface();\r\n  });\r\n\r\n  chrome.tabs.query(\r\n    {\r\n      active: true,\r\n      currentWindow: true,\r\n    },\r\n    (tabs) => {\r\n      $(\"#cbAlwaysTranslateThisLang\").addEventListener(\"change\", (e) => {\r\n        const hostname = new URL(tabs[0].url).hostname;\r\n        if (e.target.checked) {\r\n          twpConfig.addLangToAlwaysTranslate(originalTabLanguage, hostname);\r\n        } else {\r\n          twpConfig.removeLangFromAlwaysTranslate(originalTabLanguage);\r\n        }\r\n      });\r\n    }\r\n  );\r\n\r\n  $(\"#btnOptions\").addEventListener(\"change\", (event) => {\r\n    const btnOptions = event.target;\r\n\r\n    chrome.tabs.query(\r\n      {\r\n        active: true,\r\n        currentWindow: true,\r\n      },\r\n      (tabs) => {\r\n        const hostname = new URL(tabs[0].url).hostname;\r\n        switch (btnOptions.value) {\r\n          case \"changeLanguage\":\r\n            showSelectTargetLanguage = true;\r\n            updateInterface();\r\n            break;\r\n          case \"alwaysTranslateThisSite\":\r\n            if (\r\n              twpConfig.get(\"alwaysTranslateSites\").indexOf(hostname) === -1\r\n            ) {\r\n              twpConfig.addSiteToAlwaysTranslate(hostname);\r\n            } else {\r\n              twpConfig.removeSiteFromAlwaysTranslate(hostname);\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"neverTranslateThisSite\":\r\n            if (twpConfig.get(\"neverTranslateSites\").indexOf(hostname) === -1) {\r\n              twpConfig.addSiteToNeverTranslate(hostname);\r\n            } else {\r\n              twpConfig.removeSiteFromNeverTranslate(hostname);\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"alwaysTranslateThisLanguage\":\r\n            twpConfig.addLangToAlwaysTranslate(originalTabLanguage, hostname);\r\n            break;\r\n          case \"neverTranslateThisLanguage\":\r\n            if (\r\n              twpConfig\r\n                .get(\"neverTranslateLangs\")\r\n                .indexOf(originalTabLanguage) === -1\r\n            ) {\r\n              twpConfig.addLangToNeverTranslate(originalTabLanguage, hostname);\r\n            } else {\r\n              twpConfig.removeLangFromNeverTranslate(originalTabLanguage);\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"showTranslateSelectedButton\":\r\n            if (twpConfig.get(\"showTranslateSelectedButton\") === \"yes\") {\r\n              twpConfig.set(\"showTranslateSelectedButton\", \"no\");\r\n            } else {\r\n              twpConfig.set(\"showTranslateSelectedButton\", \"yes\");\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"showOriginalTextWhenHovering\":\r\n            if (twpConfig.get(\"showOriginalTextWhenHovering\") === \"yes\") {\r\n              twpConfig.set(\"showOriginalTextWhenHovering\", \"no\");\r\n            } else {\r\n              twpConfig.set(\"showOriginalTextWhenHovering\", \"yes\");\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"showTranslatedWhenHoveringThisSite\":\r\n            if (\r\n              twpConfig\r\n                .get(\"sitesToTranslateWhenHovering\")\r\n                .indexOf(hostname) === -1\r\n            ) {\r\n              twpConfig.addSiteToTranslateWhenHovering(hostname);\r\n            } else {\r\n              twpConfig.removeSiteFromTranslateWhenHovering(hostname);\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"showTranslatedWhenHoveringThisLang\":\r\n            if (\r\n              twpConfig\r\n                .get(\"langsToTranslateWhenHovering\")\r\n                .indexOf(originalTabLanguage) === -1\r\n            ) {\r\n              twpConfig.addLangToTranslateWhenHovering(originalTabLanguage);\r\n            } else {\r\n              twpConfig.removeLangFromTranslateWhenHovering(\r\n                originalTabLanguage\r\n              );\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"translateInExternalSite\":\r\n            chrome.tabs.query(\r\n              {\r\n                active: true,\r\n                currentWindow: true,\r\n              },\r\n              (tabs) => {\r\n                if (currentPageTranslatorService === \"yandex\") {\r\n                  chrome.tabs.create({\r\n                    url: `https://translate.yandex.com/translate?view=compact&url=${encodeURIComponent(\r\n                      tabs[0].url\r\n                    )}&lang=${twpConfig.get(\"targetLanguage\").split(\"-\")[0]}`,\r\n                  });\r\n                } else {\r\n                  // google\r\n                  chrome.tabs.create({\r\n                    url: `https://translate.google.com/translate?tl=${twpConfig.get(\r\n                      \"targetLanguage\"\r\n                    )}&u=${encodeURIComponent(tabs[0].url)}`,\r\n                  });\r\n                }\r\n              }\r\n            );\r\n            break;\r\n          case \"moreOptions\":\r\n            chrome.tabs.create({\r\n              url: chrome.runtime.getURL(\"/options/options.html\"),\r\n            });\r\n            break;\r\n          case \"donate\":\r\n            chrome.tabs.create({\r\n              url: chrome.runtime.getURL(\"/options/options.html#donation\"),\r\n            });\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        btnOptions.value = \"options\";\r\n      }\r\n    );\r\n  });\r\n\r\n  chrome.tabs.query(\r\n    {\r\n      active: true,\r\n      currentWindow: true,\r\n    },\r\n    (tabs) => {\r\n      const hostname = new URL(tabs[0].url).hostname;\r\n\r\n      const btnNeverTranslateText = chrome.i18n.getMessage(\"btnNeverTranslate\");\r\n      if (twpConfig.get(\"neverTranslateSites\").indexOf(hostname) === -1) {\r\n        $(\"option[data-i18n=btnNeverTranslate]\").textContent =\r\n          btnNeverTranslateText;\r\n      } else {\r\n        $(\"option[data-i18n=btnNeverTranslate]\").textContent =\r\n          \"✔ \" + btnNeverTranslateText;\r\n      }\r\n\r\n      const btnAlwaysTranslateText =\r\n        chrome.i18n.getMessage(\"btnAlwaysTranslate\");\r\n      if (twpConfig.get(\"alwaysTranslateSites\").indexOf(hostname) === -1) {\r\n        $(\"option[data-i18n=btnAlwaysTranslate]\").textContent =\r\n          btnAlwaysTranslateText;\r\n      } else {\r\n        $(\"option[data-i18n=btnAlwaysTranslate]\").textContent =\r\n          \"✔ \" + btnAlwaysTranslateText;\r\n      }\r\n\r\n      {\r\n        const text = chrome.i18n.getMessage(\"lblShowTranslateSelectedButton\");\r\n        if (twpConfig.get(\"showTranslateSelectedButton\") !== \"yes\") {\r\n          $(\"option[data-i18n=lblShowTranslateSelectedButton]\").textContent =\r\n            text;\r\n        } else {\r\n          $(\"option[data-i18n=lblShowTranslateSelectedButton]\").textContent =\r\n            \"✔ \" + text;\r\n        }\r\n      }\r\n      {\r\n        const text = chrome.i18n.getMessage(\"lblShowOriginalTextWhenHovering\");\r\n        if (twpConfig.get(\"showOriginalTextWhenHovering\") !== \"yes\") {\r\n          $(\"option[data-i18n=lblShowOriginalTextWhenHovering]\").textContent =\r\n            text;\r\n        } else {\r\n          $(\"option[data-i18n=lblShowOriginalTextWhenHovering]\").textContent =\r\n            \"✔ \" + text;\r\n        }\r\n      }\r\n      {\r\n        const text = chrome.i18n.getMessage(\r\n          \"lblShowTranslatedWhenHoveringThisSite\"\r\n        );\r\n        if (\r\n          twpConfig.get(\"sitesToTranslateWhenHovering\").indexOf(hostname) === -1\r\n        ) {\r\n          $(\r\n            \"option[data-i18n=lblShowTranslatedWhenHoveringThisSite]\"\r\n          ).textContent = text;\r\n        } else {\r\n          $(\r\n            \"option[data-i18n=lblShowTranslatedWhenHoveringThisSite]\"\r\n          ).textContent = \"✔ \" + text;\r\n        }\r\n      }\r\n    }\r\n  );\r\n});\r\n"],"mappings":"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"}