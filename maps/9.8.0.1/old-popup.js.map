{"version":3,"file":"../../popup/old-popup.js","names":["$","document","querySelector","bind","twpConfig","onReady","navigator","userAgent","includes","body","style","minWidth","onclick","window","location","btnSwitchInterfaces","getElementById","divIconTranslateContainer","divIconTranslate","iconTranslate","lblTranslate","lblTranslating","lblTranslated","lblError","lblTargetLanguage","divAlwaysTranslate","cbAlwaysTranslate","lblAlwaysTranslate","selectTargetLanguage","divOptionsList","btnReset","btnTranslate","btnRestore","btnTryAgain","btnOptionsDiv","btnOptions","divShowTranslateSelectedButton","cbShowTranslateSelectedButton","oninput","e","console","log","target","checked","set","get","open","innerHTML","cStyle","getComputedStyle","width","parseInt","langs","twpLang","getLanguageList","textContent","chrome","i18n","getMessage","langsSorted","i","push","sort","a","b","localeCompare","eAllLangs","forEach","value","option","createElement","appendChild","eRecentsLangs","enableDarkMode","el","setAttribute","head","disableDarkMode","remove","matchMedia","matches","originalTabLanguage","currentPageLanguage","currentPageLanguageState","currentPageTranslatorService","tabs","query","active","currentWindow","sendMessage","id","action","frameId","tabLanguage","checkedLastError","fixTLanguageCode","pageLanguage","updateInterface","pageLanguageState","pageTranslatorService","showSelectTargetLanguage","showAlwaysTranslateCheckbox","indexOf","codeToLanguage","translatedWhenHoveringThisLangText","removeAttribute","neverTranslateLangText","display","className","replace","setTargetLanguage","targetLanguage","addEventListener","swapPageTranslationService","newServiceName","hostname","URL","url","addLangToAlwaysTranslate","removeLangFromAlwaysTranslate","event","addSiteToAlwaysTranslate","removeSiteFromAlwaysTranslate","close","addSiteToNeverTranslate","removeSiteFromNeverTranslate","addLangToNeverTranslate","removeLangFromNeverTranslate","addSiteToTranslateWhenHovering","removeSiteFromTranslateWhenHovering","addLangToTranslateWhenHovering","removeLangFromTranslateWhenHovering","create","encodeURIComponent","split","runtime","getURL","btnNeverTranslateText","btnAlwaysTranslateText","text"],"sources":["old-popup.js"],"sourcesContent":["\"use strict\";\r\n\r\nvar $ = document.querySelector.bind(document);\r\n\r\ntwpConfig.onReady(function () {\r\n  if (!navigator.userAgent.includes(\"Firefox\")) {\r\n    document.body.style.minWidth = \"300px\";\r\n  }\r\n\r\n  $(\"#btnImproveTranslation\").onclick = () => {\r\n    window.location = \"improve-translation.html\";\r\n  };\r\n\r\n  // get elements\r\n  const btnSwitchInterfaces = document.getElementById(\"btnSwitchInterfaces\");\r\n  const divIconTranslateContainer = document.getElementById(\r\n    \"divIconTranslateContainer\"\r\n  );\r\n  const divIconTranslate = document.getElementById(\"divIconTranslate\");\r\n  const iconTranslate = document.getElementById(\"iconTranslate\");\r\n\r\n  const lblTranslate = document.getElementById(\"lblTranslate\");\r\n  const lblTranslating = document.getElementById(\"lblTranslating\");\r\n  const lblTranslated = document.getElementById(\"lblTranslated\");\r\n  const lblError = document.getElementById(\"lblError\");\r\n  const lblTargetLanguage = document.getElementById(\"lblTargetLanguage\");\r\n\r\n  const divAlwaysTranslate = document.getElementById(\r\n    \"divAlwaysTranslateThisLang\"\r\n  );\r\n  const cbAlwaysTranslate = document.getElementById(\r\n    \"cbAlwaysTranslateThisLang\"\r\n  );\r\n  const lblAlwaysTranslate = document.getElementById(\r\n    \"lblAlwaysTranslateThisLang\"\r\n  );\r\n\r\n  const selectTargetLanguage = document.getElementById(\"selectTargetLanguage\");\r\n\r\n  const divOptionsList = document.getElementById(\"divOptionsList\");\r\n\r\n  const btnReset = document.getElementById(\"btnReset\");\r\n  const btnTranslate = document.getElementById(\"btnTranslate\");\r\n  const btnRestore = document.getElementById(\"btnRestore\");\r\n  const btnTryAgain = document.getElementById(\"btnTryAgain\");\r\n  const btnOptionsDiv = document.getElementById(\"btnOptionsDiv\");\r\n  const btnOptions = document.getElementById(\"btnOptions\");\r\n  const divShowTranslateSelectedButton = document.getElementById(\r\n    \"divShowTranslateSelectedButton\"\r\n  );\r\n  const cbShowTranslateSelectedButton = document.getElementById(\r\n    \"cbShowTranslateSelectedButton\"\r\n  );\r\n\r\n  cbShowTranslateSelectedButton.oninput = (e) => {\r\n    console.log(e.target.checked);\r\n    twpConfig.set(\r\n      \"showTranslateSelectedButton\",\r\n      e.target.checked ? \"yes\" : \"no\"\r\n    );\r\n  };\r\n  cbShowTranslateSelectedButton.checked =\r\n    twpConfig.get(\"showTranslateSelectedButton\") == \"yes\" ? true : false;\r\n\r\n  $(\"#btnPatreon\").onclick = (e) => {\r\n    window.open(\"https://www.patreon.com/filipeps\", \"_blank\");\r\n  };\r\n\r\n  $(\"#btnOptionB\").innerHTML += ' <i class=\"arrow down\"></i>';\r\n  $(\"#btnOptions option[value='donate']\").innerHTML += \" &#10084;\";\r\n\r\n  var cStyle = getComputedStyle(document.querySelector(\"#btnOptionB\"));\r\n  btnOptions.style.width = parseInt(cStyle.width) + 0 + \"px\";\r\n\r\n  // fill language list\r\n  {\r\n    let langs = twpLang.getLanguageList();\r\n    lblTranslate.textContent = chrome.i18n.getMessage(\r\n      \"lblTranslatePageInto\",\r\n      langs[twpConfig.get(\"targetLanguage\")] || twpConfig.get(\"targetLanguage\")\r\n    );\r\n    lblTranslated.textContent = chrome.i18n.getMessage(\r\n      \"lblPageTranslateInto\",\r\n      langs[twpConfig.get(\"targetLanguage\")] || twpConfig.get(\"targetLanguage\")\r\n    );\r\n\r\n    const langsSorted = [];\r\n\r\n    for (const i in langs) {\r\n      langsSorted.push([i, langs[i]]);\r\n    }\r\n\r\n    langsSorted.sort(function (a, b) {\r\n      return a[1].localeCompare(b[1]);\r\n    });\r\n\r\n    const eAllLangs = selectTargetLanguage.querySelector('[name=\"all\"]');\r\n    langsSorted.forEach((value) => {\r\n      const option = document.createElement(\"option\");\r\n      option.value = value[0];\r\n      option.textContent = value[1];\r\n      eAllLangs.appendChild(option);\r\n    });\r\n\r\n    const eRecentsLangs =\r\n      selectTargetLanguage.querySelector('[name=\"recents\"]');\r\n    twpConfig.get(\"targetLanguages\").forEach((value) => {\r\n      const option = document.createElement(\"option\");\r\n      option.value = value;\r\n      option.textContent = langs[value];\r\n      eRecentsLangs.appendChild(option);\r\n    });\r\n  }\r\n  selectTargetLanguage.value = twpConfig.get(\"targetLanguage\");\r\n\r\n  function enableDarkMode() {\r\n    if (!document.getElementById(\"darkModeElement\")) {\r\n      const el = document.createElement(\"style\");\r\n      el.setAttribute(\"id\", \"darkModeElement\");\r\n      el.setAttribute(\"rel\", \"stylesheet\");\r\n      el.textContent = `\r\n            * {\r\n                scrollbar-color: #202324 #454a4d;\r\n            }\r\n            \r\n            body {\r\n                color: #e8e6e3 !important;\r\n                background-color: #181a1b !important;\r\n                border: 1px solid #454a4d;\r\n            }\r\n            \r\n            #btnSwitchInterfaces:hover {\r\n                background-color: #454a4d !important;\r\n                color: rgb(231, 230, 228) !important;\r\n            }\r\n            \r\n            #selectTargetLanguage, #btnReset, #btnRestore, #btnTryAgain, #btnOptionB, #btnImproveTranslation {\r\n                color: #55a9ed !important;\r\n                background-color: #181a1b !important;\r\n                border: 1px solid #454a4d !important;\r\n            }\r\n\r\n            #btnImproveTranslation {\r\n              color: rgb(231, 230, 228) !important;\r\n            }\r\n\r\n            select, option {\r\n              color: GhostWhite !important;\r\n              background-color: #181a1b !important;\r\n            }\r\n            `;\r\n      document.head.appendChild(el);\r\n    }\r\n  }\r\n\r\n  function disableDarkMode() {\r\n    if (document.getElementById(\"darkModeElement\")) {\r\n      document.getElementById(\"darkModeElement\").remove();\r\n    }\r\n  }\r\n\r\n  if (twpConfig.get(\"darkMode\") == \"auto\") {\r\n    if (matchMedia(\"(prefers-color-scheme: dark)\").matches) {\r\n      enableDarkMode();\r\n    } else {\r\n      disableDarkMode();\r\n    }\r\n  } else if (twpConfig.get(\"darkMode\") == \"yes\") {\r\n    enableDarkMode();\r\n  } else {\r\n    disableDarkMode();\r\n  }\r\n\r\n  let originalTabLanguage = \"und\";\r\n  let currentPageLanguage = \"und\";\r\n  let currentPageLanguageState = \"original\";\r\n  let currentPageTranslatorService = twpConfig.get(\"pageTranslatorService\");\r\n\r\n  chrome.tabs.query(\r\n    {\r\n      active: true,\r\n      currentWindow: true,\r\n    },\r\n    (tabs) => {\r\n      chrome.tabs.sendMessage(\r\n        tabs[0].id,\r\n        {\r\n          action: \"getOriginalTabLanguage\",\r\n        },\r\n        {\r\n          frameId: 0,\r\n        },\r\n        (tabLanguage) => {\r\n          checkedLastError();\r\n          if (\r\n            tabLanguage &&\r\n            (tabLanguage = twpLang.fixTLanguageCode(tabLanguage))\r\n          ) {\r\n            originalTabLanguage = tabLanguage;\r\n          }\r\n        }\r\n      );\r\n\r\n      chrome.tabs.sendMessage(\r\n        tabs[0].id,\r\n        {\r\n          action: \"getCurrentPageLanguage\",\r\n        },\r\n        {\r\n          frameId: 0,\r\n        },\r\n        (pageLanguage) => {\r\n          checkedLastError();\r\n          if (pageLanguage) {\r\n            currentPageLanguage = pageLanguage;\r\n            updateInterface();\r\n          }\r\n        }\r\n      );\r\n\r\n      chrome.tabs.sendMessage(\r\n        tabs[0].id,\r\n        {\r\n          action: \"getCurrentPageLanguageState\",\r\n        },\r\n        {\r\n          frameId: 0,\r\n        },\r\n        (pageLanguageState) => {\r\n          checkedLastError();\r\n          if (pageLanguageState) {\r\n            currentPageLanguageState = pageLanguageState;\r\n            updateInterface();\r\n          }\r\n        }\r\n      );\r\n\r\n      chrome.tabs.sendMessage(\r\n        tabs[0].id,\r\n        {\r\n          action: \"getCurrentPageTranslatorService\",\r\n        },\r\n        {\r\n          frameId: 0,\r\n        },\r\n        (pageTranslatorService) => {\r\n          checkedLastError();\r\n          if (pageTranslatorService) {\r\n            currentPageTranslatorService = pageTranslatorService;\r\n            updateInterface();\r\n          }\r\n        }\r\n      );\r\n    }\r\n  );\r\n\r\n  let showSelectTargetLanguage = false;\r\n\r\n  function updateInterface() {\r\n    if (currentPageTranslatorService == \"yandex\") {\r\n      $(\"#btnOptions option[value='translateInExternalSite']\").textContent =\r\n        chrome.i18n.getMessage(\"msgOpenOnYandexTranslator\");\r\n      $(\"#iconTranslate\").setAttribute(\"src\", \"/icons/yandex-translate-32.png\");\r\n    } else if (currentPageTranslatorService == \"bing\") {\r\n      $(\"#btnOptions option[value='translateInExternalSite']\").textContent =\r\n        chrome.i18n.getMessage(\"btnOpenOnGoogleTranslate\");\r\n      $(\"#iconTranslate\").setAttribute(\"src\", \"/icons/bing-translate-32.png\");\r\n    } else {\r\n      // google\r\n      $(\"#btnOptions option[value='translateInExternalSite']\").textContent =\r\n        chrome.i18n.getMessage(\"btnOpenOnGoogleTranslate\");\r\n      $(\"#iconTranslate\").setAttribute(\"src\", \"/icons/google-translate-32.png\");\r\n    }\r\n\r\n    let showAlwaysTranslateCheckbox = false;\r\n\r\n    if (\r\n      originalTabLanguage !== \"und\" &&\r\n      originalTabLanguage !== twpConfig.get(\"targetLanguage\")\r\n    ) {\r\n      showAlwaysTranslateCheckbox = true;\r\n    }\r\n\r\n    if (originalTabLanguage !== \"und\") {\r\n      $(\"#cbAlwaysTranslateThisLang\").checked =\r\n        twpConfig.get(\"alwaysTranslateLangs\").indexOf(originalTabLanguage) !==\r\n        -1;\r\n      $(\"#lblAlwaysTranslateThisLang\").textContent = chrome.i18n.getMessage(\r\n        \"lblAlwaysTranslate\",\r\n        twpLang.codeToLanguage(originalTabLanguage)\r\n      );\r\n\r\n      const translatedWhenHoveringThisLangText = chrome.i18n.getMessage(\r\n        \"lblShowTranslatedWhenHoveringThisLang\",\r\n        twpLang.codeToLanguage(originalTabLanguage)\r\n      );\r\n      if (\r\n        twpConfig\r\n          .get(\"langsToTranslateWhenHovering\")\r\n          .indexOf(originalTabLanguage) === -1\r\n      ) {\r\n        $(\r\n          \"option[data-i18n=lblShowTranslatedWhenHoveringThisLang]\"\r\n        ).textContent = translatedWhenHoveringThisLangText;\r\n      } else {\r\n        $(\r\n          \"option[data-i18n=lblShowTranslatedWhenHoveringThisLang]\"\r\n        ).textContent = \"✔ \" + translatedWhenHoveringThisLangText;\r\n      }\r\n      $(\r\n        \"option[data-i18n=lblShowTranslatedWhenHoveringThisLang]\"\r\n      ).removeAttribute(\"hidden\");\r\n\r\n      const neverTranslateLangText = chrome.i18n.getMessage(\r\n        \"btnNeverTranslateThisLanguage\"\r\n      );\r\n      if (\r\n        twpConfig.get(\"neverTranslateLangs\").indexOf(originalTabLanguage) === -1\r\n      ) {\r\n        $(\"option[data-i18n=btnNeverTranslateThisLanguage]\").textContent =\r\n          neverTranslateLangText;\r\n      } else {\r\n        $(\"option[data-i18n=btnNeverTranslateThisLanguage]\").textContent =\r\n          \"✔ \" + neverTranslateLangText;\r\n      }\r\n      $(\"option[data-i18n=btnNeverTranslateThisLanguage]\").style.display =\r\n        \"block\";\r\n    }\r\n\r\n    btnRestore.className = btnRestore.className.replace(\" w3-disabled\", \"\");\r\n    cbAlwaysTranslate.removeAttribute(\"disabled\");\r\n\r\n    if (showSelectTargetLanguage) {\r\n      lblTranslate.style.display = \"none\";\r\n      lblTranslating.style.display = \"none\";\r\n      lblTranslated.style.display = \"none\";\r\n      lblError.style.display = \"none\";\r\n      lblTargetLanguage.style.display = \"inline\";\r\n\r\n      selectTargetLanguage.style.display = \"inline\";\r\n      btnReset.style.display = \"inline\";\r\n\r\n      divAlwaysTranslate.style.display = \"none\";\r\n      btnTranslate.style.display = \"inline\";\r\n      btnRestore.style.display = \"none\";\r\n      btnTryAgain.style.display = \"none\";\r\n      btnOptionsDiv.style.display = \"none\";\r\n    } else {\r\n      divIconTranslateContainer.style.display = \"none\";\r\n      lblTargetLanguage.style.display = \"none\";\r\n      selectTargetLanguage.style.display = \"none\";\r\n      btnReset.style.display = \"none\";\r\n\r\n      divShowTranslateSelectedButton.style.display = \"none\";\r\n\r\n      switch (currentPageLanguageState) {\r\n        case \"translated\":\r\n          lblTranslate.style.display = \"none\";\r\n          lblTranslating.style.display = \"none\";\r\n          lblTranslated.style.display = \"inline\";\r\n          lblError.style.display = \"none\";\r\n\r\n          divAlwaysTranslate.style.display = \"none\";\r\n          btnTranslate.style.display = \"none\";\r\n          btnRestore.style.display = \"inline\";\r\n          btnTryAgain.style.display = \"none\";\r\n          btnOptionsDiv.style.display = \"inline\";\r\n\r\n          divShowTranslateSelectedButton.style.display = \"block\";\r\n\r\n          break;\r\n        case \"translating\":\r\n          lblTranslate.style.display = \"none\";\r\n          lblTranslating.style.display = \"inline\";\r\n          lblTranslated.style.display = \"none\";\r\n          lblError.style.display = \"none\";\r\n\r\n          divAlwaysTranslate.style.display = \"none\";\r\n          btnTranslate.style.display = \"none\";\r\n          btnRestore.style.display = \"inline\";\r\n          btnTryAgain.style.display = \"none\";\r\n          btnOptionsDiv.style.display = \"none\";\r\n\r\n          if (btnRestore.className.indexOf(\"w3-disabled\") == -1) {\r\n            btnRestore.className += \" w3-disabled\";\r\n          }\r\n          break;\r\n        case \"error\":\r\n          lblTranslate.style.display = \"none\";\r\n          lblTranslating.style.display = \"none\";\r\n          lblTranslated.style.display = \"none\";\r\n          lblError.style.display = \"inline\";\r\n\r\n          divAlwaysTranslate.style.display = \"none\";\r\n          btnTranslate.style.display = \"none\";\r\n          btnRestore.style.display = \"none\";\r\n          btnTryAgain.style.display = \"inline\";\r\n          btnOptionsDiv.style.display = \"none\";\r\n\r\n          divIconTranslateContainer.style.display = \"block\";\r\n          break;\r\n        default:\r\n          lblTranslate.style.display = \"inline\";\r\n          lblTranslating.style.display = \"none\";\r\n          lblTranslated.style.display = \"none\";\r\n          lblError.style.display = \"none\";\r\n\r\n          divAlwaysTranslate.style.display = \"block\";\r\n          showAlwaysTranslateCheckbox\r\n            ? void 0\r\n            : cbAlwaysTranslate.setAttribute(\"disabled\", \"disabled\");\r\n          btnTranslate.style.display = \"inline\";\r\n          btnRestore.style.display = \"none\";\r\n          btnTryAgain.style.display = \"none\";\r\n          btnOptionsDiv.style.display = \"inline\";\r\n\r\n          divIconTranslateContainer.style.display = \"block\";\r\n          break;\r\n      }\r\n    }\r\n  }\r\n  updateInterface();\r\n\r\n  $(\"#btnTranslate\").onclick = (e) => {\r\n    currentPageLanguageState = \"translated\";\r\n\r\n    chrome.tabs.query(\r\n      {\r\n        active: true,\r\n        currentWindow: true,\r\n      },\r\n      (tabs) => {\r\n        if (twpConfig.get(\"targetLanguage\") !== selectTargetLanguage.value) {\r\n          twpConfig.setTargetLanguage(selectTargetLanguage.value, true);\r\n        } else {\r\n          twpConfig.setTargetLanguage(selectTargetLanguage.value);\r\n        }\r\n\r\n        const langs = twpLang.getLanguageList();\r\n        lblTranslate.textContent = chrome.i18n.getMessage(\r\n          \"lblTranslatePageInto\",\r\n          langs[twpConfig.get(\"targetLanguage\")] ||\r\n            twpConfig.get(\"targetLanguage\")\r\n        );\r\n        lblTranslated.textContent = chrome.i18n.getMessage(\r\n          \"lblPageTranslateInto\",\r\n          langs[twpConfig.get(\"targetLanguage\")] ||\r\n            twpConfig.get(\"targetLanguage\")\r\n        );\r\n\r\n        chrome.tabs.sendMessage(\r\n          tabs[0].id,\r\n          {\r\n            action: \"translatePage\",\r\n            targetLanguage: selectTargetLanguage.value,\r\n          },\r\n          checkedLastError\r\n        );\r\n      }\r\n    );\r\n\r\n    showSelectTargetLanguage = false;\r\n    updateInterface();\r\n  };\r\n\r\n  $(\"#btnRestore\").onclick = (e) => {\r\n    currentPageLanguageState = \"original\";\r\n\r\n    chrome.tabs.query(\r\n      {\r\n        active: true,\r\n        currentWindow: true,\r\n      },\r\n      (tabs) => {\r\n        chrome.tabs.sendMessage(\r\n          tabs[0].id,\r\n          {\r\n            action: \"restorePage\",\r\n          },\r\n          checkedLastError\r\n        );\r\n      }\r\n    );\r\n\r\n    updateInterface();\r\n  };\r\n\r\n  $(\"#btnSwitchInterfaces\").addEventListener(\"click\", () => {\r\n    twpConfig.set(\"useOldPopup\", \"no\");\r\n    window.location = \"popup.html\";\r\n  });\r\n\r\n  $(\"#divIconTranslate\").addEventListener(\"click\", () => {\r\n    currentPageTranslatorService = twpConfig.swapPageTranslationService();\r\n\r\n    chrome.tabs.query(\r\n      {\r\n        active: true,\r\n        currentWindow: true,\r\n      },\r\n      (tabs) => {\r\n        chrome.tabs.sendMessage(\r\n          tabs[0].id,\r\n          {\r\n            action: \"swapTranslationService\",\r\n            newServiceName: currentPageTranslatorService,\r\n          },\r\n          checkedLastError\r\n        );\r\n      }\r\n    );\r\n\r\n    updateInterface();\r\n  });\r\n\r\n  chrome.tabs.query(\r\n    {\r\n      active: true,\r\n      currentWindow: true,\r\n    },\r\n    (tabs) => {\r\n      $(\"#cbAlwaysTranslateThisLang\").addEventListener(\"change\", (e) => {\r\n        const hostname = new URL(tabs[0].url).hostname;\r\n        if (e.target.checked) {\r\n          twpConfig.addLangToAlwaysTranslate(originalTabLanguage, hostname);\r\n        } else {\r\n          twpConfig.removeLangFromAlwaysTranslate(originalTabLanguage);\r\n        }\r\n      });\r\n    }\r\n  );\r\n\r\n  $(\"#btnOptions\").addEventListener(\"change\", (event) => {\r\n    const btnOptions = event.target;\r\n\r\n    chrome.tabs.query(\r\n      {\r\n        active: true,\r\n        currentWindow: true,\r\n      },\r\n      (tabs) => {\r\n        const hostname = new URL(tabs[0].url).hostname;\r\n        switch (btnOptions.value) {\r\n          case \"changeLanguage\":\r\n            showSelectTargetLanguage = true;\r\n            updateInterface();\r\n            break;\r\n          case \"alwaysTranslateThisSite\":\r\n            if (\r\n              twpConfig.get(\"alwaysTranslateSites\").indexOf(hostname) === -1\r\n            ) {\r\n              twpConfig.addSiteToAlwaysTranslate(hostname);\r\n            } else {\r\n              twpConfig.removeSiteFromAlwaysTranslate(hostname);\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"neverTranslateThisSite\":\r\n            if (twpConfig.get(\"neverTranslateSites\").indexOf(hostname) === -1) {\r\n              twpConfig.addSiteToNeverTranslate(hostname);\r\n            } else {\r\n              twpConfig.removeSiteFromNeverTranslate(hostname);\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"alwaysTranslateThisLanguage\":\r\n            twpConfig.addLangToAlwaysTranslate(originalTabLanguage, hostname);\r\n            break;\r\n          case \"neverTranslateThisLanguage\":\r\n            if (\r\n              twpConfig\r\n                .get(\"neverTranslateLangs\")\r\n                .indexOf(originalTabLanguage) === -1\r\n            ) {\r\n              twpConfig.addLangToNeverTranslate(originalTabLanguage, hostname);\r\n            } else {\r\n              twpConfig.removeLangFromNeverTranslate(originalTabLanguage);\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"showTranslateSelectedButton\":\r\n            if (twpConfig.get(\"showTranslateSelectedButton\") === \"yes\") {\r\n              twpConfig.set(\"showTranslateSelectedButton\", \"no\");\r\n            } else {\r\n              twpConfig.set(\"showTranslateSelectedButton\", \"yes\");\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"showOriginalTextWhenHovering\":\r\n            if (twpConfig.get(\"showOriginalTextWhenHovering\") === \"yes\") {\r\n              twpConfig.set(\"showOriginalTextWhenHovering\", \"no\");\r\n            } else {\r\n              twpConfig.set(\"showOriginalTextWhenHovering\", \"yes\");\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"showTranslatedWhenHoveringThisSite\":\r\n            if (\r\n              twpConfig\r\n                .get(\"sitesToTranslateWhenHovering\")\r\n                .indexOf(hostname) === -1\r\n            ) {\r\n              twpConfig.addSiteToTranslateWhenHovering(hostname);\r\n            } else {\r\n              twpConfig.removeSiteFromTranslateWhenHovering(hostname);\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"showTranslatedWhenHoveringThisLang\":\r\n            if (\r\n              twpConfig\r\n                .get(\"langsToTranslateWhenHovering\")\r\n                .indexOf(originalTabLanguage) === -1\r\n            ) {\r\n              twpConfig.addLangToTranslateWhenHovering(originalTabLanguage);\r\n            } else {\r\n              twpConfig.removeLangFromTranslateWhenHovering(\r\n                originalTabLanguage\r\n              );\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"translateInExternalSite\":\r\n            chrome.tabs.query(\r\n              {\r\n                active: true,\r\n                currentWindow: true,\r\n              },\r\n              (tabs) => {\r\n                if (currentPageTranslatorService === \"yandex\") {\r\n                  chrome.tabs.create({\r\n                    url: `https://translate.yandex.com/translate?view=compact&url=${encodeURIComponent(\r\n                      tabs[0].url\r\n                    )}&lang=${twpConfig.get(\"targetLanguage\").split(\"-\")[0]}`,\r\n                  });\r\n                } else {\r\n                  // google\r\n                  chrome.tabs.create({\r\n                    url: `https://translate.google.com/translate?tl=${twpConfig.get(\r\n                      \"targetLanguage\"\r\n                    )}&u=${encodeURIComponent(tabs[0].url)}`,\r\n                  });\r\n                }\r\n              }\r\n            );\r\n            break;\r\n          case \"moreOptions\":\r\n            chrome.tabs.create({\r\n              url: chrome.runtime.getURL(\"/options/options.html\"),\r\n            });\r\n            break;\r\n          case \"donate\":\r\n            chrome.tabs.create({\r\n              url: chrome.runtime.getURL(\"/options/options.html#donation\"),\r\n            });\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        btnOptions.value = \"options\";\r\n      }\r\n    );\r\n  });\r\n\r\n  chrome.tabs.query(\r\n    {\r\n      active: true,\r\n      currentWindow: true,\r\n    },\r\n    (tabs) => {\r\n      const hostname = new URL(tabs[0].url).hostname;\r\n\r\n      const btnNeverTranslateText = chrome.i18n.getMessage(\"btnNeverTranslate\");\r\n      if (twpConfig.get(\"neverTranslateSites\").indexOf(hostname) === -1) {\r\n        $(\"option[data-i18n=btnNeverTranslate]\").textContent =\r\n          btnNeverTranslateText;\r\n      } else {\r\n        $(\"option[data-i18n=btnNeverTranslate]\").textContent =\r\n          \"✔ \" + btnNeverTranslateText;\r\n      }\r\n\r\n      const btnAlwaysTranslateText =\r\n        chrome.i18n.getMessage(\"btnAlwaysTranslate\");\r\n      if (twpConfig.get(\"alwaysTranslateSites\").indexOf(hostname) === -1) {\r\n        $(\"option[data-i18n=btnAlwaysTranslate]\").textContent =\r\n          btnAlwaysTranslateText;\r\n      } else {\r\n        $(\"option[data-i18n=btnAlwaysTranslate]\").textContent =\r\n          \"✔ \" + btnAlwaysTranslateText;\r\n      }\r\n\r\n      {\r\n        const text = chrome.i18n.getMessage(\"lblShowTranslateSelectedButton\");\r\n        if (twpConfig.get(\"showTranslateSelectedButton\") !== \"yes\") {\r\n          $(\"option[data-i18n=lblShowTranslateSelectedButton]\").textContent =\r\n            text;\r\n        } else {\r\n          $(\"option[data-i18n=lblShowTranslateSelectedButton]\").textContent =\r\n            \"✔ \" + text;\r\n        }\r\n      }\r\n      {\r\n        const text = chrome.i18n.getMessage(\"lblShowOriginalTextWhenHovering\");\r\n        if (twpConfig.get(\"showOriginalTextWhenHovering\") !== \"yes\") {\r\n          $(\"option[data-i18n=lblShowOriginalTextWhenHovering]\").textContent =\r\n            text;\r\n        } else {\r\n          $(\"option[data-i18n=lblShowOriginalTextWhenHovering]\").textContent =\r\n            \"✔ \" + text;\r\n        }\r\n      }\r\n      {\r\n        const text = chrome.i18n.getMessage(\r\n          \"lblShowTranslatedWhenHoveringThisSite\"\r\n        );\r\n        if (\r\n          twpConfig.get(\"sitesToTranslateWhenHovering\").indexOf(hostname) === -1\r\n        ) {\r\n          $(\r\n            \"option[data-i18n=lblShowTranslatedWhenHoveringThisSite]\"\r\n          ).textContent = text;\r\n        } else {\r\n          $(\r\n            \"option[data-i18n=lblShowTranslatedWhenHoveringThisSite]\"\r\n          ).textContent = \"✔ \" + text;\r\n        }\r\n      }\r\n    }\r\n  );\r\n});\r\n"],"mappings":"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"}