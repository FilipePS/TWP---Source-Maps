{"version":3,"file":"../../popup/popup.js","names":["$","document","querySelector","bind","twpConfig","onReady","onclick","window","location","popupPanelSection","get","updatePopupSection","querySelectorAll","forEach","node","nodePopupPanelSection","parseInt","getAttribute","isNaN","style","display","nodePopupPanelSection2","e","set","originalTabLanguage","currentPageLanguage","currentPageLanguageState","currentPageTranslatorService","twpButtons","button","addEventListener","event","classList","remove","target","add","value","setTargetLanguage","chrome","tabs","query","active","currentWindow","sendMessage","id","action","targetLanguage","checkedLastError","targetLanguages","i","textContent","twpLang","codeToLanguage","frameId","tabLanguage","fixTLanguageCode","childNodes","pageLanguage","updateInterface","pageLanguageState","pageTranslatorService","i18n","getMessage","setAttribute","checked","indexOf","removeAttribute","translatedWhenHoveringThisLangText","neverTranslateLangText","enableDarkMode","el","createElement","head","appendChild","disableDarkMode","matchMedia","matches","open","swapPageTranslationService","newServiceName","hostname","URL","url","addLangToAlwaysTranslate","removeLangFromAlwaysTranslate","addSiteToAlwaysTranslate","removeSiteFromAlwaysTranslate","addSiteToTranslateWhenHovering","removeSiteFromTranslateWhenHovering","addLangToTranslateWhenHovering","removeLangFromTranslateWhenHovering","text","btnOptions","runtime","getURL","close","addSiteToNeverTranslate","removeSiteFromNeverTranslate","addLangToNeverTranslate","removeLangFromNeverTranslate","create","encodeURIComponent","split","textNever","textAlways","innerHTML"],"sources":["popup.js"],"sourcesContent":["\"use strict\";\r\n\r\nvar $ = document.querySelector.bind(document);\r\n\r\ntwpConfig.onReady(function () {\r\n  $(\"#btnImproveTranslation\").onclick = () => {\r\n    window.location = \"improve-translation.html\";\r\n  };\r\n\r\n  let popupPanelSection = twpConfig.get(\"popupPanelSection\");\r\n\r\n  function updatePopupSection() {\r\n    document.querySelectorAll(\"[data-popupPanelSection]\").forEach((node) => {\r\n      const nodePopupPanelSection = parseInt(\r\n        node.getAttribute(\"data-popupPanelSection\")\r\n      );\r\n      if (isNaN(nodePopupPanelSection)) return;\r\n\r\n      if (nodePopupPanelSection > popupPanelSection) {\r\n        node.style.display = \"none\";\r\n      } else {\r\n        node.style.display = \"block\";\r\n      }\r\n    });\r\n\r\n    document.querySelectorAll(\"[data-popupPanelSection2]\").forEach((node) => {\r\n      const nodePopupPanelSection2 = parseInt(\r\n        node.getAttribute(\"data-popupPanelSection2\")\r\n      );\r\n      if (isNaN(nodePopupPanelSection2)) return;\r\n\r\n      if (nodePopupPanelSection2 <= popupPanelSection) {\r\n        node.style.display = \"none\";\r\n      } else {\r\n        node.style.display = \"block\";\r\n      }\r\n    });\r\n\r\n    $(\"#more\").style.display = \"block\";\r\n    $(\"#less\").style.display = \"block\";\r\n\r\n    if (popupPanelSection >= 6) {\r\n      $(\"#more\").style.display = \"none\";\r\n    } else if (popupPanelSection <= 0) {\r\n      $(\"#less\").style.display = \"none\";\r\n    }\r\n  }\r\n  updatePopupSection();\r\n\r\n  $(\"#more\").onclick = (e) => {\r\n    if (popupPanelSection < 6) {\r\n      popupPanelSection++;\r\n      updatePopupSection();\r\n    }\r\n    twpConfig.set(\"popupPanelSection\", popupPanelSection);\r\n  };\r\n  $(\"#less\").onclick = (e) => {\r\n    if (popupPanelSection > 0) {\r\n      popupPanelSection--;\r\n      updatePopupSection();\r\n    }\r\n    twpConfig.set(\"popupPanelSection\", popupPanelSection);\r\n  };\r\n\r\n  let originalTabLanguage = \"und\";\r\n  let currentPageLanguage = \"und\";\r\n  let currentPageLanguageState = \"original\";\r\n  let currentPageTranslatorService = twpConfig.get(\"pageTranslatorService\");\r\n\r\n  const twpButtons = document.querySelectorAll(\"button\");\r\n\r\n  twpButtons.forEach((button) => {\r\n    button.addEventListener(\"click\", (event) => {\r\n      twpButtons.forEach((button) => {\r\n        button.classList.remove(\"w3-buttonSelected\");\r\n      });\r\n      event.target.classList.add(\"w3-buttonSelected\");\r\n\r\n      currentPageLanguage = event.target.value;\r\n      if (currentPageLanguage === \"original\") {\r\n        currentPageLanguageState = \"original\";\r\n      } else {\r\n        currentPageLanguageState = \"translated\";\r\n        twpConfig.setTargetLanguage(event.target.value);\r\n      }\r\n\r\n      chrome.tabs.query(\r\n        {\r\n          active: true,\r\n          currentWindow: true,\r\n        },\r\n        (tabs) => {\r\n          chrome.tabs.sendMessage(\r\n            tabs[0].id,\r\n            {\r\n              action: \"translatePage\",\r\n              targetLanguage: event.target.value || \"original\",\r\n            },\r\n            checkedLastError\r\n          );\r\n        }\r\n      );\r\n    });\r\n  });\r\n\r\n  let targetLanguages = twpConfig.get(\"targetLanguages\");\r\n  for (let i = 1; i < 4; i++) {\r\n    const button = twpButtons[i];\r\n    button.value = targetLanguages[i - 1];\r\n    button.textContent = twpLang.codeToLanguage(targetLanguages[i - 1]);\r\n  }\r\n\r\n  chrome.tabs.query(\r\n    {\r\n      active: true,\r\n      currentWindow: true,\r\n    },\r\n    (tabs) => {\r\n      chrome.tabs.sendMessage(\r\n        tabs[0].id,\r\n        {\r\n          action: \"getOriginalTabLanguage\",\r\n        },\r\n        {\r\n          frameId: 0,\r\n        },\r\n        (tabLanguage) => {\r\n          checkedLastError();\r\n          if (\r\n            !tabLanguage ||\r\n            (tabLanguage = twpLang.fixTLanguageCode(tabLanguage))\r\n          ) {\r\n            originalTabLanguage = tabLanguage || \"und\";\r\n            twpButtons[0].childNodes[1].textContent =\r\n              twpLang.codeToLanguage(originalTabLanguage);\r\n          }\r\n        }\r\n      );\r\n\r\n      chrome.tabs.sendMessage(\r\n        tabs[0].id,\r\n        {\r\n          action: \"getCurrentPageLanguage\",\r\n        },\r\n        {\r\n          frameId: 0,\r\n        },\r\n        (pageLanguage) => {\r\n          checkedLastError();\r\n          if (pageLanguage) {\r\n            currentPageLanguage = pageLanguage;\r\n            updateInterface();\r\n          }\r\n        }\r\n      );\r\n\r\n      chrome.tabs.sendMessage(\r\n        tabs[0].id,\r\n        {\r\n          action: \"getCurrentPageLanguageState\",\r\n        },\r\n        {\r\n          frameId: 0,\r\n        },\r\n        (pageLanguageState) => {\r\n          checkedLastError();\r\n          if (pageLanguageState) {\r\n            currentPageLanguageState = pageLanguageState;\r\n            updateInterface();\r\n          }\r\n        }\r\n      );\r\n\r\n      chrome.tabs.sendMessage(\r\n        tabs[0].id,\r\n        {\r\n          action: \"getCurrentPageTranslatorService\",\r\n        },\r\n        {\r\n          frameId: 0,\r\n        },\r\n        (pageTranslatorService) => {\r\n          checkedLastError();\r\n          if (pageTranslatorService) {\r\n            currentPageTranslatorService = pageTranslatorService;\r\n            updateInterface();\r\n          }\r\n        }\r\n      );\r\n    }\r\n  );\r\n\r\n  function updateInterface() {\r\n    if (currentPageTranslatorService == \"yandex\") {\r\n      $(\"#btnOptions option[value='translateInExternalSite']\").textContent =\r\n        chrome.i18n.getMessage(\"msgOpenOnYandexTranslator\");\r\n      $(\"#iconTranslate\").setAttribute(\"src\", \"/icons/yandex-translate-32.png\");\r\n    } else if (currentPageTranslatorService == \"bing\") {\r\n      $(\"#btnOptions option[value='translateInExternalSite']\").textContent =\r\n        chrome.i18n.getMessage(\"btnOpenOnGoogleTranslate\");\r\n      $(\"#iconTranslate\").setAttribute(\"src\", \"/icons/bing-translate-32.png\");\r\n    } else {\r\n      // google\r\n      $(\"#btnOptions option[value='translateInExternalSite']\").textContent =\r\n        chrome.i18n.getMessage(\"btnOpenOnGoogleTranslate\");\r\n      $(\"#iconTranslate\").setAttribute(\"src\", \"/icons/google-translate-32.png\");\r\n    }\r\n\r\n    twpButtons.forEach((button) => {\r\n      button.classList.remove(\"w3-buttonSelected\");\r\n      if (\r\n        (currentPageLanguageState !== \"translated\" &&\r\n          button.value === \"original\") ||\r\n        (currentPageLanguageState === \"translated\" &&\r\n          button.value === currentPageLanguage)\r\n      ) {\r\n        button.classList.add(\"w3-buttonSelected\");\r\n      }\r\n    });\r\n\r\n    if (originalTabLanguage !== \"und\") {\r\n      $(\"#cbAlwaysTranslateThisLang\").checked =\r\n        twpConfig.get(\"alwaysTranslateLangs\").indexOf(originalTabLanguage) !==\r\n        -1;\r\n      $(\"#lblAlwaysTranslateThisLang\").textContent = chrome.i18n.getMessage(\r\n        \"lblAlwaysTranslate\",\r\n        twpLang.codeToLanguage(originalTabLanguage)\r\n      );\r\n      $(\"#cbAlwaysTranslateThisLang\").removeAttribute(\"disabled\");\r\n\r\n      const translatedWhenHoveringThisLangText = chrome.i18n.getMessage(\r\n        \"lblShowTranslatedWhenHoveringThisLang\",\r\n        twpLang.codeToLanguage(originalTabLanguage)\r\n      );\r\n      $(\"#cbShowTranslatedWhenHoveringThisLang\").checked =\r\n        twpConfig\r\n          .get(\"langsToTranslateWhenHovering\")\r\n          .indexOf(originalTabLanguage) !== -1;\r\n      $(\"#lblShowTranslatedWhenHoveringThisLang\").textContent =\r\n        translatedWhenHoveringThisLangText;\r\n      $(\"#cbShowTranslatedWhenHoveringThisLang\").removeAttribute(\"disabled\");\r\n\r\n      if (\r\n        twpConfig\r\n          .get(\"langsToTranslateWhenHovering\")\r\n          .indexOf(originalTabLanguage) === -1\r\n      ) {\r\n        $(\r\n          \"option[data-i18n=lblShowTranslatedWhenHoveringThisLang]\"\r\n        ).textContent = translatedWhenHoveringThisLangText;\r\n      } else {\r\n        $(\r\n          \"option[data-i18n=lblShowTranslatedWhenHoveringThisLang]\"\r\n        ).textContent = \"✔ \" + translatedWhenHoveringThisLangText;\r\n      }\r\n      $(\r\n        \"option[data-i18n=lblShowTranslatedWhenHoveringThisLang]\"\r\n      ).removeAttribute(\"hidden\");\r\n\r\n      const neverTranslateLangText = chrome.i18n.getMessage(\r\n        \"btnNeverTranslateThisLanguage\"\r\n      );\r\n      if (\r\n        twpConfig.get(\"neverTranslateLangs\").indexOf(originalTabLanguage) === -1\r\n      ) {\r\n        $(\"option[data-i18n=btnNeverTranslateThisLanguage]\").textContent =\r\n          neverTranslateLangText;\r\n      } else {\r\n        $(\"option[data-i18n=btnNeverTranslateThisLanguage]\").textContent =\r\n          \"✔ \" + neverTranslateLangText;\r\n      }\r\n      $(\"option[data-i18n=btnNeverTranslateThisLanguage]\").style.display =\r\n        \"block\";\r\n    }\r\n  }\r\n  updateInterface();\r\n\r\n  function enableDarkMode() {\r\n    if (!$(\"#darkModeElement\")) {\r\n      const el = document.createElement(\"style\");\r\n      el.setAttribute(\"id\", \"darkModeElement\");\r\n      el.setAttribute(\"rel\", \"stylesheet\");\r\n      el.textContent = `\r\n            body {\r\n                color: rgb(231, 230, 228) !important;\r\n                background-color: #181a1b !important;\r\n            }\r\n            \r\n            .mdiv, .md, {\r\n                background-color: rgb(231, 230, 228);\r\n            }\r\n\r\n            .menuDot {\r\n                background-image:\r\n                    radial-gradient(rgb(231, 230, 228) 2px, transparent 2px),\r\n                    radial-gradient(rgb(231, 230, 228) 2px, transparent 2px),\r\n                    radial-gradient(rgb(231, 230, 228) 2px, transparent 2px);\r\n            }\r\n\r\n            #btnSwitchInterfaces:hover, #divMenu:hover {\r\n                background-color: #454a4d !important;\r\n                color: rgb(231, 230, 228) !important;\r\n            }\r\n            \r\n            select {\r\n                color: rgb(231, 230, 228) !important;\r\n                background-color: #181a1b !important;\r\n            }\r\n\r\n            hr {\r\n                border-color: #666;\r\n            }\r\n\r\n            .arrow {\r\n                border-color: rgb(231, 230, 228);\r\n            }\r\n\r\n            #btnImproveTranslation {\r\n              color: rgb(231, 230, 228) !important;\r\n              background-color: #181a1b !important;\r\n              border: 1px solid #454a4d !important;\r\n            }\r\n            `;\r\n      document.head.appendChild(el);\r\n    }\r\n  }\r\n\r\n  function disableDarkMode() {\r\n    if ($(\"#darkModeElement\")) {\r\n      $(\"#darkModeElement\").remove();\r\n    }\r\n  }\r\n\r\n  switch (twpConfig.get(\"darkMode\")) {\r\n    case \"auto\":\r\n      if (matchMedia(\"(prefers-color-scheme: dark)\").matches) {\r\n        enableDarkMode();\r\n      } else {\r\n        disableDarkMode();\r\n      }\r\n      break;\r\n    case \"yes\":\r\n      enableDarkMode();\r\n      break;\r\n    case \"no\":\r\n      disableDarkMode();\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n\r\n  $(\"#btnPatreon\").onclick = (e) => {\r\n    window.open(\"https://www.patreon.com/filipeps\", \"_blank\");\r\n  };\r\n\r\n  $(\"#btnSwitchInterfaces\").addEventListener(\"click\", () => {\r\n    twpConfig.set(\"useOldPopup\", \"yes\");\r\n    window.location = \"old-popup.html\";\r\n  });\r\n\r\n  $(\"#divIconTranslate\").addEventListener(\"click\", () => {\r\n    currentPageTranslatorService = twpConfig.swapPageTranslationService();\r\n\r\n    chrome.tabs.query(\r\n      {\r\n        active: true,\r\n        currentWindow: true,\r\n      },\r\n      (tabs) => {\r\n        chrome.tabs.sendMessage(\r\n          tabs[0].id,\r\n          {\r\n            action: \"swapTranslationService\",\r\n            newServiceName: currentPageTranslatorService,\r\n          },\r\n          checkedLastError\r\n        );\r\n      }\r\n    );\r\n\r\n    updateInterface();\r\n  });\r\n\r\n  chrome.tabs.query(\r\n    {\r\n      active: true,\r\n      currentWindow: true,\r\n    },\r\n    (tabs) => {\r\n      $(\"#cbAlwaysTranslateThisLang\").addEventListener(\"change\", (e) => {\r\n        const hostname = new URL(tabs[0].url).hostname;\r\n        if (e.target.checked) {\r\n          twpConfig.addLangToAlwaysTranslate(originalTabLanguage, hostname);\r\n        } else {\r\n          twpConfig.removeLangFromAlwaysTranslate(originalTabLanguage);\r\n        }\r\n      });\r\n\r\n      $(\"#cbAlwaysTranslateThisSite\").addEventListener(\"change\", (e) => {\r\n        const hostname = new URL(tabs[0].url).hostname;\r\n        if (e.target.checked) {\r\n          twpConfig.addSiteToAlwaysTranslate(hostname);\r\n        } else {\r\n          twpConfig.removeSiteFromAlwaysTranslate(hostname);\r\n        }\r\n      });\r\n\r\n      $(\"#cbShowTranslateSelectedButton\").addEventListener(\"change\", (e) => {\r\n        if (e.target.checked) {\r\n          twpConfig.set(\"showTranslateSelectedButton\", \"yes\");\r\n        } else {\r\n          twpConfig.set(\"showTranslateSelectedButton\", \"no\");\r\n        }\r\n      });\r\n\r\n      $(\"#cbShowOriginalWhenHovering\").addEventListener(\"change\", (e) => {\r\n        if (e.target.checked) {\r\n          twpConfig.set(\"showOriginalTextWhenHovering\", \"yes\");\r\n        } else {\r\n          twpConfig.set(\"showOriginalTextWhenHovering\", \"no\");\r\n        }\r\n      });\r\n\r\n      $(\"#cbShowTranslatedWhenHoveringThisSite\").addEventListener(\r\n        \"change\",\r\n        (e) => {\r\n          const hostname = new URL(tabs[0].url).hostname;\r\n          if (e.target.checked) {\r\n            twpConfig.addSiteToTranslateWhenHovering(hostname);\r\n          } else {\r\n            twpConfig.removeSiteFromTranslateWhenHovering(hostname);\r\n          }\r\n        }\r\n      );\r\n\r\n      $(\"#cbShowTranslatedWhenHoveringThisLang\").addEventListener(\r\n        \"change\",\r\n        (e) => {\r\n          if (e.target.checked) {\r\n            twpConfig.addLangToTranslateWhenHovering(originalTabLanguage);\r\n          } else {\r\n            twpConfig.removeLangFromTranslateWhenHovering(originalTabLanguage);\r\n          }\r\n        }\r\n      );\r\n\r\n      $(\"#cbShowTranslateSelectedButton\").checked =\r\n        twpConfig.get(\"showTranslateSelectedButton\") == \"yes\" ? true : false;\r\n      $(\"#cbShowOriginalWhenHovering\").checked =\r\n        twpConfig.get(\"showOriginalTextWhenHovering\") == \"yes\" ? true : false;\r\n\r\n      const hostname = new URL(tabs[0].url).hostname;\r\n      $(\"#cbAlwaysTranslateThisSite\").checked =\r\n        twpConfig.get(\"alwaysTranslateSites\").indexOf(hostname) !== -1;\r\n      $(\"#cbShowTranslatedWhenHoveringThisSite\").checked =\r\n        twpConfig.get(\"sitesToTranslateWhenHovering\").indexOf(hostname) !== -1;\r\n\r\n      {\r\n        const text = chrome.i18n.getMessage(\"lblShowTranslateSelectedButton\");\r\n        if (twpConfig.get(\"showTranslateSelectedButton\") !== \"yes\") {\r\n          $(\"option[data-i18n=lblShowTranslateSelectedButton]\").textContent =\r\n            text;\r\n        } else {\r\n          $(\"option[data-i18n=lblShowTranslateSelectedButton]\").textContent =\r\n            \"✔ \" + text;\r\n        }\r\n      }\r\n      {\r\n        const text = chrome.i18n.getMessage(\"lblShowOriginalTextWhenHovering\");\r\n        if (twpConfig.get(\"showOriginalTextWhenHovering\") !== \"yes\") {\r\n          $(\"option[data-i18n=lblShowOriginalTextWhenHovering]\").textContent =\r\n            text;\r\n        } else {\r\n          $(\"option[data-i18n=lblShowOriginalTextWhenHovering]\").textContent =\r\n            \"✔ \" + text;\r\n        }\r\n      }\r\n      {\r\n        const text = chrome.i18n.getMessage(\r\n          \"lblShowTranslatedWhenHoveringThisSite\"\r\n        );\r\n        if (\r\n          twpConfig.get(\"sitesToTranslateWhenHovering\").indexOf(hostname) === -1\r\n        ) {\r\n          $(\r\n            \"option[data-i18n=lblShowTranslatedWhenHoveringThisSite]\"\r\n          ).textContent = text;\r\n        } else {\r\n          $(\r\n            \"option[data-i18n=lblShowTranslatedWhenHoveringThisSite]\"\r\n          ).textContent = \"✔ \" + text;\r\n        }\r\n      }\r\n    }\r\n  );\r\n\r\n  $(\"#btnOptions\").addEventListener(\"change\", (event) => {\r\n    const btnOptions = event.target;\r\n\r\n    chrome.tabs.query(\r\n      {\r\n        active: true,\r\n        currentWindow: true,\r\n      },\r\n      (tabs) => {\r\n        const hostname = new URL(tabs[0].url).hostname;\r\n        switch (btnOptions.value) {\r\n          case \"changeLanguage\":\r\n            location = chrome.runtime.getURL(\r\n              \"/popup/popup-change-language.html\"\r\n            );\r\n            break;\r\n          case \"alwaysTranslateThisSite\":\r\n            if (\r\n              twpConfig.get(\"alwaysTranslateSites\").indexOf(hostname) === -1\r\n            ) {\r\n              twpConfig.addSiteToAlwaysTranslate(hostname);\r\n            } else {\r\n              twpConfig.removeSiteFromAlwaysTranslate(hostname);\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"neverTranslateThisSite\":\r\n            if (twpConfig.get(\"neverTranslateSites\").indexOf(hostname) === -1) {\r\n              twpConfig.addSiteToNeverTranslate(hostname);\r\n            } else {\r\n              twpConfig.removeSiteFromNeverTranslate(hostname);\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"alwaysTranslateThisLanguage\":\r\n            if (\r\n              twpConfig\r\n                .get(\"alwaysTranslateLangs\")\r\n                .indexOf(originalTabLanguage) === -1\r\n            ) {\r\n              twpConfig.addLangToAlwaysTranslate(originalTabLanguage, hostname);\r\n            } else {\r\n              twpConfig.removeLangFromAlwaysTranslate(originalTabLanguage);\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"neverTranslateThisLanguage\":\r\n            if (\r\n              twpConfig\r\n                .get(\"neverTranslateLangs\")\r\n                .indexOf(originalTabLanguage) === -1\r\n            ) {\r\n              twpConfig.addLangToNeverTranslate(originalTabLanguage, hostname);\r\n            } else {\r\n              twpConfig.removeLangFromNeverTranslate(originalTabLanguage);\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"showTranslateSelectedButton\":\r\n            if (twpConfig.get(\"showTranslateSelectedButton\") === \"yes\") {\r\n              twpConfig.set(\"showTranslateSelectedButton\", \"no\");\r\n            } else {\r\n              twpConfig.set(\"showTranslateSelectedButton\", \"yes\");\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"showOriginalTextWhenHovering\":\r\n            if (twpConfig.get(\"showOriginalTextWhenHovering\") === \"yes\") {\r\n              twpConfig.set(\"showOriginalTextWhenHovering\", \"no\");\r\n            } else {\r\n              twpConfig.set(\"showOriginalTextWhenHovering\", \"yes\");\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"showTranslatedWhenHoveringThisSite\":\r\n            if (\r\n              twpConfig\r\n                .get(\"sitesToTranslateWhenHovering\")\r\n                .indexOf(hostname) === -1\r\n            ) {\r\n              twpConfig.addSiteToTranslateWhenHovering(hostname);\r\n            } else {\r\n              twpConfig.removeSiteFromTranslateWhenHovering(hostname);\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"showTranslatedWhenHoveringThisLang\":\r\n            if (\r\n              twpConfig\r\n                .get(\"langsToTranslateWhenHovering\")\r\n                .indexOf(originalTabLanguage) === -1\r\n            ) {\r\n              twpConfig.addLangToTranslateWhenHovering(originalTabLanguage);\r\n            } else {\r\n              twpConfig.removeLangFromTranslateWhenHovering(\r\n                originalTabLanguage\r\n              );\r\n            }\r\n            window.close();\r\n            break;\r\n          case \"translateInExternalSite\":\r\n            chrome.tabs.query(\r\n              {\r\n                active: true,\r\n                currentWindow: true,\r\n              },\r\n              (tabs) => {\r\n                if (currentPageTranslatorService === \"yandex\") {\r\n                  chrome.tabs.create({\r\n                    url: `https://translate.yandex.com/translate?view=compact&url=${encodeURIComponent(\r\n                      tabs[0].url\r\n                    )}&lang=${twpConfig.get(\"targetLanguage\").split(\"-\")[0]}`,\r\n                  });\r\n                } else {\r\n                  // google\r\n                  chrome.tabs.create({\r\n                    url: `https://translate.google.com/translate?tl=${twpConfig.get(\r\n                      \"targetLanguage\"\r\n                    )}&u=${encodeURIComponent(tabs[0].url)}`,\r\n                  });\r\n                }\r\n              }\r\n            );\r\n            break;\r\n          case \"moreOptions\":\r\n            chrome.tabs.create({\r\n              url: chrome.runtime.getURL(\"/options/options.html\"),\r\n            });\r\n            break;\r\n          case \"donate\":\r\n            chrome.tabs.create({\r\n              url: chrome.runtime.getURL(\"/options/options.html#donation\"),\r\n            });\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        btnOptions.value = \"options\";\r\n      }\r\n    );\r\n  });\r\n\r\n  chrome.tabs.query(\r\n    {\r\n      active: true,\r\n      currentWindow: true,\r\n    },\r\n    (tabs) => {\r\n      const hostname = new URL(tabs[0].url).hostname;\r\n      const textNever = chrome.i18n.getMessage(\"btnNeverTranslate\");\r\n      if (twpConfig.get(\"neverTranslateSites\").indexOf(hostname) === -1) {\r\n        $(\"option[data-i18n=btnNeverTranslate]\").textContent = textNever;\r\n      } else {\r\n        $(\"option[data-i18n=btnNeverTranslate]\").textContent = \"✔ \" + textNever;\r\n      }\r\n\r\n      const textAlways = chrome.i18n.getMessage(\"btnAlwaysTranslate\");\r\n      if (twpConfig.get(\"alwaysTranslateSites\").indexOf(hostname) === -1) {\r\n        $(\"option[data-i18n=btnAlwaysTranslate]\").textContent = textAlways;\r\n      } else {\r\n        $(\"option[data-i18n=btnAlwaysTranslate]\").textContent =\r\n          \"✔ \" + textAlways;\r\n      }\r\n\r\n      $(\"option[data-i18n=btnDonate]\").innerHTML += \" &#10084;\";\r\n    }\r\n  );\r\n});\r\n"],"mappings":"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"}