{"version":3,"file":"../options/options.js","names":["fetch","then","response","text","responseText","window","scrollTo","document","getElementById","innerHTML","textContent","chrome","i18n","getMessage","replace","runtime","getManifest","name","version","$","querySelector","bind","twpConfig","onReady","platformInfo","isMobile","any","style","createElement","head","appendChild","pageAction","sideBarIsVisible","onclick","e","classList","toggle","display","hashchange","hash","location","divs","forEach","element","querySelectorAll","a","remove","add","addEventListener","fillLanguageList","select","langs","twpLang","getLanguageList","langsSorted","i","push","sort","b","localeCompare","value","option","updateDarkMode","get","matchMedia","matches","enableDarkMode","disableDarkMode","targetLanguage","onchange","setTargetLanguage","target","reload","targetLanguageTextTranslation","targetLanguages","set","indexOf","createNodeToNeverTranslateLangsList","langCode","langName","li","setAttribute","close","preventDefault","removeLangFromNeverTranslate","neverTranslateLangs","codeToLanguage","addLangToNeverTranslate","createNodeToAlwaysTranslateLangsList","removeLangFromAlwaysTranslate","alwaysTranslateLangs","addLangToAlwaysTranslate","createNodeToLangsToTranslateWhenHoveringList","removeLangFromTranslateWhenHovering","langsToTranslateWhenHovering","addLangToTranslateWhenHovering","createNodeToAlwaysTranslateSitesList","hostname","removeSiteFromAlwaysTranslate","alwaysTranslateSites","prompt","addSiteToAlwaysTranslate","createNodeToNeverTranslateSitesList","removeSiteFromNeverTranslate","neverTranslateSites","addSiteToNeverTranslate","createcustomDictionary","keyWord","customValue","removeKeyWordFromcustomDictionary","customDictionary","Map","entries","String","length","trim","toLowerCase","addKeyWordTocustomDictionary","createNodeToSitesToTranslateWhenHoveringList","removeSiteFromTranslateWhenHovering","sitesToTranslateWhenHovering","addSiteToTranslateWhenHovering","oninput","permissions","request","granted","removeAttribute","onChanged","newvalue","enableOrDisableTranslateSelectedAdvancedOptions","input","checked","escapeHtml","unsafe","tabs","create","url","defaultShortcuts","Object","keys","commands","info","suggested_key","default","addHotkey","hotkeyname","description","error","removeKey","resetKey","setError","errorname","getKeyString","result","ctrlKey","altKey","shiftKey","code","match","setShortcut","keystring","hotkeys","browser","update","shortcut","onkeychange","Key","key","blur","onkeydown","onkeyup","onfocus","onblur","getAll","results","confirm","sendMessage","action","checkedLastError","configJSON","export","encodeURIComponent","Date","toISOString","body","click","removeChild","reader","FileReader","onload","import","alert","console","readAsText","files","restoreToDefault","navigator","language","top"],"sources":["options.js"],"sourcesContent":["\"use strict\";\r\n\r\nfetch(\"./release-notes/en.html\")\r\n  .then((response) => response.text())\r\n  .then((responseText) => {\r\n    window.scrollTo(0, 0);\r\n    document.getElementById(\"release_notes\").innerHTML = responseText;\r\n    document.getElementById(\"msgHasBeenUpdated\").textContent =\r\n      chrome.i18n.getMessage(\"msgHasBeenUpdated\");\r\n    document.getElementById(\"msgHasBeenUpdated\").innerHTML = document\r\n      .getElementById(\"msgHasBeenUpdated\")\r\n      .textContent.replace(\r\n        \"#EXTENSION_NAME#\",\r\n        \"<b>\" + chrome.runtime.getManifest().name + \"</b>\"\r\n      )\r\n      .replace(\r\n        \"#EXTENSION_VERSION#\",\r\n        \"<b>\" + chrome.runtime.getManifest().version + \"</b>\"\r\n      );\r\n    document.getElementById(\"donationText\").textContent =\r\n      chrome.i18n.getMessage(\"donationText\");\r\n  });\r\n\r\nvar $ = document.querySelector.bind(document);\r\n\r\ntwpConfig.onReady(function () {\r\n  if (platformInfo.isMobile.any) {\r\n    let style = document.createElement(\"style\");\r\n    style.textContent = \".desktopOnly {display: none !important}\";\r\n    document.head.appendChild(style);\r\n  }\r\n\r\n  if (!chrome.pageAction) {\r\n    let style = document.createElement(\"style\");\r\n    style.textContent = \".firefox-only {display: none !important}\";\r\n    document.head.appendChild(style);\r\n  }\r\n\r\n  let sideBarIsVisible = false;\r\n  $(\"#btnOpenMenu\").onclick = (e) => {\r\n    $(\"#menuContainer\").classList.toggle(\"change\");\r\n\r\n    if (sideBarIsVisible) {\r\n      $(\"#sideBar\").style.display = \"none\";\r\n      sideBarIsVisible = false;\r\n    } else {\r\n      $(\"#sideBar\").style.display = \"block\";\r\n      sideBarIsVisible = true;\r\n    }\r\n  };\r\n\r\n  function hashchange() {\r\n    const hash = location.hash || \"#languages\";\r\n    const divs = [\r\n      $(\"#languages\"),\r\n      $(\"#sites\"),\r\n      $(\"#translations\"),\r\n      $(\"#style\"),\r\n      $(\"#hotkeys\"),\r\n      $(\"#storage\"),\r\n      $(\"#others\"),\r\n      $(\"#donation\"),\r\n      $(\"#release_notes\"),\r\n    ];\r\n    divs.forEach((element) => {\r\n      element.style.display = \"none\";\r\n    });\r\n\r\n    document.querySelectorAll(\"nav a\").forEach((a) => {\r\n      a.classList.remove(\"w3-light-grey\");\r\n    });\r\n\r\n    $(hash).style.display = \"block\";\r\n    $('a[href=\"' + hash + '\"]').classList.add(\"w3-light-grey\");\r\n\r\n    let text;\r\n    if (hash === \"#donation\") {\r\n      text = chrome.i18n.getMessage(\"lblMakeDonation\");\r\n    } else if (hash === \"#release_notes\") {\r\n      text = chrome.i18n.getMessage(\"lblReleaseNotes\");\r\n    } else {\r\n      text = chrome.i18n.getMessage(\"lblSettings\");\r\n    }\r\n    $(\"#itemSelectedName\").textContent = text;\r\n\r\n    if (sideBarIsVisible) {\r\n      $(\"#menuContainer\").classList.toggle(\"change\");\r\n      $(\"#sideBar\").style.display = \"none\";\r\n      sideBarIsVisible = false;\r\n    }\r\n\r\n    if (hash === \"#release_notes\") {\r\n      $(\"#btnPatreon\").style.display = \"none\";\r\n    } else {\r\n      $(\"#btnPatreon\").style.display = \"block\";\r\n    }\r\n  }\r\n  hashchange();\r\n  window.addEventListener(\"hashchange\", hashchange);\r\n\r\n  function fillLanguageList(select) {\r\n    let langs = twpLang.getLanguageList();\r\n\r\n    const langsSorted = [];\r\n\r\n    for (const i in langs) {\r\n      langsSorted.push([i, langs[i]]);\r\n    }\r\n\r\n    langsSorted.sort(function (a, b) {\r\n      return a[1].localeCompare(b[1]);\r\n    });\r\n\r\n    langsSorted.forEach((value) => {\r\n      const option = document.createElement(\"option\");\r\n      option.value = value[0];\r\n      option.textContent = value[1];\r\n      select.appendChild(option);\r\n    });\r\n  }\r\n\r\n  fillLanguageList($(\"#selectTargetLanguage\"));\r\n  fillLanguageList($(\"#selectTargetLanguageForText\"));\r\n\r\n  fillLanguageList($(\"#favoriteLanguage1\"));\r\n  fillLanguageList($(\"#favoriteLanguage2\"));\r\n  fillLanguageList($(\"#favoriteLanguage3\"));\r\n\r\n  fillLanguageList($(\"#addToNeverTranslateLangs\"));\r\n  fillLanguageList($(\"#addToAlwaysTranslateLangs\"));\r\n  fillLanguageList($(\"#addLangToTranslateWhenHovering\"));\r\n\r\n  function updateDarkMode() {\r\n    switch (twpConfig.get(\"darkMode\")) {\r\n      case \"auto\":\r\n        if (matchMedia(\"(prefers-color-scheme: dark)\").matches) {\r\n          enableDarkMode();\r\n        } else {\r\n          disableDarkMode();\r\n        }\r\n        break;\r\n      case \"yes\":\r\n        enableDarkMode();\r\n        break;\r\n      case \"no\":\r\n        disableDarkMode();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n  updateDarkMode();\r\n\r\n  // target languages\r\n\r\n  const targetLanguage = twpConfig.get(\"targetLanguage\");\r\n  $(\"#selectTargetLanguage\").value = targetLanguage;\r\n  $(\"#selectTargetLanguage\").onchange = (e) => {\r\n    twpConfig.setTargetLanguage(e.target.value);\r\n    location.reload();\r\n  };\r\n\r\n  const targetLanguageTextTranslation = twpConfig.get(\r\n    \"targetLanguageTextTranslation\"\r\n  );\r\n  $(\"#selectTargetLanguageForText\").value = targetLanguageTextTranslation;\r\n  $(\"#selectTargetLanguageForText\").onchange = (e) => {\r\n    twpConfig.setTargetLanguage(e.target.value, true);\r\n    twpConfig.setTargetLanguage(targetLanguage, false);\r\n    location.reload();\r\n  };\r\n\r\n  const targetLanguages = twpConfig.get(\"targetLanguages\");\r\n\r\n  $(\"#favoriteLanguage1\").value = targetLanguages[0];\r\n  $(\"#favoriteLanguage2\").value = targetLanguages[1];\r\n  $(\"#favoriteLanguage3\").value = targetLanguages[2];\r\n\r\n  $(\"#favoriteLanguage1\").onchange = (e) => {\r\n    targetLanguages[0] = e.target.value;\r\n    twpConfig.set(\"targetLanguages\", targetLanguages);\r\n    if (targetLanguages.indexOf(twpConfig.get(\"targetLanguage\")) == -1) {\r\n      twpConfig.set(\"targetLanguage\", targetLanguages[0]);\r\n    }\r\n    if (\r\n      targetLanguages.indexOf(twpConfig.get(\"targetLanguageTextTranslation\")) ==\r\n      -1\r\n    ) {\r\n      twpConfig.set(\"targetLanguageTextTranslation\", targetLanguages[0]);\r\n    }\r\n    location.reload();\r\n  };\r\n\r\n  $(\"#favoriteLanguage2\").onchange = (e) => {\r\n    targetLanguages[1] = e.target.value;\r\n    twpConfig.set(\"targetLanguages\", targetLanguages);\r\n    if (targetLanguages.indexOf(twpConfig.get(\"targetLanguage\")) == -1) {\r\n      twpConfig.set(\"targetLanguage\", targetLanguages[0]);\r\n    }\r\n    if (\r\n      targetLanguages.indexOf(twpConfig.get(\"targetLanguageTextTranslation\")) ==\r\n      -1\r\n    ) {\r\n      twpConfig.set(\"targetLanguageTextTranslation\", targetLanguages[0]);\r\n    }\r\n    location.reload();\r\n  };\r\n\r\n  $(\"#favoriteLanguage3\").onchange = (e) => {\r\n    targetLanguages[2] = e.target.value;\r\n    twpConfig.set(\"targetLanguages\", targetLanguages);\r\n    if (targetLanguages.indexOf(twpConfig.get(\"targetLanguage\")) == -1) {\r\n      twpConfig.set(\"targetLanguage\", targetLanguages[0]);\r\n    }\r\n    if (\r\n      targetLanguages.indexOf(twpConfig.get(\"targetLanguageTextTranslation\")) ==\r\n      -1\r\n    ) {\r\n      twpConfig.set(\"targetLanguageTextTranslation\", targetLanguages[0]);\r\n    }\r\n    location.reload();\r\n  };\r\n\r\n  // Never translate these languages\r\n\r\n  function createNodeToNeverTranslateLangsList(langCode, langName) {\r\n    const li = document.createElement(\"li\");\r\n    li.setAttribute(\"class\", \"w3-display-container\");\r\n    li.value = langCode;\r\n    li.textContent = langName;\r\n\r\n    const close = document.createElement(\"span\");\r\n    close.setAttribute(\"class\", \"w3-button w3-transparent w3-display-right\");\r\n    close.innerHTML = \"&times;\";\r\n\r\n    close.onclick = (e) => {\r\n      e.preventDefault();\r\n\r\n      twpConfig.removeLangFromNeverTranslate(langCode);\r\n      li.remove();\r\n    };\r\n\r\n    li.appendChild(close);\r\n\r\n    return li;\r\n  }\r\n\r\n  const neverTranslateLangs = twpConfig.get(\"neverTranslateLangs\");\r\n  neverTranslateLangs.sort((a, b) => a.localeCompare(b));\r\n  neverTranslateLangs.forEach((langCode) => {\r\n    const langName = twpLang.codeToLanguage(langCode);\r\n    const li = createNodeToNeverTranslateLangsList(langCode, langName);\r\n    $(\"#neverTranslateLangs\").appendChild(li);\r\n  });\r\n\r\n  $(\"#addToNeverTranslateLangs\").onchange = (e) => {\r\n    const langCode = e.target.value;\r\n    const langName = twpLang.codeToLanguage(langCode);\r\n    const li = createNodeToNeverTranslateLangsList(langCode, langName);\r\n    $(\"#neverTranslateLangs\").appendChild(li);\r\n\r\n    twpConfig.addLangToNeverTranslate(langCode);\r\n  };\r\n\r\n  // Always translate these languages\r\n\r\n  function createNodeToAlwaysTranslateLangsList(langCode, langName) {\r\n    const li = document.createElement(\"li\");\r\n    li.setAttribute(\"class\", \"w3-display-container\");\r\n    li.value = langCode;\r\n    li.textContent = langName;\r\n\r\n    const close = document.createElement(\"span\");\r\n    close.setAttribute(\"class\", \"w3-button w3-transparent w3-display-right\");\r\n    close.innerHTML = \"&times;\";\r\n\r\n    close.onclick = (e) => {\r\n      e.preventDefault();\r\n\r\n      twpConfig.removeLangFromAlwaysTranslate(langCode);\r\n      li.remove();\r\n    };\r\n\r\n    li.appendChild(close);\r\n\r\n    return li;\r\n  }\r\n\r\n  const alwaysTranslateLangs = twpConfig.get(\"alwaysTranslateLangs\");\r\n  alwaysTranslateLangs.sort((a, b) => a.localeCompare(b));\r\n  alwaysTranslateLangs.forEach((langCode) => {\r\n    const langName = twpLang.codeToLanguage(langCode);\r\n    const li = createNodeToAlwaysTranslateLangsList(langCode, langName);\r\n    $(\"#alwaysTranslateLangs\").appendChild(li);\r\n  });\r\n\r\n  $(\"#addToAlwaysTranslateLangs\").onchange = (e) => {\r\n    const langCode = e.target.value;\r\n    const langName = twpLang.codeToLanguage(langCode);\r\n    const li = createNodeToAlwaysTranslateLangsList(langCode, langName);\r\n    $(\"#alwaysTranslateLangs\").appendChild(li);\r\n\r\n    twpConfig.addLangToAlwaysTranslate(langCode);\r\n  };\r\n\r\n  // langsToTranslateWhenHovering\r\n\r\n  function createNodeToLangsToTranslateWhenHoveringList(langCode, langName) {\r\n    const li = document.createElement(\"li\");\r\n    li.setAttribute(\"class\", \"w3-display-container\");\r\n    li.value = langCode;\r\n    li.textContent = langName;\r\n\r\n    const close = document.createElement(\"span\");\r\n    close.setAttribute(\"class\", \"w3-button w3-transparent w3-display-right\");\r\n    close.innerHTML = \"&times;\";\r\n\r\n    close.onclick = (e) => {\r\n      e.preventDefault();\r\n\r\n      twpConfig.removeLangFromTranslateWhenHovering(langCode);\r\n      li.remove();\r\n    };\r\n\r\n    li.appendChild(close);\r\n\r\n    return li;\r\n  }\r\n\r\n  const langsToTranslateWhenHovering = twpConfig.get(\r\n    \"langsToTranslateWhenHovering\"\r\n  );\r\n  langsToTranslateWhenHovering.sort((a, b) => a.localeCompare(b));\r\n  langsToTranslateWhenHovering.forEach((langCode) => {\r\n    const langName = twpLang.codeToLanguage(langCode);\r\n    const li = createNodeToLangsToTranslateWhenHoveringList(langCode, langName);\r\n    $(\"#langsToTranslateWhenHovering\").appendChild(li);\r\n  });\r\n\r\n  $(\"#addLangToTranslateWhenHovering\").onchange = (e) => {\r\n    const langCode = e.target.value;\r\n    const langName = twpLang.codeToLanguage(langCode);\r\n    const li = createNodeToLangsToTranslateWhenHoveringList(langCode, langName);\r\n    $(\"#langsToTranslateWhenHovering\").appendChild(li);\r\n\r\n    twpConfig.addLangToTranslateWhenHovering(langCode);\r\n  };\r\n\r\n  // Always translate these Sites\r\n\r\n  function createNodeToAlwaysTranslateSitesList(hostname) {\r\n    const li = document.createElement(\"li\");\r\n    li.setAttribute(\"class\", \"w3-display-container\");\r\n    li.value = hostname;\r\n    li.textContent = hostname;\r\n\r\n    const close = document.createElement(\"span\");\r\n    close.setAttribute(\"class\", \"w3-button w3-transparent w3-display-right\");\r\n    close.innerHTML = \"&times;\";\r\n\r\n    close.onclick = (e) => {\r\n      e.preventDefault();\r\n\r\n      twpConfig.removeSiteFromAlwaysTranslate(hostname);\r\n      li.remove();\r\n    };\r\n\r\n    li.appendChild(close);\r\n\r\n    return li;\r\n  }\r\n\r\n  const alwaysTranslateSites = twpConfig.get(\"alwaysTranslateSites\");\r\n  alwaysTranslateSites.sort((a, b) => a.localeCompare(b));\r\n  alwaysTranslateSites.forEach((hostname) => {\r\n    const li = createNodeToAlwaysTranslateSitesList(hostname);\r\n    $(\"#alwaysTranslateSites\").appendChild(li);\r\n  });\r\n\r\n  $(\"#addToAlwaysTranslateSites\").onclick = (e) => {\r\n    const hostname = prompt(\"Enter the site hostname\", \"www.site.com\");\r\n    if (!hostname) return;\r\n\r\n    const li = createNodeToAlwaysTranslateSitesList(hostname);\r\n    $(\"#alwaysTranslateSites\").appendChild(li);\r\n\r\n    twpConfig.addSiteToAlwaysTranslate(hostname);\r\n  };\r\n\r\n  // Never translate these Sites\r\n\r\n  function createNodeToNeverTranslateSitesList(hostname) {\r\n    const li = document.createElement(\"li\");\r\n    li.setAttribute(\"class\", \"w3-display-container\");\r\n    li.value = hostname;\r\n    li.textContent = hostname;\r\n\r\n    const close = document.createElement(\"span\");\r\n    close.setAttribute(\"class\", \"w3-button w3-transparent w3-display-right\");\r\n    close.innerHTML = \"&times;\";\r\n\r\n    close.onclick = (e) => {\r\n      e.preventDefault();\r\n\r\n      twpConfig.removeSiteFromNeverTranslate(hostname);\r\n      li.remove();\r\n    };\r\n\r\n    li.appendChild(close);\r\n\r\n    return li;\r\n  }\r\n\r\n  const neverTranslateSites = twpConfig.get(\"neverTranslateSites\");\r\n  neverTranslateSites.sort((a, b) => a.localeCompare(b));\r\n  neverTranslateSites.forEach((hostname) => {\r\n    const li = createNodeToNeverTranslateSitesList(hostname);\r\n    $(\"#neverTranslateSites\").appendChild(li);\r\n  });\r\n\r\n  $(\"#addToNeverTranslateSites\").onclick = (e) => {\r\n    const hostname = prompt(\"Enter the site hostname\", \"www.site.com\");\r\n    if (!hostname) return;\r\n\r\n    const li = createNodeToNeverTranslateSitesList(hostname);\r\n    $(\"#neverTranslateSites\").appendChild(li);\r\n\r\n    twpConfig.addSiteToNeverTranslate(hostname);\r\n  };\r\n\r\n  function createcustomDictionary(keyWord, customValue) {\r\n    const li = document.createElement(\"li\");\r\n    li.setAttribute(\"class\", \"w3-display-container\");\r\n    li.value = keyWord;\r\n    if (customValue !== \"\") {\r\n      li.textContent = keyWord + \" ------------------- \" + customValue;\r\n    } else {\r\n      li.textContent = keyWord;\r\n    }\r\n    const close = document.createElement(\"span\");\r\n    close.setAttribute(\"class\", \"w3-button w3-transparent w3-display-right\");\r\n    close.innerHTML = \"&times;\";\r\n\r\n    close.onclick = (e) => {\r\n      e.preventDefault();\r\n      twpConfig.removeKeyWordFromcustomDictionary(keyWord);\r\n      li.remove();\r\n    };\r\n    li.appendChild(close);\r\n    return li;\r\n  }\r\n\r\n  let customDictionary = twpConfig.get(\"customDictionary\");\r\n  customDictionary = new Map(\r\n    [...customDictionary.entries()].sort((a, b) =>\r\n      String(a[0]).localeCompare(String(b[0]))\r\n    )\r\n  );\r\n  customDictionary.forEach(function (customValue, keyWord) {\r\n    const li = createcustomDictionary(keyWord, customValue);\r\n    $(\"#customDictionary\").appendChild(li);\r\n  });\r\n\r\n  $(\"#addToCustomDictionary\").onclick = (e) => {\r\n    let keyWord = prompt(\"Enter the keyWord, Minimum two letters \", \"\");\r\n    if (!keyWord || keyWord.length < 2) return;\r\n    keyWord = keyWord.trim().toLowerCase();\r\n    let customValue = prompt(\r\n      \"(Optional)\\nYou can enter a value to replace it , or fill in nothing.\",\r\n      \"\"\r\n    );\r\n    if (!customValue) customValue = \"\";\r\n    customValue = customValue.trim();\r\n    const li = createcustomDictionary(keyWord, customValue);\r\n    $(\"#customDictionary\").appendChild(li);\r\n    twpConfig.addKeyWordTocustomDictionary(keyWord, customValue);\r\n  };\r\n\r\n  // sitesToTranslateWhenHovering\r\n\r\n  function createNodeToSitesToTranslateWhenHoveringList(hostname) {\r\n    const li = document.createElement(\"li\");\r\n    li.setAttribute(\"class\", \"w3-display-container\");\r\n    li.value = hostname;\r\n    li.textContent = hostname;\r\n\r\n    const close = document.createElement(\"span\");\r\n    close.setAttribute(\"class\", \"w3-button w3-transparent w3-display-right\");\r\n    close.innerHTML = \"&times;\";\r\n\r\n    close.onclick = (e) => {\r\n      e.preventDefault();\r\n\r\n      twpConfig.removeSiteFromTranslateWhenHovering(hostname);\r\n      li.remove();\r\n    };\r\n\r\n    li.appendChild(close);\r\n\r\n    return li;\r\n  }\r\n\r\n  const sitesToTranslateWhenHovering = twpConfig.get(\r\n    \"sitesToTranslateWhenHovering\"\r\n  );\r\n  sitesToTranslateWhenHovering.sort((a, b) => a.localeCompare(b));\r\n  sitesToTranslateWhenHovering.forEach((hostname) => {\r\n    const li = createNodeToSitesToTranslateWhenHoveringList(hostname);\r\n    $(\"#sitesToTranslateWhenHovering\").appendChild(li);\r\n  });\r\n\r\n  $(\"#addSiteToTranslateWhenHovering\").onclick = (e) => {\r\n    const hostname = prompt(\"Enter the site hostname\", \"www.site.com\");\r\n    if (!hostname) return;\r\n\r\n    const li = createNodeToSitesToTranslateWhenHoveringList(hostname);\r\n    $(\"#sitesToTranslateWhenHovering\").appendChild(li);\r\n\r\n    twpConfig.addSiteToTranslateWhenHovering(hostname);\r\n  };\r\n\r\n  // translations options\r\n  $(\"#pageTranslatorService\").onchange = (e) => {\r\n    twpConfig.set(\"pageTranslatorService\", e.target.value);\r\n  };\r\n  $(\"#pageTranslatorService\").value = twpConfig.get(\"pageTranslatorService\");\r\n\r\n  $(\"#textTranslatorService\").onchange = (e) => {\r\n    twpConfig.set(\"textTranslatorService\", e.target.value);\r\n  };\r\n  $(\"#textTranslatorService\").value = twpConfig.get(\"textTranslatorService\");\r\n\r\n  $(\"#ttsSpeed\").oninput = (e) => {\r\n    twpConfig.set(\"ttsSpeed\", e.target.value);\r\n    $(\"#displayTtsSpeed\").textContent = e.target.value;\r\n  };\r\n  $(\"#ttsSpeed\").value = twpConfig.get(\"ttsSpeed\");\r\n  $(\"#displayTtsSpeed\").textContent = twpConfig.get(\"ttsSpeed\");\r\n\r\n  $(\"#showOriginalTextWhenHovering\").onchange = (e) => {\r\n    twpConfig.set(\"showOriginalTextWhenHovering\", e.target.value);\r\n  };\r\n  $(\"#showOriginalTextWhenHovering\").value = twpConfig.get(\r\n    \"showOriginalTextWhenHovering\"\r\n  );\r\n\r\n  $(\"#translateTag_pre\").onchange = (e) => {\r\n    twpConfig.set(\"translateTag_pre\", e.target.value);\r\n  };\r\n  $(\"#translateTag_pre\").value = twpConfig.get(\"translateTag_pre\");\r\n\r\n  $(\"#enableDeepL\").onchange = (e) => {\r\n    twpConfig.set(\"enableDeepL\", e.target.value);\r\n  };\r\n  $(\"#enableDeepL\").value = twpConfig.get(\"enableDeepL\");\r\n\r\n  $(\"#dontSortResults\").onchange = (e) => {\r\n    twpConfig.set(\"dontSortResults\", e.target.value);\r\n  };\r\n  $(\"#dontSortResults\").value = twpConfig.get(\"dontSortResults\");\r\n\r\n  $(\"#translateDynamicallyCreatedContent\").onchange = (e) => {\r\n    twpConfig.set(\"translateDynamicallyCreatedContent\", e.target.value);\r\n  };\r\n  $(\"#translateDynamicallyCreatedContent\").value = twpConfig.get(\r\n    \"translateDynamicallyCreatedContent\"\r\n  );\r\n\r\n  $(\"#autoTranslateWhenClickingALink\").onchange = (e) => {\r\n    if (e.target.value == \"yes\") {\r\n      chrome.permissions.request(\r\n        {\r\n          permissions: [\"webNavigation\"],\r\n        },\r\n        (granted) => {\r\n          if (granted) {\r\n            twpConfig.set(\"autoTranslateWhenClickingALink\", \"yes\");\r\n          } else {\r\n            twpConfig.set(\"autoTranslateWhenClickingALink\", \"no\");\r\n            e.target.value = \"no\";\r\n          }\r\n        }\r\n      );\r\n    } else {\r\n      twpConfig.set(\"autoTranslateWhenClickingALink\", \"no\");\r\n      chrome.permissions.remove({\r\n        permissions: [\"webNavigation\"],\r\n      });\r\n    }\r\n  };\r\n  $(\"#autoTranslateWhenClickingALink\").value = twpConfig.get(\r\n    \"autoTranslateWhenClickingALink\"\r\n  );\r\n\r\n  if (twpConfig.get(\"enableDeepL\") === \"yes\") {\r\n    $('#textTranslatorService option[value=\"deepl\"]').removeAttribute(\"hidden\");\r\n  } else {\r\n    $('#textTranslatorService option[value=\"deepl\"]').setAttribute(\r\n      \"hidden\",\r\n      \"\"\r\n    );\r\n  }\r\n  twpConfig.onChanged((name, newvalue) => {\r\n    switch (name) {\r\n      case \"enableDeepL\":\r\n        if (newvalue === \"yes\") {\r\n          $('#textTranslatorService option[value=\"deepl\"]').removeAttribute(\r\n            \"hidden\"\r\n          );\r\n        } else {\r\n          twpConfig.set(\"textTranslatorService\", \"google\");\r\n          $(\"#textTranslatorService\").value = \"google\";\r\n          $('#textTranslatorService option[value=\"deepl\"]').setAttribute(\r\n            \"hidden\",\r\n            \"\"\r\n          );\r\n        }\r\n        break;\r\n    }\r\n  });\r\n\r\n  function enableOrDisableTranslateSelectedAdvancedOptions(value) {\r\n    if (value === \"no\") {\r\n      document\r\n        .querySelectorAll(\"#translateSelectedAdvancedOptions input\")\r\n        .forEach((input) => {\r\n          input.setAttribute(\"disabled\", \"\");\r\n        });\r\n    } else {\r\n      document\r\n        .querySelectorAll(\"#translateSelectedAdvancedOptions input\")\r\n        .forEach((input) => {\r\n          input.removeAttribute(\"disabled\");\r\n        });\r\n    }\r\n  }\r\n\r\n  $(\"#showTranslateSelectedButton\").onchange = (e) => {\r\n    twpConfig.set(\"showTranslateSelectedButton\", e.target.value);\r\n    enableOrDisableTranslateSelectedAdvancedOptions(e.target.value);\r\n  };\r\n  $(\"#showTranslateSelectedButton\").value = twpConfig.get(\r\n    \"showTranslateSelectedButton\"\r\n  );\r\n  enableOrDisableTranslateSelectedAdvancedOptions(\r\n    twpConfig.get(\"showTranslateSelectedButton\")\r\n  );\r\n\r\n  $(\"#dontShowIfPageLangIsTargetLang\").onchange = (e) => {\r\n    twpConfig.set(\r\n      \"dontShowIfPageLangIsTargetLang\",\r\n      e.target.checked ? \"yes\" : \"no\"\r\n    );\r\n  };\r\n  $(\"#dontShowIfPageLangIsTargetLang\").checked =\r\n    twpConfig.get(\"dontShowIfPageLangIsTargetLang\") === \"yes\" ? true : false;\r\n\r\n  $(\"#dontShowIfPageLangIsUnknown\").onchange = (e) => {\r\n    twpConfig.set(\r\n      \"dontShowIfPageLangIsUnknown\",\r\n      e.target.checked ? \"yes\" : \"no\"\r\n    );\r\n  };\r\n  $(\"#dontShowIfPageLangIsUnknown\").checked =\r\n    twpConfig.get(\"dontShowIfPageLangIsUnknown\") === \"yes\" ? true : false;\r\n\r\n  $(\"#dontShowIfSelectedTextIsTargetLang\").onchange = (e) => {\r\n    twpConfig.set(\r\n      \"dontShowIfSelectedTextIsTargetLang\",\r\n      e.target.checked ? \"yes\" : \"no\"\r\n    );\r\n  };\r\n  $(\"#dontShowIfSelectedTextIsTargetLang\").checked =\r\n    twpConfig.get(\"dontShowIfSelectedTextIsTargetLang\") === \"yes\"\r\n      ? true\r\n      : false;\r\n\r\n  $(\"#dontShowIfSelectedTextIsUnknown\").onchange = (e) => {\r\n    twpConfig.set(\r\n      \"dontShowIfSelectedTextIsUnknown\",\r\n      e.target.checked ? \"yes\" : \"no\"\r\n    );\r\n  };\r\n  $(\"#dontShowIfSelectedTextIsUnknown\").checked =\r\n    twpConfig.get(\"dontShowIfSelectedTextIsUnknown\") === \"yes\" ? true : false;\r\n\r\n  // style options\r\n  $(\"#useOldPopup\").onchange = (e) => {\r\n    twpConfig.set(\"useOldPopup\", e.target.value);\r\n    updateDarkMode();\r\n  };\r\n  $(\"#useOldPopup\").value = twpConfig.get(\"useOldPopup\");\r\n\r\n  $(\"#darkMode\").onchange = (e) => {\r\n    twpConfig.set(\"darkMode\", e.target.value);\r\n    updateDarkMode();\r\n  };\r\n  $(\"#darkMode\").value = twpConfig.get(\"darkMode\");\r\n\r\n  $(\"#popupBlueWhenSiteIsTranslated\").onchange = (e) => {\r\n    twpConfig.set(\"popupBlueWhenSiteIsTranslated\", e.target.value);\r\n  };\r\n  $(\"#popupBlueWhenSiteIsTranslated\").value = twpConfig.get(\r\n    \"popupBlueWhenSiteIsTranslated\"\r\n  );\r\n\r\n  // hotkeys options\r\n  function escapeHtml(unsafe) {\r\n    return unsafe\r\n      .replace(/&/g, \"&amp;\")\r\n      .replace(/</g, \"&lt;\")\r\n      .replace(/>/g, \"&gt;\")\r\n      .replace(/\"/g, \"&quot;\")\r\n      .replace(/'/g, \"&#039;\");\r\n  }\r\n  $('[data-i18n=\"lblTranslateSelectedWhenPressTwice\"]').innerHTML = $(\r\n    '[data-i18n=\"lblTranslateSelectedWhenPressTwice\"]'\r\n  ).innerHTML.replace(\"[Ctrl]\", \"<kbd>Ctrl</kbd>\");\r\n  $('[data-i18n=\"lblTranslateTextOverMouseWhenPressTwice\"]').innerHTML = $(\r\n    '[data-i18n=\"lblTranslateTextOverMouseWhenPressTwice\"]'\r\n  ).innerHTML.replace(\"[Ctrl]\", \"<kbd>Ctrl</kbd>\");\r\n\r\n  $(\"#openNativeShortcutManager\").onclick = (e) => {\r\n    chrome.tabs.create({\r\n      url: \"chrome://extensions/shortcuts\",\r\n    });\r\n  };\r\n\r\n  $(\"#translateSelectedWhenPressTwice\").onclick = (e) => {\r\n    twpConfig.set(\r\n      \"translateSelectedWhenPressTwice\",\r\n      e.target.checked ? \"yes\" : \"no\"\r\n    );\r\n  };\r\n  $(\"#translateSelectedWhenPressTwice\").checked =\r\n    twpConfig.get(\"translateSelectedWhenPressTwice\") === \"yes\";\r\n\r\n  $(\"#translateTextOverMouseWhenPressTwice\").onclick = (e) => {\r\n    twpConfig.set(\r\n      \"translateTextOverMouseWhenPressTwice\",\r\n      e.target.checked ? \"yes\" : \"no\"\r\n    );\r\n  };\r\n  $(\"#translateTextOverMouseWhenPressTwice\").checked =\r\n    twpConfig.get(\"translateTextOverMouseWhenPressTwice\") === \"yes\";\r\n\r\n  const defaultShortcuts = {};\r\n  for (const name of Object.keys(chrome.runtime.getManifest().commands || {})) {\r\n    const info = chrome.runtime.getManifest().commands[name];\r\n    if (info.suggested_key && info.suggested_key.default) {\r\n      defaultShortcuts[name] = info.suggested_key.default;\r\n    } else {\r\n      defaultShortcuts[name] = \"\";\r\n    }\r\n  }\r\n\r\n  function addHotkey(hotkeyname, description) {\r\n    if (hotkeyname === \"_execute_browser_action\" && !description) {\r\n      description = \"Enable the extension\";\r\n    }\r\n\r\n    const li = document.createElement(\"li\");\r\n    li.classList.add(\"shortcut-row\");\r\n    li.setAttribute(\"id\", hotkeyname);\r\n    li.innerHTML = `\r\n        <div>${description}</div>\r\n        <div class=\"shortcut-input-options\">\r\n            <div style=\"position: relative;\">\r\n                <input name=\"input\" class=\"w3-input w3-border shortcut-input\" type=\"text\" readonly placeholder=\"Enter a shortcut\" data-i18n-placeholder=\"enterShortcut\">\r\n                <p name=\"error\" class=\"shortcut-error\" style=\"position: absolute;\"></p>\r\n            </div>\r\n            <div class=\"w3-hover-light-grey shortcut-button\" name=\"removeKey\"><i class=\"gg-trash\"></i></div>\r\n            <div class=\"w3-hover-light-grey shortcut-button\" name=\"resetKey\"><i class=\"gg-sync\"></i></div>\r\n        </div>  \r\n        `;\r\n    $(\"#KeyboardShortcuts\").appendChild(li);\r\n\r\n    const input = li.querySelector(`[name=\"input\"]`);\r\n    const error = li.querySelector(`[name=\"error\"]`);\r\n    const removeKey = li.querySelector(`[name=\"removeKey\"]`);\r\n    const resetKey = li.querySelector(`[name=\"resetKey\"]`);\r\n\r\n    input.value = twpConfig.get(\"hotkeys\")[hotkeyname];\r\n    if (input.value) {\r\n      resetKey.style.display = \"none\";\r\n    } else {\r\n      removeKey.style.display = \"none\";\r\n    }\r\n\r\n    function setError(errorname) {\r\n      const text = chrome.i18n.getMessage(\"hotkeyError_\" + errorname);\r\n      switch (errorname) {\r\n        case \"ctrlOrAlt\":\r\n          error.textContent = text ? text : \"Include Ctrl or Alt\";\r\n          break;\r\n        case \"letter\":\r\n          error.textContent = text ? text : \"Type a letter\";\r\n          break;\r\n        case \"invalid\":\r\n          error.textContent = text ? text : \"Invalid combination\";\r\n          break;\r\n        default:\r\n          error.textContent = \"\";\r\n          break;\r\n      }\r\n    }\r\n\r\n    function getKeyString(e) {\r\n      let result = \"\";\r\n      if (e.ctrlKey) {\r\n        result += \"Ctrl+\";\r\n      }\r\n      if (e.altKey) {\r\n        result += \"Alt+\";\r\n      }\r\n      if (e.shiftKey) {\r\n        result += \"Shift+\";\r\n      }\r\n      if (e.code.match(/Key([A-Z])/)) {\r\n        result += e.code.match(/Key([A-Z])/)[1];\r\n      } else if (e.code.match(/Digit([0-9])/)) {\r\n        result += e.code.match(/Digit([0-9])/)[1];\r\n      }\r\n\r\n      return result;\r\n    }\r\n\r\n    function setShortcut(name, keystring) {\r\n      const hotkeys = twpConfig.get(\"hotkeys\");\r\n      hotkeys[hotkeyname] = keystring;\r\n      twpConfig.set(\"hotkeys\", hotkeys);\r\n      browser.commands.update({\r\n        name: name,\r\n        shortcut: keystring,\r\n      });\r\n    }\r\n\r\n    function onkeychange(e) {\r\n      input.value = getKeyString(e);\r\n\r\n      if (e.Key == \"Tab\") {\r\n        return;\r\n      }\r\n      if (e.key == \"Escape\") {\r\n        input.blur();\r\n        return;\r\n      }\r\n      if (e.key == \"Backspace\" || e.key == \"Delete\") {\r\n        setShortcut(hotkeyname, getKeyString(e));\r\n        input.blur();\r\n        return;\r\n      }\r\n      if (!e.ctrlKey && !e.altKey) {\r\n        setError(\"ctrlOrAlt\");\r\n        return;\r\n      }\r\n      if (e.ctrlKey && e.altKey && e.shiftKey) {\r\n        setError(\"invalid\");\r\n        return;\r\n      }\r\n      e.preventDefault();\r\n      if (!e.code.match(/Key([A-Z])/) && !e.code.match(/Digit([0-9])/)) {\r\n        setError(\"letter\");\r\n        return;\r\n      }\r\n\r\n      setShortcut(hotkeyname, getKeyString(e));\r\n      input.blur();\r\n\r\n      setError(\"none\");\r\n    }\r\n\r\n    input.onkeydown = (e) => onkeychange(e);\r\n    input.onkeyup = (e) => onkeychange(e);\r\n\r\n    input.onfocus = (e) => {\r\n      input.value = \"\";\r\n      setError(\"\");\r\n    };\r\n\r\n    input.onblur = (e) => {\r\n      input.value = twpConfig.get(\"hotkeys\")[hotkeyname];\r\n      setError(\"\");\r\n    };\r\n\r\n    removeKey.onclick = (e) => {\r\n      input.value = \"\";\r\n      setShortcut(hotkeyname, \"\");\r\n\r\n      removeKey.style.display = \"none\";\r\n      resetKey.style.display = \"block\";\r\n    };\r\n\r\n    resetKey.onclick = (e) => {\r\n      input.value = defaultShortcuts[hotkeyname];\r\n      setShortcut(hotkeyname, defaultShortcuts[hotkeyname]);\r\n\r\n      removeKey.style.display = \"block\";\r\n      resetKey.style.display = \"none\";\r\n    };\r\n\r\n    //*\r\n    if (typeof browser === \"undefined\") {\r\n      input.setAttribute(\"disabled\", \"\");\r\n      resetKey.style.display = \"none\";\r\n      removeKey.style.display = \"none\";\r\n    } else {\r\n      $(\"#openNativeShortcutManager\").style.display = \"none\";\r\n    }\r\n    // */\r\n  }\r\n\r\n  if (typeof chrome.commands !== \"undefined\") {\r\n    chrome.commands.getAll((results) => {\r\n      for (const result of results) {\r\n        addHotkey(result.name, result.description);\r\n      }\r\n    });\r\n  }\r\n\r\n  // storage options\r\n  $(\"#deleteTranslationCache\").onclick = (e) => {\r\n    if (confirm(chrome.i18n.getMessage(\"doYouWantToDeleteTranslationCache\"))) {\r\n      chrome.runtime.sendMessage(\r\n        {\r\n          action: \"deleteTranslationCache\",\r\n          reload: true,\r\n        },\r\n        checkedLastError\r\n      );\r\n    }\r\n  };\r\n\r\n  $(\"#backupToFile\").onclick = (e) => {\r\n    const configJSON = twpConfig.export();\r\n\r\n    const element = document.createElement(\"a\");\r\n    element.setAttribute(\r\n      \"href\",\r\n      \"data:text/plain;charset=utf-8,\" + encodeURIComponent(configJSON)\r\n    );\r\n    element.setAttribute(\r\n      \"download\",\r\n      \"twp-backup_\" +\r\n        new Date()\r\n          .toISOString()\r\n          .replace(/T/, \"_\")\r\n          .replace(/\\..+/, \"\")\r\n          .replace(/\\:/g, \".\") +\r\n        \".txt\"\r\n    );\r\n\r\n    element.style.display = \"none\";\r\n    document.body.appendChild(element);\r\n\r\n    element.click();\r\n\r\n    document.body.removeChild(element);\r\n  };\r\n  $(\"#restoreFromFile\").onclick = (e) => {\r\n    const element = document.createElement(\"input\");\r\n    element.setAttribute(\"type\", \"file\");\r\n    element.setAttribute(\"accept\", \"text/plain\");\r\n\r\n    element.style.display = \"none\";\r\n    document.body.appendChild(element);\r\n\r\n    element.oninput = (e) => {\r\n      const input = e.target;\r\n\r\n      const reader = new FileReader();\r\n      reader.onload = function () {\r\n        try {\r\n          if (\r\n            confirm(chrome.i18n.getMessage(\"doYouWantOverwriteAllSettings\"))\r\n          ) {\r\n            twpConfig.import(reader.result);\r\n          }\r\n        } catch (e) {\r\n          alert(chrome.i18n.getMessage(\"fileIsCorrupted\"));\r\n          console.error(e);\r\n        }\r\n      };\r\n\r\n      reader.readAsText(input.files[0]);\r\n    };\r\n\r\n    element.click();\r\n\r\n    document.body.removeChild(element);\r\n  };\r\n  $(\"#resetToDefault\").onclick = (e) => {\r\n    if (confirm(chrome.i18n.getMessage(\"doYouWantRestoreSettings\"))) {\r\n      twpConfig.restoreToDefault();\r\n    }\r\n  };\r\n\r\n  // others options\r\n  $(\"#showReleaseNotes\").onchange = (e) => {\r\n    twpConfig.set(\"showReleaseNotes\", e.target.value);\r\n  };\r\n  $(\"#showReleaseNotes\").value = twpConfig.get(\"showReleaseNotes\");\r\n\r\n  $(\"#showPopupMobile\").onchange = (e) => {\r\n    twpConfig.set(\"showPopupMobile\", e.target.value);\r\n  };\r\n  $(\"#showPopupMobile\").value = twpConfig.get(\"showPopupMobile\");\r\n\r\n  $(\"#showTranslatePageContextMenu\").onchange = (e) => {\r\n    twpConfig.set(\"showTranslatePageContextMenu\", e.target.value);\r\n  };\r\n  $(\"#showTranslatePageContextMenu\").value = twpConfig.get(\r\n    \"showTranslatePageContextMenu\"\r\n  );\r\n\r\n  $(\"#showTranslateSelectedContextMenu\").onchange = (e) => {\r\n    twpConfig.set(\"showTranslateSelectedContextMenu\", e.target.value);\r\n  };\r\n  $(\"#showTranslateSelectedContextMenu\").value = twpConfig.get(\r\n    \"showTranslateSelectedContextMenu\"\r\n  );\r\n\r\n  $(\"#showButtonInTheAddressBar\").onchange = (e) => {\r\n    twpConfig.set(\"showButtonInTheAddressBar\", e.target.value);\r\n  };\r\n  $(\"#showButtonInTheAddressBar\").value = twpConfig.get(\r\n    \"showButtonInTheAddressBar\"\r\n  );\r\n\r\n  $(\"#translateClickingOnce\").onchange = (e) => {\r\n    twpConfig.set(\"translateClickingOnce\", e.target.value);\r\n  };\r\n  $(\"#translateClickingOnce\").value = twpConfig.get(\"translateClickingOnce\");\r\n\r\n  $(\"#btnCalculateStorage\").style.display = \"inline-block\";\r\n  $(\"#storageUsed\").style.display = \"none\";\r\n  $(\"#btnCalculateStorage\").onclick = (e) => {\r\n    $(\"#btnCalculateStorage\").style.display = \"none\";\r\n\r\n    chrome.runtime.sendMessage(\r\n      {\r\n        action: \"getCacheSize\",\r\n      },\r\n      (result) => {\r\n        checkedLastError();\r\n\r\n        $(\"#storageUsed\").textContent = result;\r\n        $(\"#storageUsed\").style.display = \"inline-block\";\r\n      }\r\n    );\r\n  };\r\n\r\n  if (navigator.language === \"pt-BR\") {\r\n    $(\"#currency\").value = \"BRL\";\r\n    $(\"#donateInUSD\").style.display = \"none\";\r\n  } else {\r\n    $(\"#currency\").value = \"USD\";\r\n    $(\"#donateInBRL\").style.display = \"none\";\r\n  }\r\n\r\n  $(\"#currency\").onchange = (e) => {\r\n    if (e.target.value === \"BRL\") {\r\n      $(\"#donateInUSD\").style.display = \"none\";\r\n      $(\"#donateInBRL\").style.display = \"block\";\r\n    } else {\r\n      $(\"#donateInUSD\").style.display = \"block\";\r\n      $(\"#donateInBRL\").style.display = \"none\";\r\n    }\r\n  };\r\n});\r\n\r\nwindow.scrollTo({\r\n  top: 0,\r\n});\r\n"],"mappings":"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"}