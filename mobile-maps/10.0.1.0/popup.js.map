{"version":3,"file":"../../popup/popup.js","names":["$","document","querySelector","bind","twpConfig","onReady","then","twpI18n","updateUiMessages","translateDocument","popupSectionCount","onclick","window","location","popupPanelSection","get","updatePopupSection","querySelectorAll","forEach","node","nodePopupPanelSection","parseInt","getAttribute","isNaN","style","display","nodePopupPanelSection2","e","set","originalTabLanguage","currentPageLanguage","currentPageLanguageState","currentPageTranslatorService","translateOrRestorePagePage","newTargetLanguage","_translateOrRestorePagePage","setTargetLanguage","chrome","tabs","query","active","currentWindow","sendMessage","id","action","targetLanguage","checkedLastError","frameId","updateInterface","pageLanguage","twpButtons","button","addEventListener","event","target","value","targetLanguages","i","textContent","twpLang","codeToLanguage","tabLanguage","fixTLanguageCode","childNodes","pageLanguageState","pageTranslatorService","getMessage","setAttribute","classList","remove","add","checked","indexOf","removeAttribute","translatedWhenHoveringThisLangText","neverTranslateLangText","enableDarkMode","el","createElement","head","appendChild","disableDarkMode","matchMedia","matches","open","swapPageTranslationService","newServiceName","hostname","URL","url","addLangToAlwaysTranslate","removeLangFromAlwaysTranslate","addSiteToAlwaysTranslate","removeSiteFromAlwaysTranslate","addSiteToTranslateWhenHovering","removeSiteFromTranslateWhenHovering","addLangToTranslateWhenHovering","removeLangFromTranslateWhenHovering","text","btnOptions","runtime","getURL","close","addSiteToNeverTranslate","removeSiteFromNeverTranslate","addLangToNeverTranslate","removeLangFromNeverTranslate","tabsCreate","encodeURIComponent","split","textNever","textAlways","innerHTML"],"sources":["popup.js"],"sourcesContent":["\"use strict\";\r\n\r\nvar $ = document.querySelector.bind(document);\r\n\r\ntwpConfig\r\n  .onReady()\r\n  .then(() => twpI18n.updateUiMessages())\r\n  .then(() => {\r\n    twpI18n.translateDocument();\r\n    const popupSectionCount = 6;\r\n\r\n    $(\"#btnImproveTranslation\").onclick = () => {\r\n      window.location = \"improve-translation.html\";\r\n    };\r\n\r\n    let popupPanelSection = twpConfig.get(\"popupPanelSection\");\r\n\r\n    function updatePopupSection() {\r\n      document.querySelectorAll(\"[data-popupPanelSection]\").forEach((node) => {\r\n        const nodePopupPanelSection = parseInt(\r\n          node.getAttribute(\"data-popupPanelSection\")\r\n        );\r\n        if (isNaN(nodePopupPanelSection)) return;\r\n\r\n        if (nodePopupPanelSection > popupPanelSection) {\r\n          node.style.display = \"none\";\r\n        } else {\r\n          node.style.display = \"block\";\r\n        }\r\n      });\r\n\r\n      document.querySelectorAll(\"[data-popupPanelSection2]\").forEach((node) => {\r\n        const nodePopupPanelSection2 = parseInt(\r\n          node.getAttribute(\"data-popupPanelSection2\")\r\n        );\r\n        if (isNaN(nodePopupPanelSection2)) return;\r\n\r\n        if (nodePopupPanelSection2 <= popupPanelSection) {\r\n          node.style.display = \"none\";\r\n        } else {\r\n          node.style.display = \"block\";\r\n        }\r\n      });\r\n\r\n      $(\"#more\").style.display = \"block\";\r\n      $(\"#less\").style.display = \"block\";\r\n\r\n      if (popupPanelSection >= popupSectionCount) {\r\n        $(\"#more\").style.display = \"none\";\r\n      } else if (popupPanelSection <= 0) {\r\n        $(\"#less\").style.display = \"none\";\r\n      }\r\n    }\r\n    updatePopupSection();\r\n\r\n    $(\"#more\").onclick = (e) => {\r\n      if (popupPanelSection < popupSectionCount) {\r\n        popupPanelSection++;\r\n        updatePopupSection();\r\n      }\r\n      twpConfig.set(\"popupPanelSection\", popupPanelSection);\r\n    };\r\n    $(\"#less\").onclick = (e) => {\r\n      if (popupPanelSection > 0) {\r\n        popupPanelSection--;\r\n        updatePopupSection();\r\n      }\r\n      twpConfig.set(\"popupPanelSection\", popupPanelSection);\r\n    };\r\n\r\n    let originalTabLanguage = \"und\";\r\n    let currentPageLanguage = \"und\";\r\n    let currentPageLanguageState = \"original\";\r\n    let currentPageTranslatorService = twpConfig.get(\"pageTranslatorService\");\r\n\r\n    function translateOrRestorePagePage(newTargetLanguage) {\r\n      const _translateOrRestorePagePage = (newTargetLanguage) => {\r\n        currentPageLanguage = newTargetLanguage;\r\n        if (currentPageLanguage === \"original\") {\r\n          currentPageLanguageState = \"original\";\r\n        } else {\r\n          currentPageLanguageState = \"translated\";\r\n          twpConfig.setTargetLanguage(newTargetLanguage);\r\n        }\r\n\r\n        chrome.tabs.query(\r\n          {\r\n            active: true,\r\n            currentWindow: true,\r\n          },\r\n          (tabs) => {\r\n            if (twpConfig.get(\"enableIframePageTranslation\") === \"yes\") {\r\n              chrome.tabs.sendMessage(\r\n                tabs[0].id,\r\n                {\r\n                  action: \"translatePage\",\r\n                  targetLanguage: newTargetLanguage || \"original\",\r\n                },\r\n                checkedLastError\r\n              );\r\n            } else {\r\n              chrome.tabs.sendMessage(\r\n                tabs[0].id,\r\n                {\r\n                  action: \"translatePage\",\r\n                  targetLanguage: newTargetLanguage || \"original\",\r\n                },\r\n                { frameId: 0 },\r\n                checkedLastError\r\n              );\r\n            }\r\n          }\r\n        );\r\n\r\n        updateInterface();\r\n      };\r\n\r\n      if (newTargetLanguage) {\r\n        _translateOrRestorePagePage(newTargetLanguage);\r\n      } else {\r\n        chrome.tabs.query(\r\n          {\r\n            active: true,\r\n            currentWindow: true,\r\n          },\r\n          (tabs) => {\r\n            chrome.tabs.sendMessage(\r\n              tabs[0].id,\r\n              {\r\n                action: \"currentTargetLanguage\",\r\n              },\r\n              {\r\n                frameId: 0,\r\n              },\r\n              (pageLanguage) => {\r\n                checkedLastError();\r\n                if (pageLanguage) {\r\n                  _translateOrRestorePagePage(pageLanguage);\r\n                }\r\n              }\r\n            );\r\n          }\r\n        );\r\n      }\r\n    }\r\n\r\n    const twpButtons = document.querySelectorAll(\"button\");\r\n\r\n    twpButtons.forEach((button) => {\r\n      button.addEventListener(\"click\", (event) => {\r\n        const newTargetLanguage = event.target.value;\r\n        translateOrRestorePagePage(newTargetLanguage);\r\n      });\r\n    });\r\n\r\n    let targetLanguages = twpConfig.get(\"targetLanguages\");\r\n    for (let i = 1; i < 4; i++) {\r\n      const button = twpButtons[i];\r\n      button.value = targetLanguages[i - 1];\r\n      button.textContent = twpLang.codeToLanguage(targetLanguages[i - 1]);\r\n    }\r\n\r\n    chrome.tabs.query(\r\n      {\r\n        active: true,\r\n        currentWindow: true,\r\n      },\r\n      (tabs) => {\r\n        chrome.tabs.sendMessage(\r\n          tabs[0].id,\r\n          {\r\n            action: \"getOriginalTabLanguage\",\r\n          },\r\n          {\r\n            frameId: 0,\r\n          },\r\n          (tabLanguage) => {\r\n            checkedLastError();\r\n            if (\r\n              !tabLanguage ||\r\n              (tabLanguage = twpLang.fixTLanguageCode(tabLanguage))\r\n            ) {\r\n              originalTabLanguage = tabLanguage || \"und\";\r\n              twpButtons[0].childNodes[1].textContent =\r\n                twpLang.codeToLanguage(originalTabLanguage);\r\n            }\r\n          }\r\n        );\r\n\r\n        chrome.tabs.sendMessage(\r\n          tabs[0].id,\r\n          {\r\n            action: \"getCurrentPageLanguage\",\r\n          },\r\n          {\r\n            frameId: 0,\r\n          },\r\n          (pageLanguage) => {\r\n            checkedLastError();\r\n            if (pageLanguage) {\r\n              currentPageLanguage = pageLanguage;\r\n              updateInterface();\r\n            }\r\n          }\r\n        );\r\n\r\n        chrome.tabs.sendMessage(\r\n          tabs[0].id,\r\n          {\r\n            action: \"getCurrentPageLanguageState\",\r\n          },\r\n          {\r\n            frameId: 0,\r\n          },\r\n          (pageLanguageState) => {\r\n            checkedLastError();\r\n            if (pageLanguageState) {\r\n              currentPageLanguageState = pageLanguageState;\r\n              updateInterface();\r\n            }\r\n          }\r\n        );\r\n\r\n        chrome.tabs.sendMessage(\r\n          tabs[0].id,\r\n          {\r\n            action: \"getCurrentPageTranslatorService\",\r\n          },\r\n          {\r\n            frameId: 0,\r\n          },\r\n          (pageTranslatorService) => {\r\n            checkedLastError();\r\n            if (pageTranslatorService) {\r\n              currentPageTranslatorService = pageTranslatorService;\r\n              updateInterface();\r\n            }\r\n          }\r\n        );\r\n      }\r\n    );\r\n\r\n    function updateInterface() {\r\n      if (currentPageTranslatorService == \"yandex\") {\r\n        $(\"#btnOptions option[value='translateInExternalSite']\").textContent =\r\n          twpI18n.getMessage(\"msgOpenOnYandexTranslator\");\r\n        $(\"#iconTranslate\").setAttribute(\r\n          \"src\",\r\n          \"/icons/yandex-translate-32.png\"\r\n        );\r\n      } else if (currentPageTranslatorService == \"bing\") {\r\n        $(\"#btnOptions option[value='translateInExternalSite']\").textContent =\r\n          twpI18n.getMessage(\"btnOpenOnGoogleTranslate\");\r\n        $(\"#iconTranslate\").setAttribute(\"src\", \"/icons/bing-translate-32.png\");\r\n      } else {\r\n        // google\r\n        $(\"#btnOptions option[value='translateInExternalSite']\").textContent =\r\n          twpI18n.getMessage(\"btnOpenOnGoogleTranslate\");\r\n        $(\"#iconTranslate\").setAttribute(\r\n          \"src\",\r\n          \"/icons/google-translate-32.png\"\r\n        );\r\n      }\r\n\r\n      twpButtons.forEach((button) => {\r\n        button.classList.remove(\"w3-buttonSelected\");\r\n        if (\r\n          (currentPageLanguageState !== \"translated\" &&\r\n            button.value === \"original\") ||\r\n          (currentPageLanguageState === \"translated\" &&\r\n            button.value === currentPageLanguage)\r\n        ) {\r\n          button.classList.add(\"w3-buttonSelected\");\r\n        }\r\n      });\r\n\r\n      if (originalTabLanguage !== \"und\") {\r\n        $(\"#cbAlwaysTranslateThisLang\").checked =\r\n          twpConfig.get(\"alwaysTranslateLangs\").indexOf(originalTabLanguage) !==\r\n          -1;\r\n        $(\"#lblAlwaysTranslateThisLang\").textContent = twpI18n.getMessage(\r\n          \"lblAlwaysTranslate\",\r\n          twpLang.codeToLanguage(originalTabLanguage)\r\n        );\r\n        $(\"#cbAlwaysTranslateThisLang\").removeAttribute(\"disabled\");\r\n\r\n        const translatedWhenHoveringThisLangText = twpI18n.getMessage(\r\n          \"lblShowTranslatedWhenHoveringThisLang\",\r\n          twpLang.codeToLanguage(originalTabLanguage)\r\n        );\r\n        $(\"#cbShowTranslatedWhenHoveringThisLang\").checked =\r\n          twpConfig\r\n            .get(\"langsToTranslateWhenHovering\")\r\n            .indexOf(originalTabLanguage) !== -1;\r\n        $(\"#lblShowTranslatedWhenHoveringThisLang\").textContent =\r\n          translatedWhenHoveringThisLangText;\r\n        $(\"#cbShowTranslatedWhenHoveringThisLang\").removeAttribute(\"disabled\");\r\n\r\n        if (\r\n          twpConfig\r\n            .get(\"langsToTranslateWhenHovering\")\r\n            .indexOf(originalTabLanguage) === -1\r\n        ) {\r\n          $(\r\n            \"option[data-i18n=lblShowTranslatedWhenHoveringThisLang]\"\r\n          ).textContent = translatedWhenHoveringThisLangText;\r\n        } else {\r\n          $(\r\n            \"option[data-i18n=lblShowTranslatedWhenHoveringThisLang]\"\r\n          ).textContent = \"✔ \" + translatedWhenHoveringThisLangText;\r\n        }\r\n        $(\r\n          \"option[data-i18n=lblShowTranslatedWhenHoveringThisLang]\"\r\n        ).removeAttribute(\"hidden\");\r\n\r\n        const neverTranslateLangText = twpI18n.getMessage(\r\n          \"btnNeverTranslateThisLanguage\"\r\n        );\r\n        if (\r\n          twpConfig.get(\"neverTranslateLangs\").indexOf(originalTabLanguage) ===\r\n          -1\r\n        ) {\r\n          $(\"option[data-i18n=btnNeverTranslateThisLanguage]\").textContent =\r\n            neverTranslateLangText;\r\n        } else {\r\n          $(\"option[data-i18n=btnNeverTranslateThisLanguage]\").textContent =\r\n            \"✔ \" + neverTranslateLangText;\r\n        }\r\n        $(\"option[data-i18n=btnNeverTranslateThisLanguage]\").style.display =\r\n          \"block\";\r\n      }\r\n    }\r\n    updateInterface();\r\n\r\n    function enableDarkMode() {\r\n      if (!$(\"#darkModeElement\")) {\r\n        const el = document.createElement(\"style\");\r\n        el.setAttribute(\"id\", \"darkModeElement\");\r\n        el.setAttribute(\"rel\", \"stylesheet\");\r\n        el.textContent = `\r\n            body {\r\n                color: rgb(231, 230, 228) !important;\r\n                background-color: #181a1b !important;\r\n            }\r\n            \r\n            .mdiv, .md, {\r\n                background-color: rgb(231, 230, 228);\r\n            }\r\n\r\n            .menuDot {\r\n                background-image:\r\n                    radial-gradient(rgb(231, 230, 228) 2px, transparent 2px),\r\n                    radial-gradient(rgb(231, 230, 228) 2px, transparent 2px),\r\n                    radial-gradient(rgb(231, 230, 228) 2px, transparent 2px);\r\n            }\r\n\r\n            #btnSwitchInterfaces:hover, #divMenu:hover {\r\n                background-color: #454a4d !important;\r\n                color: rgb(231, 230, 228) !important;\r\n            }\r\n            \r\n            select {\r\n                color: rgb(231, 230, 228) !important;\r\n                background-color: #181a1b !important;\r\n            }\r\n\r\n            hr {\r\n                border-color: #666;\r\n            }\r\n\r\n            .arrow {\r\n                border-color: rgb(231, 230, 228);\r\n            }\r\n\r\n            #btnImproveTranslation {\r\n              color: rgb(231, 230, 228) !important;\r\n              background-color: #181a1b !important;\r\n              border: 1px solid #454a4d !important;\r\n            }\r\n            `;\r\n        document.head.appendChild(el);\r\n      }\r\n    }\r\n\r\n    function disableDarkMode() {\r\n      if ($(\"#darkModeElement\")) {\r\n        $(\"#darkModeElement\").remove();\r\n      }\r\n    }\r\n\r\n    switch (twpConfig.get(\"darkMode\")) {\r\n      case \"auto\":\r\n        if (matchMedia(\"(prefers-color-scheme: dark)\").matches) {\r\n          enableDarkMode();\r\n        } else {\r\n          disableDarkMode();\r\n        }\r\n        break;\r\n      case \"yes\":\r\n        enableDarkMode();\r\n        break;\r\n      case \"no\":\r\n        disableDarkMode();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    $(\"#btnPatreon\").onclick = (e) => {\r\n      window.open(\"https://www.patreon.com/filipeps\", \"_blank\");\r\n    };\r\n\r\n    $(\"#btnSwitchInterfaces\").addEventListener(\"click\", () => {\r\n      twpConfig.set(\"useOldPopup\", \"yes\");\r\n      window.location = \"old-popup.html\";\r\n    });\r\n\r\n    $(\"#divIconTranslate\").addEventListener(\"click\", () => {\r\n      currentPageTranslatorService = twpConfig.swapPageTranslationService();\r\n\r\n      chrome.tabs.query(\r\n        {\r\n          active: true,\r\n          currentWindow: true,\r\n        },\r\n        (tabs) => {\r\n          chrome.tabs.sendMessage(\r\n            tabs[0].id,\r\n            {\r\n              action: \"swapTranslationService\",\r\n              newServiceName: currentPageTranslatorService,\r\n            },\r\n            checkedLastError\r\n          );\r\n        }\r\n      );\r\n\r\n      updateInterface();\r\n    });\r\n\r\n    chrome.tabs.query(\r\n      {\r\n        active: true,\r\n        currentWindow: true,\r\n      },\r\n      (tabs) => {\r\n        $(\"#cbAlwaysTranslateThisLang\").addEventListener(\"change\", (e) => {\r\n          const hostname = new URL(tabs[0].url).hostname;\r\n          if (e.target.checked) {\r\n            twpConfig.addLangToAlwaysTranslate(originalTabLanguage, hostname);\r\n            translateOrRestorePagePage();\r\n          } else {\r\n            twpConfig.removeLangFromAlwaysTranslate(originalTabLanguage);\r\n          }\r\n        });\r\n\r\n        $(\"#cbAlwaysTranslateThisSite\").addEventListener(\"change\", (e) => {\r\n          const hostname = new URL(tabs[0].url).hostname;\r\n          if (e.target.checked) {\r\n            twpConfig.addSiteToAlwaysTranslate(hostname);\r\n            translateOrRestorePagePage();\r\n          } else {\r\n            twpConfig.removeSiteFromAlwaysTranslate(hostname);\r\n          }\r\n        });\r\n\r\n        $(\"#cbShowTranslateSelectedButton\").addEventListener(\"change\", (e) => {\r\n          if (e.target.checked) {\r\n            twpConfig.set(\"showTranslateSelectedButton\", \"yes\");\r\n          } else {\r\n            twpConfig.set(\"showTranslateSelectedButton\", \"no\");\r\n          }\r\n        });\r\n\r\n        $(\"#cbShowOriginalWhenHovering\").addEventListener(\"change\", (e) => {\r\n          if (e.target.checked) {\r\n            twpConfig.set(\"showOriginalTextWhenHovering\", \"yes\");\r\n          } else {\r\n            twpConfig.set(\"showOriginalTextWhenHovering\", \"no\");\r\n          }\r\n        });\r\n\r\n        $(\"#cbShowTranslatedWhenHoveringThisSite\").addEventListener(\r\n          \"change\",\r\n          (e) => {\r\n            const hostname = new URL(tabs[0].url).hostname;\r\n            if (e.target.checked) {\r\n              twpConfig.addSiteToTranslateWhenHovering(hostname);\r\n            } else {\r\n              twpConfig.removeSiteFromTranslateWhenHovering(hostname);\r\n            }\r\n          }\r\n        );\r\n\r\n        $(\"#cbShowTranslatedWhenHoveringThisLang\").addEventListener(\r\n          \"change\",\r\n          (e) => {\r\n            if (e.target.checked) {\r\n              twpConfig.addLangToTranslateWhenHovering(originalTabLanguage);\r\n            } else {\r\n              twpConfig.removeLangFromTranslateWhenHovering(\r\n                originalTabLanguage\r\n              );\r\n            }\r\n          }\r\n        );\r\n\r\n        $(\"#cbShowTranslateSelectedButton\").checked =\r\n          twpConfig.get(\"showTranslateSelectedButton\") == \"yes\" ? true : false;\r\n        $(\"#cbShowOriginalWhenHovering\").checked =\r\n          twpConfig.get(\"showOriginalTextWhenHovering\") == \"yes\" ? true : false;\r\n\r\n        const hostname = new URL(tabs[0].url).hostname;\r\n        $(\"#cbAlwaysTranslateThisSite\").checked =\r\n          twpConfig.get(\"alwaysTranslateSites\").indexOf(hostname) !== -1;\r\n        $(\"#cbShowTranslatedWhenHoveringThisSite\").checked =\r\n          twpConfig.get(\"sitesToTranslateWhenHovering\").indexOf(hostname) !==\r\n          -1;\r\n\r\n        {\r\n          const text = twpI18n.getMessage(\"lblShowTranslateSelectedButton\");\r\n          if (twpConfig.get(\"showTranslateSelectedButton\") !== \"yes\") {\r\n            $(\"option[data-i18n=lblShowTranslateSelectedButton]\").textContent =\r\n              text;\r\n          } else {\r\n            $(\"option[data-i18n=lblShowTranslateSelectedButton]\").textContent =\r\n              \"✔ \" + text;\r\n          }\r\n        }\r\n        {\r\n          const text = twpI18n.getMessage(\"lblShowOriginalTextWhenHovering\");\r\n          if (twpConfig.get(\"showOriginalTextWhenHovering\") !== \"yes\") {\r\n            $(\"option[data-i18n=lblShowOriginalTextWhenHovering]\").textContent =\r\n              text;\r\n          } else {\r\n            $(\"option[data-i18n=lblShowOriginalTextWhenHovering]\").textContent =\r\n              \"✔ \" + text;\r\n          }\r\n        }\r\n        {\r\n          const text = twpI18n.getMessage(\r\n            \"lblShowTranslatedWhenHoveringThisSite\"\r\n          );\r\n          if (\r\n            twpConfig.get(\"sitesToTranslateWhenHovering\").indexOf(hostname) ===\r\n            -1\r\n          ) {\r\n            $(\r\n              \"option[data-i18n=lblShowTranslatedWhenHoveringThisSite]\"\r\n            ).textContent = text;\r\n          } else {\r\n            $(\r\n              \"option[data-i18n=lblShowTranslatedWhenHoveringThisSite]\"\r\n            ).textContent = \"✔ \" + text;\r\n          }\r\n        }\r\n      }\r\n    );\r\n\r\n    $(\"#btnOptions\").addEventListener(\"change\", (event) => {\r\n      const btnOptions = event.target;\r\n\r\n      chrome.tabs.query(\r\n        {\r\n          active: true,\r\n          currentWindow: true,\r\n        },\r\n        (tabs) => {\r\n          const hostname = new URL(tabs[0].url).hostname;\r\n          switch (btnOptions.value) {\r\n            case \"changeLanguage\":\r\n              location = chrome.runtime.getURL(\r\n                \"/popup/improve-translation.html\"\r\n              );\r\n              break;\r\n            case \"alwaysTranslateThisSite\":\r\n              if (\r\n                twpConfig.get(\"alwaysTranslateSites\").indexOf(hostname) === -1\r\n              ) {\r\n                twpConfig.addSiteToAlwaysTranslate(hostname);\r\n              } else {\r\n                twpConfig.removeSiteFromAlwaysTranslate(hostname);\r\n              }\r\n              window.close();\r\n              break;\r\n            case \"neverTranslateThisSite\":\r\n              if (\r\n                twpConfig.get(\"neverTranslateSites\").indexOf(hostname) === -1\r\n              ) {\r\n                twpConfig.addSiteToNeverTranslate(hostname);\r\n                translateOrRestorePagePage(\"original\");\r\n              } else {\r\n                twpConfig.removeSiteFromNeverTranslate(hostname);\r\n              }\r\n              window.close();\r\n              break;\r\n            case \"alwaysTranslateThisLanguage\":\r\n              if (\r\n                twpConfig\r\n                  .get(\"alwaysTranslateLangs\")\r\n                  .indexOf(originalTabLanguage) === -1\r\n              ) {\r\n                twpConfig.addLangToAlwaysTranslate(\r\n                  originalTabLanguage,\r\n                  hostname\r\n                );\r\n              } else {\r\n                twpConfig.removeLangFromAlwaysTranslate(originalTabLanguage);\r\n              }\r\n              window.close();\r\n              break;\r\n            case \"neverTranslateThisLanguage\":\r\n              if (\r\n                twpConfig\r\n                  .get(\"neverTranslateLangs\")\r\n                  .indexOf(originalTabLanguage) === -1\r\n              ) {\r\n                twpConfig.addLangToNeverTranslate(\r\n                  originalTabLanguage,\r\n                  hostname\r\n                );\r\n                translateOrRestorePagePage(\"original\");\r\n              } else {\r\n                twpConfig.removeLangFromNeverTranslate(originalTabLanguage);\r\n              }\r\n              window.close();\r\n              break;\r\n            case \"showTranslateSelectedButton\":\r\n              if (twpConfig.get(\"showTranslateSelectedButton\") === \"yes\") {\r\n                twpConfig.set(\"showTranslateSelectedButton\", \"no\");\r\n              } else {\r\n                twpConfig.set(\"showTranslateSelectedButton\", \"yes\");\r\n              }\r\n              window.close();\r\n              break;\r\n            case \"showOriginalTextWhenHovering\":\r\n              if (twpConfig.get(\"showOriginalTextWhenHovering\") === \"yes\") {\r\n                twpConfig.set(\"showOriginalTextWhenHovering\", \"no\");\r\n              } else {\r\n                twpConfig.set(\"showOriginalTextWhenHovering\", \"yes\");\r\n              }\r\n              window.close();\r\n              break;\r\n            case \"showTranslatedWhenHoveringThisSite\":\r\n              if (\r\n                twpConfig\r\n                  .get(\"sitesToTranslateWhenHovering\")\r\n                  .indexOf(hostname) === -1\r\n              ) {\r\n                twpConfig.addSiteToTranslateWhenHovering(hostname);\r\n              } else {\r\n                twpConfig.removeSiteFromTranslateWhenHovering(hostname);\r\n              }\r\n              window.close();\r\n              break;\r\n            case \"showTranslatedWhenHoveringThisLang\":\r\n              if (\r\n                twpConfig\r\n                  .get(\"langsToTranslateWhenHovering\")\r\n                  .indexOf(originalTabLanguage) === -1\r\n              ) {\r\n                twpConfig.addLangToTranslateWhenHovering(originalTabLanguage);\r\n              } else {\r\n                twpConfig.removeLangFromTranslateWhenHovering(\r\n                  originalTabLanguage\r\n                );\r\n              }\r\n              window.close();\r\n              break;\r\n            case \"translateInExternalSite\":\r\n              chrome.tabs.query(\r\n                {\r\n                  active: true,\r\n                  currentWindow: true,\r\n                },\r\n                (tabs) => {\r\n                  if (currentPageTranslatorService === \"yandex\") {\r\n                    tabsCreate(\r\n                      `https://translate.yandex.com/translate?view=compact&url=${encodeURIComponent(\r\n                        tabs[0].url\r\n                      )}&lang=${twpConfig.get(\"targetLanguage\").split(\"-\")[0]}`\r\n                    );\r\n                  } else {\r\n                    // google\r\n                    tabsCreate(\r\n                      `https://translate.google.com/translate?tl=${twpConfig.get(\r\n                        \"targetLanguage\"\r\n                      )}&u=${encodeURIComponent(tabs[0].url)}`\r\n                    );\r\n                  }\r\n                }\r\n              );\r\n              break;\r\n            case \"moreOptions\":\r\n              tabsCreate(chrome.runtime.getURL(\"/options/options.html\"));\r\n              break;\r\n            case \"donate\":\r\n              tabsCreate(\r\n                chrome.runtime.getURL(\"/options/options.html#donation\")\r\n              );\r\n              break;\r\n            case \"translatePDF\":\r\n              tabsCreate(\"https://pdf.translatewebpages.org/\");\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          btnOptions.value = \"options\";\r\n        }\r\n      );\r\n    });\r\n\r\n    chrome.tabs.query(\r\n      {\r\n        active: true,\r\n        currentWindow: true,\r\n      },\r\n      (tabs) => {\r\n        const hostname = new URL(tabs[0].url).hostname;\r\n        const textNever = twpI18n.getMessage(\"btnNeverTranslate\");\r\n        if (twpConfig.get(\"neverTranslateSites\").indexOf(hostname) === -1) {\r\n          $(\"option[data-i18n=btnNeverTranslate]\").textContent = textNever;\r\n        } else {\r\n          $(\"option[data-i18n=btnNeverTranslate]\").textContent =\r\n            \"✔ \" + textNever;\r\n        }\r\n\r\n        const textAlways = twpI18n.getMessage(\"btnAlwaysTranslate\");\r\n        if (twpConfig.get(\"alwaysTranslateSites\").indexOf(hostname) === -1) {\r\n          $(\"option[data-i18n=btnAlwaysTranslate]\").textContent = textAlways;\r\n        } else {\r\n          $(\"option[data-i18n=btnAlwaysTranslate]\").textContent =\r\n            \"✔ \" + textAlways;\r\n        }\r\n\r\n        $(\"option[data-i18n=btnDonate]\").innerHTML += \" &#10084;\";\r\n      }\r\n    );\r\n  });\r\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,CAAC,GAAGC,QAAQ,CAACC,aAAa,CAACC,IAAI,CAACF,QAAQ,CAAC;AAE7CG,SAAS,CACNC,OAAO,CAAC,CAAC,CACTC,IAAI,CAAC,MAAMC,OAAO,CAACC,gBAAgB,CAAC,CAAC,CAAC,CACtCF,IAAI,CAAC,MAAM;EACVC,OAAO,CAACE,iBAAiB,CAAC,CAAC;EAC3B,MAAMC,iBAAiB,GAAG,CAAC;EAE3BV,CAAC,CAAC,wBAAwB,CAAC,CAACW,OAAO,GAAG,MAAM;IAC1CC,MAAM,CAACC,QAAQ,GAAG,0BAA0B;EAC9C,CAAC;EAED,IAAIC,iBAAiB,GAAGV,SAAS,CAACW,GAAG,CAAC,mBAAmB,CAAC;EAE1D,SAASC,kBAAkBA,CAAA,EAAG;IAC5Bf,QAAQ,CAACgB,gBAAgB,CAAC,0BAA0B,CAAC,CAACC,OAAO,CAAEC,IAAI,IAAK;MACtE,MAAMC,qBAAqB,GAAGC,QAAQ,CACpCF,IAAI,CAACG,YAAY,CAAC,wBAAwB,CAC5C,CAAC;MACD,IAAIC,KAAK,CAACH,qBAAqB,CAAC,EAAE;MAElC,IAAIA,qBAAqB,GAAGN,iBAAiB,EAAE;QAC7CK,IAAI,CAACK,KAAK,CAACC,OAAO,GAAG,MAAM;MAC7B,CAAC,MAAM;QACLN,IAAI,CAACK,KAAK,CAACC,OAAO,GAAG,OAAO;MAC9B;IACF,CAAC,CAAC;IAEFxB,QAAQ,CAACgB,gBAAgB,CAAC,2BAA2B,CAAC,CAACC,OAAO,CAAEC,IAAI,IAAK;MACvE,MAAMO,sBAAsB,GAAGL,QAAQ,CACrCF,IAAI,CAACG,YAAY,CAAC,yBAAyB,CAC7C,CAAC;MACD,IAAIC,KAAK,CAACG,sBAAsB,CAAC,EAAE;MAEnC,IAAIA,sBAAsB,IAAIZ,iBAAiB,EAAE;QAC/CK,IAAI,CAACK,KAAK,CAACC,OAAO,GAAG,MAAM;MAC7B,CAAC,MAAM;QACLN,IAAI,CAACK,KAAK,CAACC,OAAO,GAAG,OAAO;MAC9B;IACF,CAAC,CAAC;IAEFzB,CAAC,CAAC,OAAO,CAAC,CAACwB,KAAK,CAACC,OAAO,GAAG,OAAO;IAClCzB,CAAC,CAAC,OAAO,CAAC,CAACwB,KAAK,CAACC,OAAO,GAAG,OAAO;IAElC,IAAIX,iBAAiB,IAAIJ,iBAAiB,EAAE;MAC1CV,CAAC,CAAC,OAAO,CAAC,CAACwB,KAAK,CAACC,OAAO,GAAG,MAAM;IACnC,CAAC,MAAM,IAAIX,iBAAiB,IAAI,CAAC,EAAE;MACjCd,CAAC,CAAC,OAAO,CAAC,CAACwB,KAAK,CAACC,OAAO,GAAG,MAAM;IACnC;EACF;EACAT,kBAAkB,CAAC,CAAC;EAEpBhB,CAAC,CAAC,OAAO,CAAC,CAACW,OAAO,GAAIgB,CAAC,IAAK;IAC1B,IAAIb,iBAAiB,GAAGJ,iBAAiB,EAAE;MACzCI,iBAAiB,EAAE;MACnBE,kBAAkB,CAAC,CAAC;IACtB;IACAZ,SAAS,CAACwB,GAAG,CAAC,mBAAmB,EAAEd,iBAAiB,CAAC;EACvD,CAAC;EACDd,CAAC,CAAC,OAAO,CAAC,CAACW,OAAO,GAAIgB,CAAC,IAAK;IAC1B,IAAIb,iBAAiB,GAAG,CAAC,EAAE;MACzBA,iBAAiB,EAAE;MACnBE,kBAAkB,CAAC,CAAC;IACtB;IACAZ,SAAS,CAACwB,GAAG,CAAC,mBAAmB,EAAEd,iBAAiB,CAAC;EACvD,CAAC;EAED,IAAIe,mBAAmB,GAAG,KAAK;EAC/B,IAAIC,mBAAmB,GAAG,KAAK;EAC/B,IAAIC,wBAAwB,GAAG,UAAU;EACzC,IAAIC,4BAA4B,GAAG5B,SAAS,CAACW,GAAG,CAAC,uBAAuB,CAAC;EAEzE,SAASkB,0BAA0BA,CAACC,iBAAiB,EAAE;IACrD,MAAMC,2BAA2B,GAAID,iBAAiB,IAAK;MACzDJ,mBAAmB,GAAGI,iBAAiB;MACvC,IAAIJ,mBAAmB,KAAK,UAAU,EAAE;QACtCC,wBAAwB,GAAG,UAAU;MACvC,CAAC,MAAM;QACLA,wBAAwB,GAAG,YAAY;QACvC3B,SAAS,CAACgC,iBAAiB,CAACF,iBAAiB,CAAC;MAChD;MAEAG,MAAM,CAACC,IAAI,CAACC,KAAK,CACf;QACEC,MAAM,EAAE,IAAI;QACZC,aAAa,EAAE;MACjB,CAAC,EACAH,IAAI,IAAK;QACR,IAAIlC,SAAS,CAACW,GAAG,CAAC,6BAA6B,CAAC,KAAK,KAAK,EAAE;UAC1DsB,MAAM,CAACC,IAAI,CAACI,WAAW,CACrBJ,IAAI,CAAC,CAAC,CAAC,CAACK,EAAE,EACV;YACEC,MAAM,EAAE,eAAe;YACvBC,cAAc,EAAEX,iBAAiB,IAAI;UACvC,CAAC,EACDY,gBACF,CAAC;QACH,CAAC,MAAM;UACLT,MAAM,CAACC,IAAI,CAACI,WAAW,CACrBJ,IAAI,CAAC,CAAC,CAAC,CAACK,EAAE,EACV;YACEC,MAAM,EAAE,eAAe;YACvBC,cAAc,EAAEX,iBAAiB,IAAI;UACvC,CAAC,EACD;YAAEa,OAAO,EAAE;UAAE,CAAC,EACdD,gBACF,CAAC;QACH;MACF,CACF,CAAC;MAEDE,eAAe,CAAC,CAAC;IACnB,CAAC;IAED,IAAId,iBAAiB,EAAE;MACrBC,2BAA2B,CAACD,iBAAiB,CAAC;IAChD,CAAC,MAAM;MACLG,MAAM,CAACC,IAAI,CAACC,KAAK,CACf;QACEC,MAAM,EAAE,IAAI;QACZC,aAAa,EAAE;MACjB,CAAC,EACAH,IAAI,IAAK;QACRD,MAAM,CAACC,IAAI,CAACI,WAAW,CACrBJ,IAAI,CAAC,CAAC,CAAC,CAACK,EAAE,EACV;UACEC,MAAM,EAAE;QACV,CAAC,EACD;UACEG,OAAO,EAAE;QACX,CAAC,EACAE,YAAY,IAAK;UAChBH,gBAAgB,CAAC,CAAC;UAClB,IAAIG,YAAY,EAAE;YAChBd,2BAA2B,CAACc,YAAY,CAAC;UAC3C;QACF,CACF,CAAC;MACH,CACF,CAAC;IACH;EACF;EAEA,MAAMC,UAAU,GAAGjD,QAAQ,CAACgB,gBAAgB,CAAC,QAAQ,CAAC;EAEtDiC,UAAU,CAAChC,OAAO,CAAEiC,MAAM,IAAK;IAC7BA,MAAM,CAACC,gBAAgB,CAAC,OAAO,EAAGC,KAAK,IAAK;MAC1C,MAAMnB,iBAAiB,GAAGmB,KAAK,CAACC,MAAM,CAACC,KAAK;MAC5CtB,0BAA0B,CAACC,iBAAiB,CAAC;IAC/C,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,IAAIsB,eAAe,GAAGpD,SAAS,CAACW,GAAG,CAAC,iBAAiB,CAAC;EACtD,KAAK,IAAI0C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,EAAE;IAC1B,MAAMN,MAAM,GAAGD,UAAU,CAACO,CAAC,CAAC;IAC5BN,MAAM,CAACI,KAAK,GAAGC,eAAe,CAACC,CAAC,GAAG,CAAC,CAAC;IACrCN,MAAM,CAACO,WAAW,GAAGC,OAAO,CAACC,cAAc,CAACJ,eAAe,CAACC,CAAC,GAAG,CAAC,CAAC,CAAC;EACrE;EAEApB,MAAM,CAACC,IAAI,CAACC,KAAK,CACf;IACEC,MAAM,EAAE,IAAI;IACZC,aAAa,EAAE;EACjB,CAAC,EACAH,IAAI,IAAK;IACRD,MAAM,CAACC,IAAI,CAACI,WAAW,CACrBJ,IAAI,CAAC,CAAC,CAAC,CAACK,EAAE,EACV;MACEC,MAAM,EAAE;IACV,CAAC,EACD;MACEG,OAAO,EAAE;IACX,CAAC,EACAc,WAAW,IAAK;MACff,gBAAgB,CAAC,CAAC;MAClB,IACE,CAACe,WAAW,KACXA,WAAW,GAAGF,OAAO,CAACG,gBAAgB,CAACD,WAAW,CAAC,CAAC,EACrD;QACAhC,mBAAmB,GAAGgC,WAAW,IAAI,KAAK;QAC1CX,UAAU,CAAC,CAAC,CAAC,CAACa,UAAU,CAAC,CAAC,CAAC,CAACL,WAAW,GACrCC,OAAO,CAACC,cAAc,CAAC/B,mBAAmB,CAAC;MAC/C;IACF,CACF,CAAC;IAEDQ,MAAM,CAACC,IAAI,CAACI,WAAW,CACrBJ,IAAI,CAAC,CAAC,CAAC,CAACK,EAAE,EACV;MACEC,MAAM,EAAE;IACV,CAAC,EACD;MACEG,OAAO,EAAE;IACX,CAAC,EACAE,YAAY,IAAK;MAChBH,gBAAgB,CAAC,CAAC;MAClB,IAAIG,YAAY,EAAE;QAChBnB,mBAAmB,GAAGmB,YAAY;QAClCD,eAAe,CAAC,CAAC;MACnB;IACF,CACF,CAAC;IAEDX,MAAM,CAACC,IAAI,CAACI,WAAW,CACrBJ,IAAI,CAAC,CAAC,CAAC,CAACK,EAAE,EACV;MACEC,MAAM,EAAE;IACV,CAAC,EACD;MACEG,OAAO,EAAE;IACX,CAAC,EACAiB,iBAAiB,IAAK;MACrBlB,gBAAgB,CAAC,CAAC;MAClB,IAAIkB,iBAAiB,EAAE;QACrBjC,wBAAwB,GAAGiC,iBAAiB;QAC5ChB,eAAe,CAAC,CAAC;MACnB;IACF,CACF,CAAC;IAEDX,MAAM,CAACC,IAAI,CAACI,WAAW,CACrBJ,IAAI,CAAC,CAAC,CAAC,CAACK,EAAE,EACV;MACEC,MAAM,EAAE;IACV,CAAC,EACD;MACEG,OAAO,EAAE;IACX,CAAC,EACAkB,qBAAqB,IAAK;MACzBnB,gBAAgB,CAAC,CAAC;MAClB,IAAImB,qBAAqB,EAAE;QACzBjC,4BAA4B,GAAGiC,qBAAqB;QACpDjB,eAAe,CAAC,CAAC;MACnB;IACF,CACF,CAAC;EACH,CACF,CAAC;EAED,SAASA,eAAeA,CAAA,EAAG;IACzB,IAAIhB,4BAA4B,IAAI,QAAQ,EAAE;MAC5ChC,CAAC,CAAC,qDAAqD,CAAC,CAAC0D,WAAW,GAClEnD,OAAO,CAAC2D,UAAU,CAAC,2BAA2B,CAAC;MACjDlE,CAAC,CAAC,gBAAgB,CAAC,CAACmE,YAAY,CAC9B,KAAK,EACL,gCACF,CAAC;IACH,CAAC,MAAM,IAAInC,4BAA4B,IAAI,MAAM,EAAE;MACjDhC,CAAC,CAAC,qDAAqD,CAAC,CAAC0D,WAAW,GAClEnD,OAAO,CAAC2D,UAAU,CAAC,0BAA0B,CAAC;MAChDlE,CAAC,CAAC,gBAAgB,CAAC,CAACmE,YAAY,CAAC,KAAK,EAAE,8BAA8B,CAAC;IACzE,CAAC,MAAM;MACL;MACAnE,CAAC,CAAC,qDAAqD,CAAC,CAAC0D,WAAW,GAClEnD,OAAO,CAAC2D,UAAU,CAAC,0BAA0B,CAAC;MAChDlE,CAAC,CAAC,gBAAgB,CAAC,CAACmE,YAAY,CAC9B,KAAK,EACL,gCACF,CAAC;IACH;IAEAjB,UAAU,CAAChC,OAAO,CAAEiC,MAAM,IAAK;MAC7BA,MAAM,CAACiB,SAAS,CAACC,MAAM,CAAC,mBAAmB,CAAC;MAC5C,IACGtC,wBAAwB,KAAK,YAAY,IACxCoB,MAAM,CAACI,KAAK,KAAK,UAAU,IAC5BxB,wBAAwB,KAAK,YAAY,IACxCoB,MAAM,CAACI,KAAK,KAAKzB,mBAAoB,EACvC;QACAqB,MAAM,CAACiB,SAAS,CAACE,GAAG,CAAC,mBAAmB,CAAC;MAC3C;IACF,CAAC,CAAC;IAEF,IAAIzC,mBAAmB,KAAK,KAAK,EAAE;MACjC7B,CAAC,CAAC,4BAA4B,CAAC,CAACuE,OAAO,GACrCnE,SAAS,CAACW,GAAG,CAAC,sBAAsB,CAAC,CAACyD,OAAO,CAAC3C,mBAAmB,CAAC,KAClE,CAAC,CAAC;MACJ7B,CAAC,CAAC,6BAA6B,CAAC,CAAC0D,WAAW,GAAGnD,OAAO,CAAC2D,UAAU,CAC/D,oBAAoB,EACpBP,OAAO,CAACC,cAAc,CAAC/B,mBAAmB,CAC5C,CAAC;MACD7B,CAAC,CAAC,4BAA4B,CAAC,CAACyE,eAAe,CAAC,UAAU,CAAC;MAE3D,MAAMC,kCAAkC,GAAGnE,OAAO,CAAC2D,UAAU,CAC3D,uCAAuC,EACvCP,OAAO,CAACC,cAAc,CAAC/B,mBAAmB,CAC5C,CAAC;MACD7B,CAAC,CAAC,uCAAuC,CAAC,CAACuE,OAAO,GAChDnE,SAAS,CACNW,GAAG,CAAC,8BAA8B,CAAC,CACnCyD,OAAO,CAAC3C,mBAAmB,CAAC,KAAK,CAAC,CAAC;MACxC7B,CAAC,CAAC,wCAAwC,CAAC,CAAC0D,WAAW,GACrDgB,kCAAkC;MACpC1E,CAAC,CAAC,uCAAuC,CAAC,CAACyE,eAAe,CAAC,UAAU,CAAC;MAEtE,IACErE,SAAS,CACNW,GAAG,CAAC,8BAA8B,CAAC,CACnCyD,OAAO,CAAC3C,mBAAmB,CAAC,KAAK,CAAC,CAAC,EACtC;QACA7B,CAAC,CACC,yDACF,CAAC,CAAC0D,WAAW,GAAGgB,kCAAkC;MACpD,CAAC,MAAM;QACL1E,CAAC,CACC,yDACF,CAAC,CAAC0D,WAAW,GAAG,IAAI,GAAGgB,kCAAkC;MAC3D;MACA1E,CAAC,CACC,yDACF,CAAC,CAACyE,eAAe,CAAC,QAAQ,CAAC;MAE3B,MAAME,sBAAsB,GAAGpE,OAAO,CAAC2D,UAAU,CAC/C,+BACF,CAAC;MACD,IACE9D,SAAS,CAACW,GAAG,CAAC,qBAAqB,CAAC,CAACyD,OAAO,CAAC3C,mBAAmB,CAAC,KACjE,CAAC,CAAC,EACF;QACA7B,CAAC,CAAC,iDAAiD,CAAC,CAAC0D,WAAW,GAC9DiB,sBAAsB;MAC1B,CAAC,MAAM;QACL3E,CAAC,CAAC,iDAAiD,CAAC,CAAC0D,WAAW,GAC9D,IAAI,GAAGiB,sBAAsB;MACjC;MACA3E,CAAC,CAAC,iDAAiD,CAAC,CAACwB,KAAK,CAACC,OAAO,GAChE,OAAO;IACX;EACF;EACAuB,eAAe,CAAC,CAAC;EAEjB,SAAS4B,cAAcA,CAAA,EAAG;IACxB,IAAI,CAAC5E,CAAC,CAAC,kBAAkB,CAAC,EAAE;MAC1B,MAAM6E,EAAE,GAAG5E,QAAQ,CAAC6E,aAAa,CAAC,OAAO,CAAC;MAC1CD,EAAE,CAACV,YAAY,CAAC,IAAI,EAAE,iBAAiB,CAAC;MACxCU,EAAE,CAACV,YAAY,CAAC,KAAK,EAAE,YAAY,CAAC;MACpCU,EAAE,CAACnB,WAAW,GAAI;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;MACLzD,QAAQ,CAAC8E,IAAI,CAACC,WAAW,CAACH,EAAE,CAAC;IAC/B;EACF;EAEA,SAASI,eAAeA,CAAA,EAAG;IACzB,IAAIjF,CAAC,CAAC,kBAAkB,CAAC,EAAE;MACzBA,CAAC,CAAC,kBAAkB,CAAC,CAACqE,MAAM,CAAC,CAAC;IAChC;EACF;EAEA,QAAQjE,SAAS,CAACW,GAAG,CAAC,UAAU,CAAC;IAC/B,KAAK,MAAM;MACT,IAAImE,UAAU,CAAC,8BAA8B,CAAC,CAACC,OAAO,EAAE;QACtDP,cAAc,CAAC,CAAC;MAClB,CAAC,MAAM;QACLK,eAAe,CAAC,CAAC;MACnB;MACA;IACF,KAAK,KAAK;MACRL,cAAc,CAAC,CAAC;MAChB;IACF,KAAK,IAAI;MACPK,eAAe,CAAC,CAAC;MACjB;IACF;MACE;EACJ;EAEAjF,CAAC,CAAC,aAAa,CAAC,CAACW,OAAO,GAAIgB,CAAC,IAAK;IAChCf,MAAM,CAACwE,IAAI,CAAC,kCAAkC,EAAE,QAAQ,CAAC;EAC3D,CAAC;EAEDpF,CAAC,CAAC,sBAAsB,CAAC,CAACoD,gBAAgB,CAAC,OAAO,EAAE,MAAM;IACxDhD,SAAS,CAACwB,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC;IACnChB,MAAM,CAACC,QAAQ,GAAG,gBAAgB;EACpC,CAAC,CAAC;EAEFb,CAAC,CAAC,mBAAmB,CAAC,CAACoD,gBAAgB,CAAC,OAAO,EAAE,MAAM;IACrDpB,4BAA4B,GAAG5B,SAAS,CAACiF,0BAA0B,CAAC,CAAC;IAErEhD,MAAM,CAACC,IAAI,CAACC,KAAK,CACf;MACEC,MAAM,EAAE,IAAI;MACZC,aAAa,EAAE;IACjB,CAAC,EACAH,IAAI,IAAK;MACRD,MAAM,CAACC,IAAI,CAACI,WAAW,CACrBJ,IAAI,CAAC,CAAC,CAAC,CAACK,EAAE,EACV;QACEC,MAAM,EAAE,wBAAwB;QAChC0C,cAAc,EAAEtD;MAClB,CAAC,EACDc,gBACF,CAAC;IACH,CACF,CAAC;IAEDE,eAAe,CAAC,CAAC;EACnB,CAAC,CAAC;EAEFX,MAAM,CAACC,IAAI,CAACC,KAAK,CACf;IACEC,MAAM,EAAE,IAAI;IACZC,aAAa,EAAE;EACjB,CAAC,EACAH,IAAI,IAAK;IACRtC,CAAC,CAAC,4BAA4B,CAAC,CAACoD,gBAAgB,CAAC,QAAQ,EAAGzB,CAAC,IAAK;MAChE,MAAM4D,QAAQ,GAAG,IAAIC,GAAG,CAAClD,IAAI,CAAC,CAAC,CAAC,CAACmD,GAAG,CAAC,CAACF,QAAQ;MAC9C,IAAI5D,CAAC,CAAC2B,MAAM,CAACiB,OAAO,EAAE;QACpBnE,SAAS,CAACsF,wBAAwB,CAAC7D,mBAAmB,EAAE0D,QAAQ,CAAC;QACjEtD,0BAA0B,CAAC,CAAC;MAC9B,CAAC,MAAM;QACL7B,SAAS,CAACuF,6BAA6B,CAAC9D,mBAAmB,CAAC;MAC9D;IACF,CAAC,CAAC;IAEF7B,CAAC,CAAC,4BAA4B,CAAC,CAACoD,gBAAgB,CAAC,QAAQ,EAAGzB,CAAC,IAAK;MAChE,MAAM4D,QAAQ,GAAG,IAAIC,GAAG,CAAClD,IAAI,CAAC,CAAC,CAAC,CAACmD,GAAG,CAAC,CAACF,QAAQ;MAC9C,IAAI5D,CAAC,CAAC2B,MAAM,CAACiB,OAAO,EAAE;QACpBnE,SAAS,CAACwF,wBAAwB,CAACL,QAAQ,CAAC;QAC5CtD,0BAA0B,CAAC,CAAC;MAC9B,CAAC,MAAM;QACL7B,SAAS,CAACyF,6BAA6B,CAACN,QAAQ,CAAC;MACnD;IACF,CAAC,CAAC;IAEFvF,CAAC,CAAC,gCAAgC,CAAC,CAACoD,gBAAgB,CAAC,QAAQ,EAAGzB,CAAC,IAAK;MACpE,IAAIA,CAAC,CAAC2B,MAAM,CAACiB,OAAO,EAAE;QACpBnE,SAAS,CAACwB,GAAG,CAAC,6BAA6B,EAAE,KAAK,CAAC;MACrD,CAAC,MAAM;QACLxB,SAAS,CAACwB,GAAG,CAAC,6BAA6B,EAAE,IAAI,CAAC;MACpD;IACF,CAAC,CAAC;IAEF5B,CAAC,CAAC,6BAA6B,CAAC,CAACoD,gBAAgB,CAAC,QAAQ,EAAGzB,CAAC,IAAK;MACjE,IAAIA,CAAC,CAAC2B,MAAM,CAACiB,OAAO,EAAE;QACpBnE,SAAS,CAACwB,GAAG,CAAC,8BAA8B,EAAE,KAAK,CAAC;MACtD,CAAC,MAAM;QACLxB,SAAS,CAACwB,GAAG,CAAC,8BAA8B,EAAE,IAAI,CAAC;MACrD;IACF,CAAC,CAAC;IAEF5B,CAAC,CAAC,uCAAuC,CAAC,CAACoD,gBAAgB,CACzD,QAAQ,EACPzB,CAAC,IAAK;MACL,MAAM4D,QAAQ,GAAG,IAAIC,GAAG,CAAClD,IAAI,CAAC,CAAC,CAAC,CAACmD,GAAG,CAAC,CAACF,QAAQ;MAC9C,IAAI5D,CAAC,CAAC2B,MAAM,CAACiB,OAAO,EAAE;QACpBnE,SAAS,CAAC0F,8BAA8B,CAACP,QAAQ,CAAC;MACpD,CAAC,MAAM;QACLnF,SAAS,CAAC2F,mCAAmC,CAACR,QAAQ,CAAC;MACzD;IACF,CACF,CAAC;IAEDvF,CAAC,CAAC,uCAAuC,CAAC,CAACoD,gBAAgB,CACzD,QAAQ,EACPzB,CAAC,IAAK;MACL,IAAIA,CAAC,CAAC2B,MAAM,CAACiB,OAAO,EAAE;QACpBnE,SAAS,CAAC4F,8BAA8B,CAACnE,mBAAmB,CAAC;MAC/D,CAAC,MAAM;QACLzB,SAAS,CAAC6F,mCAAmC,CAC3CpE,mBACF,CAAC;MACH;IACF,CACF,CAAC;IAED7B,CAAC,CAAC,gCAAgC,CAAC,CAACuE,OAAO,GACzCnE,SAAS,CAACW,GAAG,CAAC,6BAA6B,CAAC,IAAI,KAAK,GAAG,IAAI,GAAG,KAAK;IACtEf,CAAC,CAAC,6BAA6B,CAAC,CAACuE,OAAO,GACtCnE,SAAS,CAACW,GAAG,CAAC,8BAA8B,CAAC,IAAI,KAAK,GAAG,IAAI,GAAG,KAAK;IAEvE,MAAMwE,QAAQ,GAAG,IAAIC,GAAG,CAAClD,IAAI,CAAC,CAAC,CAAC,CAACmD,GAAG,CAAC,CAACF,QAAQ;IAC9CvF,CAAC,CAAC,4BAA4B,CAAC,CAACuE,OAAO,GACrCnE,SAAS,CAACW,GAAG,CAAC,sBAAsB,CAAC,CAACyD,OAAO,CAACe,QAAQ,CAAC,KAAK,CAAC,CAAC;IAChEvF,CAAC,CAAC,uCAAuC,CAAC,CAACuE,OAAO,GAChDnE,SAAS,CAACW,GAAG,CAAC,8BAA8B,CAAC,CAACyD,OAAO,CAACe,QAAQ,CAAC,KAC/D,CAAC,CAAC;IAEJ;MACE,MAAMW,IAAI,GAAG3F,OAAO,CAAC2D,UAAU,CAAC,gCAAgC,CAAC;MACjE,IAAI9D,SAAS,CAACW,GAAG,CAAC,6BAA6B,CAAC,KAAK,KAAK,EAAE;QAC1Df,CAAC,CAAC,kDAAkD,CAAC,CAAC0D,WAAW,GAC/DwC,IAAI;MACR,CAAC,MAAM;QACLlG,CAAC,CAAC,kDAAkD,CAAC,CAAC0D,WAAW,GAC/D,IAAI,GAAGwC,IAAI;MACf;IACF;IACA;MACE,MAAMA,IAAI,GAAG3F,OAAO,CAAC2D,UAAU,CAAC,iCAAiC,CAAC;MAClE,IAAI9D,SAAS,CAACW,GAAG,CAAC,8BAA8B,CAAC,KAAK,KAAK,EAAE;QAC3Df,CAAC,CAAC,mDAAmD,CAAC,CAAC0D,WAAW,GAChEwC,IAAI;MACR,CAAC,MAAM;QACLlG,CAAC,CAAC,mDAAmD,CAAC,CAAC0D,WAAW,GAChE,IAAI,GAAGwC,IAAI;MACf;IACF;IACA;MACE,MAAMA,IAAI,GAAG3F,OAAO,CAAC2D,UAAU,CAC7B,uCACF,CAAC;MACD,IACE9D,SAAS,CAACW,GAAG,CAAC,8BAA8B,CAAC,CAACyD,OAAO,CAACe,QAAQ,CAAC,KAC/D,CAAC,CAAC,EACF;QACAvF,CAAC,CACC,yDACF,CAAC,CAAC0D,WAAW,GAAGwC,IAAI;MACtB,CAAC,MAAM;QACLlG,CAAC,CACC,yDACF,CAAC,CAAC0D,WAAW,GAAG,IAAI,GAAGwC,IAAI;MAC7B;IACF;EACF,CACF,CAAC;EAEDlG,CAAC,CAAC,aAAa,CAAC,CAACoD,gBAAgB,CAAC,QAAQ,EAAGC,KAAK,IAAK;IACrD,MAAM8C,UAAU,GAAG9C,KAAK,CAACC,MAAM;IAE/BjB,MAAM,CAACC,IAAI,CAACC,KAAK,CACf;MACEC,MAAM,EAAE,IAAI;MACZC,aAAa,EAAE;IACjB,CAAC,EACAH,IAAI,IAAK;MACR,MAAMiD,QAAQ,GAAG,IAAIC,GAAG,CAAClD,IAAI,CAAC,CAAC,CAAC,CAACmD,GAAG,CAAC,CAACF,QAAQ;MAC9C,QAAQY,UAAU,CAAC5C,KAAK;QACtB,KAAK,gBAAgB;UACnB1C,QAAQ,GAAGwB,MAAM,CAAC+D,OAAO,CAACC,MAAM,CAC9B,iCACF,CAAC;UACD;QACF,KAAK,yBAAyB;UAC5B,IACEjG,SAAS,CAACW,GAAG,CAAC,sBAAsB,CAAC,CAACyD,OAAO,CAACe,QAAQ,CAAC,KAAK,CAAC,CAAC,EAC9D;YACAnF,SAAS,CAACwF,wBAAwB,CAACL,QAAQ,CAAC;UAC9C,CAAC,MAAM;YACLnF,SAAS,CAACyF,6BAA6B,CAACN,QAAQ,CAAC;UACnD;UACA3E,MAAM,CAAC0F,KAAK,CAAC,CAAC;UACd;QACF,KAAK,wBAAwB;UAC3B,IACElG,SAAS,CAACW,GAAG,CAAC,qBAAqB,CAAC,CAACyD,OAAO,CAACe,QAAQ,CAAC,KAAK,CAAC,CAAC,EAC7D;YACAnF,SAAS,CAACmG,uBAAuB,CAAChB,QAAQ,CAAC;YAC3CtD,0BAA0B,CAAC,UAAU,CAAC;UACxC,CAAC,MAAM;YACL7B,SAAS,CAACoG,4BAA4B,CAACjB,QAAQ,CAAC;UAClD;UACA3E,MAAM,CAAC0F,KAAK,CAAC,CAAC;UACd;QACF,KAAK,6BAA6B;UAChC,IACElG,SAAS,CACNW,GAAG,CAAC,sBAAsB,CAAC,CAC3ByD,OAAO,CAAC3C,mBAAmB,CAAC,KAAK,CAAC,CAAC,EACtC;YACAzB,SAAS,CAACsF,wBAAwB,CAChC7D,mBAAmB,EACnB0D,QACF,CAAC;UACH,CAAC,MAAM;YACLnF,SAAS,CAACuF,6BAA6B,CAAC9D,mBAAmB,CAAC;UAC9D;UACAjB,MAAM,CAAC0F,KAAK,CAAC,CAAC;UACd;QACF,KAAK,4BAA4B;UAC/B,IACElG,SAAS,CACNW,GAAG,CAAC,qBAAqB,CAAC,CAC1ByD,OAAO,CAAC3C,mBAAmB,CAAC,KAAK,CAAC,CAAC,EACtC;YACAzB,SAAS,CAACqG,uBAAuB,CAC/B5E,mBAAmB,EACnB0D,QACF,CAAC;YACDtD,0BAA0B,CAAC,UAAU,CAAC;UACxC,CAAC,MAAM;YACL7B,SAAS,CAACsG,4BAA4B,CAAC7E,mBAAmB,CAAC;UAC7D;UACAjB,MAAM,CAAC0F,KAAK,CAAC,CAAC;UACd;QACF,KAAK,6BAA6B;UAChC,IAAIlG,SAAS,CAACW,GAAG,CAAC,6BAA6B,CAAC,KAAK,KAAK,EAAE;YAC1DX,SAAS,CAACwB,GAAG,CAAC,6BAA6B,EAAE,IAAI,CAAC;UACpD,CAAC,MAAM;YACLxB,SAAS,CAACwB,GAAG,CAAC,6BAA6B,EAAE,KAAK,CAAC;UACrD;UACAhB,MAAM,CAAC0F,KAAK,CAAC,CAAC;UACd;QACF,KAAK,8BAA8B;UACjC,IAAIlG,SAAS,CAACW,GAAG,CAAC,8BAA8B,CAAC,KAAK,KAAK,EAAE;YAC3DX,SAAS,CAACwB,GAAG,CAAC,8BAA8B,EAAE,IAAI,CAAC;UACrD,CAAC,MAAM;YACLxB,SAAS,CAACwB,GAAG,CAAC,8BAA8B,EAAE,KAAK,CAAC;UACtD;UACAhB,MAAM,CAAC0F,KAAK,CAAC,CAAC;UACd;QACF,KAAK,oCAAoC;UACvC,IACElG,SAAS,CACNW,GAAG,CAAC,8BAA8B,CAAC,CACnCyD,OAAO,CAACe,QAAQ,CAAC,KAAK,CAAC,CAAC,EAC3B;YACAnF,SAAS,CAAC0F,8BAA8B,CAACP,QAAQ,CAAC;UACpD,CAAC,MAAM;YACLnF,SAAS,CAAC2F,mCAAmC,CAACR,QAAQ,CAAC;UACzD;UACA3E,MAAM,CAAC0F,KAAK,CAAC,CAAC;UACd;QACF,KAAK,oCAAoC;UACvC,IACElG,SAAS,CACNW,GAAG,CAAC,8BAA8B,CAAC,CACnCyD,OAAO,CAAC3C,mBAAmB,CAAC,KAAK,CAAC,CAAC,EACtC;YACAzB,SAAS,CAAC4F,8BAA8B,CAACnE,mBAAmB,CAAC;UAC/D,CAAC,MAAM;YACLzB,SAAS,CAAC6F,mCAAmC,CAC3CpE,mBACF,CAAC;UACH;UACAjB,MAAM,CAAC0F,KAAK,CAAC,CAAC;UACd;QACF,KAAK,yBAAyB;UAC5BjE,MAAM,CAACC,IAAI,CAACC,KAAK,CACf;YACEC,MAAM,EAAE,IAAI;YACZC,aAAa,EAAE;UACjB,CAAC,EACAH,IAAI,IAAK;YACR,IAAIN,4BAA4B,KAAK,QAAQ,EAAE;cAC7C2E,UAAU,CACP,2DAA0DC,kBAAkB,CAC3EtE,IAAI,CAAC,CAAC,CAAC,CAACmD,GACV,CAAE,SAAQrF,SAAS,CAACW,GAAG,CAAC,gBAAgB,CAAC,CAAC8F,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAE,EAC1D,CAAC;YACH,CAAC,MAAM;cACL;cACAF,UAAU,CACP,6CAA4CvG,SAAS,CAACW,GAAG,CACxD,gBACF,CAAE,MAAK6F,kBAAkB,CAACtE,IAAI,CAAC,CAAC,CAAC,CAACmD,GAAG,CAAE,EACzC,CAAC;YACH;UACF,CACF,CAAC;UACD;QACF,KAAK,aAAa;UAChBkB,UAAU,CAACtE,MAAM,CAAC+D,OAAO,CAACC,MAAM,CAAC,uBAAuB,CAAC,CAAC;UAC1D;QACF,KAAK,QAAQ;UACXM,UAAU,CACRtE,MAAM,CAAC+D,OAAO,CAACC,MAAM,CAAC,gCAAgC,CACxD,CAAC;UACD;QACF,KAAK,cAAc;UACjBM,UAAU,CAAC,oCAAoC,CAAC;UAChD;QACF;UACE;MACJ;MACAR,UAAU,CAAC5C,KAAK,GAAG,SAAS;IAC9B,CACF,CAAC;EACH,CAAC,CAAC;EAEFlB,MAAM,CAACC,IAAI,CAACC,KAAK,CACf;IACEC,MAAM,EAAE,IAAI;IACZC,aAAa,EAAE;EACjB,CAAC,EACAH,IAAI,IAAK;IACR,MAAMiD,QAAQ,GAAG,IAAIC,GAAG,CAAClD,IAAI,CAAC,CAAC,CAAC,CAACmD,GAAG,CAAC,CAACF,QAAQ;IAC9C,MAAMuB,SAAS,GAAGvG,OAAO,CAAC2D,UAAU,CAAC,mBAAmB,CAAC;IACzD,IAAI9D,SAAS,CAACW,GAAG,CAAC,qBAAqB,CAAC,CAACyD,OAAO,CAACe,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE;MACjEvF,CAAC,CAAC,qCAAqC,CAAC,CAAC0D,WAAW,GAAGoD,SAAS;IAClE,CAAC,MAAM;MACL9G,CAAC,CAAC,qCAAqC,CAAC,CAAC0D,WAAW,GAClD,IAAI,GAAGoD,SAAS;IACpB;IAEA,MAAMC,UAAU,GAAGxG,OAAO,CAAC2D,UAAU,CAAC,oBAAoB,CAAC;IAC3D,IAAI9D,SAAS,CAACW,GAAG,CAAC,sBAAsB,CAAC,CAACyD,OAAO,CAACe,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE;MAClEvF,CAAC,CAAC,sCAAsC,CAAC,CAAC0D,WAAW,GAAGqD,UAAU;IACpE,CAAC,MAAM;MACL/G,CAAC,CAAC,sCAAsC,CAAC,CAAC0D,WAAW,GACnD,IAAI,GAAGqD,UAAU;IACrB;IAEA/G,CAAC,CAAC,6BAA6B,CAAC,CAACgH,SAAS,IAAI,WAAW;EAC3D,CACF,CAAC;AACH,CAAC,CAAC","ignoreList":[]}